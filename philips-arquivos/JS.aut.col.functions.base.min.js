/* DESKTOP-TON - 31/07/2020 14:05:43 GMT */
"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});"function"!=typeof String.prototype.capitalize&&(String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1).toLowerCase()});"function"!==typeof String.prototype.replaceSpecialChars&&(String.prototype.replaceSpecialChars=function(){var b={"ç":"c","æ":"ae","œ":"oe","á":"a","é":"e","í":"i","ó":"o","ú":"u","à":"a","è":"e","ì":"i","ò":"o","ù":"u","ä":"a","ë":"e","ï":"i","ö":"o","ü":"u","ÿ":"y","â":"a","ê":"e","î":"i","ô":"o","û":"u","å":"a","ã":"a","ø":"o","õ":"o",u:"u","Á":"A","É":"E","Í":"I","Ó":"O","Ú":"U","Ê":"E","Ô":"O","Ü":"U","Ã":"A","Õ":"O","À":"A","Ç":"C"};return this.replace(/[\u00e0-\u00fa]/gi,function(a){return"undefined"!=typeof b[a]?b[a]:a})});Array.prototype.indexOf||(Array.prototype.indexOf=function(d,e){var a;if(null==this)throw new TypeError('"this" is null or not defined');var c=Object(this),b=c.length>>>0;if(0===b)return-1;a=+e||0;Infinity===Math.abs(a)&&(a=0);if(a>=b)return-1;for(a=Math.max(0<=a?a:b-Math.abs(a),0);a<b;){if(a in c&&c[a]===d)return a;a++}return-1});try{var Product={run:function(){},init:function(){Product.modalProductCustom()},ajaxStop:function(){},windowOnload:function(){},addCustomButton:function(){if($("#BuyButton .clonedBt").length>0){$('<a class="custom-button">Personalizar Produto</a>').insertBefore($("#BuyButton .clonedBt"));return true}else{return setTimeout(function(){Product.addCustomButton()},100)}},getHtmlModal:function(url_img){return'<div class="modal-custom-product">                    <div class="container">                        <div class="custom-product">                            <div class="container-img">                                <div class="img">                                    <img src="'+url_img+'" />                                    <div class="container-custom-text"></div>                                    <div class="container-custom-text-mirror"></div>                                </div>                            </div>                            <form >                                <label>Texto: </label>                                <input type="text" class="text-custom" placeholder="Digite o texto desejado"/>                                                                <label>Escolha o tipo de fonte: </label>                                <div class="custom-select" style="width:200px;">                                    <select>                                        <option value="0">Select car:</option>                                        <option value="1">Audi</option>                                        <option value="2">BMW</option>                                        <option value="3">Citroen</option>                                    </select>                                </div>                                                                <label>Desenho: </label>                                <div class="custom-select" style="width:200px;">                                    <select>                                        <option value="0">Select car:</option>                                        <option value="1">Audi</option>                                        <option value="2">BMW</option>                                        <option value="3">Citroen</option>                                    </select>                                </div>                            </form>                            <svg xmlns="http://www.w3.org/2000/svg" width="16"height="16" viewBox="0 0 16 16" fill="none"><path d="M11.0327 8L15.5814 3.45136C16.1395 2.89318 16.1395 1.98818 15.5814 1.42955L14.5705 0.418636C14.0123 -0.139545 13.1073 -0.139545 12.5486 0.418636L8 4.96727L3.45136 0.418636C2.89318 -0.139545 1.98818 -0.139545 1.42955 0.418636L0.418636 1.42955C-0.139545 1.98773 -0.139545 2.89273 0.418636 3.45136L4.96727 8L0.418636 12.5486C-0.139545 13.1068 -0.139545 14.0118 0.418636 14.5705L1.42955 15.5814C1.98773 16.1395 2.89318 16.1395 3.45136 15.5814L8 11.0327L12.5486 15.5814C13.1068 16.1395 14.0123 16.1395 14.5705 15.5814L15.5814 14.5705C16.1395 14.0123 16.1395 13.1073 15.5814 12.5486L11.0327 8Z" fill="#0066A1"></path></svg>                        </div>                    </div>                </div>'},getPositionContainerCustomtext:function(field_personalize,size_img,natual_size_img){function getProportion(n,size_img,natual_size_img,d){var proporcao_img=size_img[d]/natual_size_img[d];return n*proporcao_img}var separate=field_personalize.split(","),x=[separate[0],separate[2]],y=[separate[1],separate[3]];return{width:getProportion(x[1],size_img,natual_size_img,"x")-getProportion(x[0],size_img,natual_size_img,"x")+"px",height:getProportion(y[1],size_img,natual_size_img,"y")-getProportion(y[0],size_img,natual_size_img,"y")+"px",left:getProportion(x[0],size_img,natual_size_img,"x")+"px",top:getProportion(y[0],size_img,natual_size_img,"y")+"px","font-size":(getProportion(y[1],size_img,natual_size_img,"y")-getProportion(y[0],size_img,natual_size_img,"y"))/2+"px"}},modalProductCustom:function(){if($("#contEspec .name-field.Personalize").length>0){$("body").addClass("custom-product");if(Product.addCustomButton()){$.ajax({url:"https://philips.vtexcommercestable.com.br/api/catalog_system/pub/products/search?fq=productId:"+skuJson.productId}).done(function(product){var field_personalize="251,218,723,333";$("body").append(Product.getHtmlModal(product[0].items[0].images[0].imageUrl));Product.customComboBox();Product.initActionModal(field_personalize)})}}},initActionModal:function(field_personalize){$("body .custom-button").click(function(e){$(".modal-custom-product").css("display","flex");var natual_size_img={x:$(".modal-custom-product img")[0].naturalWidth,y:$(".modal-custom-product img")[0].naturalHeight},size_img={x:$(".modal-custom-product img").width(),y:$(".modal-custom-product img").height()};$("body .modal-custom-product").find(".container-custom-text").css(Product.getPositionContainerCustomtext(field_personalize,size_img,natual_size_img));$("body .modal-custom-product").find(".container-custom-text-mirror").css("font-size",$("body .modal-custom-product").find(".container-custom-text").css("font-size"));Product.initActionFieldCustomText()})},initActionFieldCustomText:function(){$("body .modal-custom-product form input.text-custom").keyup(function(){_this=this;$(".modal-custom-product .container-custom-text-mirror").html($(_this).val());if($(".container-custom-text-mirror").width()<$(".container-custom-text").width()){$(".modal-custom-product .container-custom-text").html($(_this).val())}})},customComboBox:function(){var x,i,j,l,ll,selElmnt,a,b,c;x=document.getElementsByClassName("custom-select");l=x.length;for(i=0;i<l;i++){selElmnt=x[i].getElementsByTagName("select")[0];ll=selElmnt.length;a=document.createElement("DIV");a.setAttribute("class","select-selected");a.innerHTML=selElmnt.options[selElmnt.selectedIndex].innerHTML;x[i].appendChild(a);b=document.createElement("DIV");b.setAttribute("class","select-items select-hide");for(j=1;j<ll;j++){c=document.createElement("DIV");c.innerHTML=selElmnt.options[j].innerHTML;c.addEventListener("click",function(e){var y,i,k,s,h,sl,yl;s=this.parentNode.parentNode.getElementsByTagName("select")[0];sl=s.length;h=this.parentNode.previousSibling;for(i=0;i<sl;i++){if(s.options[i].innerHTML==this.innerHTML){s.selectedIndex=i;h.innerHTML=this.innerHTML;y=this.parentNode.getElementsByClassName("same-as-selected");yl=y.length;for(k=0;k<yl;k++){y[k].removeAttribute("class")}this.setAttribute("class","same-as-selected");break}}h.click()});b.appendChild(c)}x[i].appendChild(b);a.addEventListener("click",function(e){e.stopPropagation();closeAllSelect(this);this.nextSibling.classList.toggle("select-hide");this.classList.toggle("select-arrow-active")})}function closeAllSelect(elmnt){var x,y,i,xl,yl,arrNo=[];x=document.getElementsByClassName("select-items");y=document.getElementsByClassName("select-selected");xl=x.length;yl=y.length;for(i=0;i<yl;i++){if(elmnt==y[i]){arrNo.push(i)}else{y[i].classList.remove("select-arrow-active")}}for(i=0;i<xl;i++){if(arrNo.indexOf(i)){x[i].classList.add("select-hide")}}}document.addEventListener("click",closeAllSelect)}}}catch(e){typeof console!=="undefined"&&typeof console.error==="function"&&console.error("Houve um erro nos objetos. Detalhes: "+e.message)}try{(function(){var body,ajaxStop,windowLoad;windowLoad=function(){if(body.is(".produto"))Product.windowOnload()};ajaxStop=function(){if(body.is(".produto"))Product.ajaxStop()};$(function(){body=$(document.body);if(body.is(".produto"))Product.init();$(document).ajaxStop(ajaxStop);$(window).load(windowLoad);body.addClass("jsFullLoaded")});if(location.pathname.substr(location.pathname.length-2,2).toLowerCase()=="/p")Product.run()})()}catch(e){typeof console!=="undefined"&&typeof console.error==="function"&&$("body").addClass("jsFullLoaded jsFullLoadedError")&&console.error("Houve um erro ao iniciar os objetos. Detalhes: "+e.message)}