{"version":3,"sources":["webpack:///./src/js/general/common/b8one.ensure.js","webpack:///./src/js/store/mobile/address/index.js","webpack:///./src/js/general/common/b8one.helper.js","webpack:///./src/js/general/common/b8one.logger.js","webpack:///./src/js/general/services/b8one.cartService.js","webpack:///./src/js/general/services/b8one.httpClient.js"],"names":["Ensure","value","undefined","input","this","isUndefined","checkValidity","object","props","getMissingProps","length","missingProps","forEach","prop","push","Address","setHandledButtonSave","setHandledFormsChange","cartService","CartService","isToAddressUnknown","slider","sliderAddressFooter","init","initSliders","setHandledWindowResize","setHandledButtonNext","setHandledButtonsBack","eventHandlerBinds","setHandledButtonUnknownAddressClick","getAddressData","tns","container","items","slideBy","autoplay","controls","center","nav","loop","touch","autoWidth","window","addEventListener","event","refresh","buttonNext","document","querySelector","fromAddressForm","e","validateForm","goTo","buttonsSave","querySelectorAll","buttonSave","dispatchEvent","initSaveCustomDataEvent","saveData","endSaveCustomDataEvent","classList","add","validateForms","remove","location","assign","fieldsWithDefaultData","to_address_name","to_address_number","to_address_county","forms","filter","form","contains","reduce","obj1","addressFields","elements","type","id","obj2","checked","hasOwnProperty","key","orderInfoAddressFields","to_address","to_city","to_state","to_address_complement","to_address_zipcode","Object","keys","obj","addressKEY","addressValue","addressType","getAddressFieldsForOrderInfo","address","getAddressForOrderForm","needStorageInputs","fromHomeTypeValue","toHomeTypeValue","orderInfoCommonFields","current_step","user_need_storage","home_type","from_home_type","to_home_type","orderInfoFields","orderInfoFieldsArray","entries","arr","includes","orderInfoFieldsForCustomData","Promise","all","updateCheckoutAddress","setMultipleCustomDataFields","console","log","getCurrent","customData","storeItemsChangeCheckboxs","customApps","customApp","fields","toLowerCase","item","getElementById","target","handledFormChange","required","map","noValidate","buttonUnknownAddress","toggle","addressStreetNameElement","addressZipcodeElement","addressCountyElement","addressNumberElement","parentElement","element","toggleAttribute","Helper","_logger","Logger","language","navigator","userLanguage","currency","currencyLocale","minimumFractionDigits","elem","selector","Element","prototype","matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","s","ownerDocument","i","parents","parentNode","serialized","field","name","disabled","n","options","selected","encodeURIComponent","join","data","Math","random","toString","substr","cname","cvalue","exdays","date","Date","setTime","getTime","expires","toUTCString","cookie","decodeURIComponent","split","heightViewport","innerHeight","documentElement","clientHeight","widthViewport","innerWidth","clientWidth","getBoundingClientRect","top","right","bottom","left","str","mapAccents","a","o","u","c","pattern","replace","RegExp","toFixed","max","Intl","NumberFormat","style","format","logName","message","errorObj","error","info","warn","_VTEX_API_ENDPOINT","_httpClient","HttpClient","get","skuId","productQuantity","sellerId","current","indexFound","findIndex","x","parseInt","quantity","endpointUrl","orderFormId","payload","orderItems","seller","patch","skus","vtexjs","checkout","getOrderForm","skusCustomProducts","getCustomProducts","sku","isCustom","skuToIgnore","indexToRemove","indexList","index","removeMoreProducts","response","productsToAdd","productId","productsToUpdate","sameSku","diffQuantity","productsToReplaceSKU","itemsList","oldSKU","newSKU","productsToRemove","updateItems","replaceSKU","removeItems","addToCart","customProducts","newQuantity","customProductItem","currentCustomProduct","customProductQuantity","values","itemIndex","expectedOrderFormSections","noSplitItem","itemsIndex","updateProducts","postalCode","country","calculateShipping","orderForm","simulateShipping","orderFormSimulated","logisticsInfo","shippingData","sendAttachment","availableAddresses","selectedAddresses","appName","endpoint","put","appFieldName","appFieldValue","delete","_execute","httpVerb","header","method","headers","accept","JSON","stringify","fetch","then","validateResponse","parseResponseToJson","catch","ok","json","resolve","reject","Error","statusText"],"mappings":"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","file":"js/b8one.mobile.address.js","sourcesContent":["/**\r\n * Ensure Abstraction class\r\n */\r\nclass Ensure {\r\n  /**\r\n   * Ensure value is Undefined\r\n   * @param {*} value Value to be validated\r\n   * @return {boolean}\r\n   */\r\n  static isUndefined(value = undefined) {\r\n    return typeof value === 'undefined' ||\r\n      value === null ||\r\n      value === '' ||\r\n      value === {} ||\r\n      value === [];\r\n    // || JSON.stringify(value) === JSON.stringify({});\r\n  }\r\n\r\n  /**\r\n   * Ensure Input validity\r\n   * @param {*} input to validate\r\n   * @return {boolean} true if is valid\r\n   */\r\n  static isInputValid(input) {\r\n    return !this.isUndefined(input) && input.checkValidity();\r\n  }\r\n\r\n  /**\r\n   * Verify if object has properties\r\n   * @param {Object} object - Object to be verified\r\n   * @param {Array} props - properties to search on object\r\n   * @return {Boolean} True if object has all properties\r\n   */\r\n  static hasProps(object, props) {\r\n    const missingPropsResult = this.getMissingProps(object, props);\r\n    return missingPropsResult.length <= 0;\r\n  }\r\n\r\n  /**\r\n   * Get Object missing properties\r\n   * @param {Object} object - Object to be verified\r\n   * @param {Array} props - properties to search on object\r\n   * @return {Array} missing properties\r\n   */\r\n  static getMissingProps(object, props) {\r\n    let missingProps = [];\r\n    [...props].forEach((prop) => {\r\n      const result = prop in object;\r\n      if (!result) {\r\n        missingProps.push(prop);\r\n      }\r\n    });\r\n\r\n    return missingProps;\r\n  }\r\n}\r\n\r\nexport default Ensure;\r\n","// Dependencies\r\nimport { tns } from 'tiny-slider/src/tiny-slider';\r\n\r\n// Services\r\nimport CartService from 'Services/b8one.cartService.js';\r\n\r\nclass Address {\r\n  constructor() {\r\n    this.cartService = new CartService();\r\n    this.isToAddressUnknown = false;\r\n\r\n    this.slider = null;\r\n    this.sliderAddressFooter = null;\r\n\r\n    this.init();\r\n  }\r\n\r\n  async init() {\r\n    this.initSliders();\r\n    this.setHandledWindowResize();\r\n    this.setHandledButtonNext();\r\n    this.setHandledButtonsBack();\r\n    this.eventHandlerBinds();\r\n    this.setHandledButtonUnknownAddressClick();\r\n\r\n    await this.getAddressData();\r\n  }\r\n\r\n  eventHandlerBinds = () => {\r\n    this.setHandledButtonSave();\r\n    this.setHandledFormsChange();\r\n  };\r\n\r\n  initSliders() {\r\n    this.slider = tns({\r\n      container: '.address__wrapper',\r\n      items: 1,\r\n      slideBy: 'page',\r\n      autoplay: false,\r\n      controls: false,\r\n      center: true,\r\n      nav: false,\r\n      loop: false,\r\n      touch: false,\r\n      autoWidth: true,\r\n    });\r\n\r\n    this.sliderAddressFooter = tns({\r\n      container: '.address__footer',\r\n      items: 1,\r\n      slideBy: 'page',\r\n      autoplay: false,\r\n      controls: false,\r\n      center: false,\r\n      nav: false,\r\n      loop: false,\r\n      touch: false,\r\n      autoWidth: true,\r\n    });\r\n  }\r\n\r\n  setHandledWindowResize() {\r\n    window.addEventListener('resize', event => {\r\n      this.slider.refresh();\r\n    });\r\n  }\r\n\r\n  setHandledButtonNext() {\r\n    const buttonNext = document.querySelector('.js-button-next');\r\n    const fromAddressForm = document.querySelector('.js-address-from');\r\n\r\n    buttonNext.addEventListener('click', e => {\r\n      if (this.validateForm(fromAddressForm)) {\r\n        this.slider.goTo('next');\r\n        this.sliderAddressFooter.goTo('next');\r\n      }\r\n    });\r\n  }\r\n\r\n  setHandledButtonSave() {\r\n    const buttonsSave = [...document.querySelectorAll('.fa-save')];\r\n    const buttonNext = document.querySelector('.js-button-submit');\r\n\r\n    buttonsSave.forEach(buttonSave => {\r\n      buttonSave.addEventListener('click', async e => {\r\n        document.dispatchEvent(window.initSaveCustomDataEvent);\r\n\r\n        await this.saveData();\r\n\r\n        document.dispatchEvent(window.endSaveCustomDataEvent);\r\n      });\r\n    });\r\n\r\n    buttonNext.addEventListener('click', async e => {\r\n      buttonNext.classList.add('js-loading');\r\n\r\n      await this.saveData();\r\n\r\n      if (this.validateForms()) {\r\n        buttonNext.classList.remove('js-loading');\r\n        window.location.assign('/seguro-info');\r\n      }\r\n\r\n      buttonNext.classList.remove('js-loading');\r\n    });\r\n  }\r\n\r\n  setHandledButtonsBack() {\r\n    const [firstBackButton, lastBackButton] = document.querySelectorAll(\r\n      '.actions__back-button'\r\n    );\r\n\r\n    lastBackButton.addEventListener('click', e => {\r\n      this.slider.goTo('prev');\r\n      this.sliderAddressFooter.goTo('prev');\r\n    });\r\n  }\r\n\r\n  getAddressFieldsForOrderInfo() {\r\n    const fieldsWithDefaultData = {\r\n      to_address_name: 'Sem Endereço',\r\n      to_address_number: 'Sem Numero',\r\n      to_address_county: 'Sem Bairro',\r\n    };\r\n\r\n    const orderInfoAddressFields = [...document.forms]\r\n      .filter(form => form.classList.contains('address__form'))\r\n      .reduce((obj1, form) => {\r\n        const addressFields = [...form.elements]\r\n          .filter(({ type, classList, value, id }) => {\r\n            if (classList.contains('js-address-complement-to') && value === '')\r\n              return false;\r\n\r\n            if (!id) return false;\r\n\r\n            return (\r\n              type !== 'button' && !classList.contains('js-store-items-change')\r\n            );\r\n          })\r\n          .reduce((obj2, { id, value, checked }) => {\r\n            if (\r\n              this.isToAddressUnknown &&\r\n              fieldsWithDefaultData.hasOwnProperty(id)\r\n            ) {\r\n              value = fieldsWithDefaultData[id];\r\n            }\r\n\r\n            return {\r\n              ...obj2,\r\n              [id]: checked ? checked : value,\r\n            };\r\n          }, {});\r\n\r\n        const key = form.classList.contains('js-address-from')\r\n          ? 'from_address'\r\n          : 'to_address';\r\n\r\n        return {\r\n          ...obj1,\r\n          [key]: addressFields,\r\n        };\r\n      }, {});\r\n\r\n    return orderInfoAddressFields;\r\n  }\r\n\r\n  getAddressForOrderForm(orderInfoAddressFields) {\r\n    const { to_address } = orderInfoAddressFields;\r\n\r\n    const addressFields = {\r\n      to_city: 'city',\r\n      to_state: 'state',\r\n      to_address_name: 'street',\r\n      to_address_complement: 'complement',\r\n      to_address_county: 'neighborhood',\r\n      to_address_number: 'number',\r\n      to_address_zipcode: 'postalCode',\r\n    };\r\n\r\n    const address = Object.keys(to_address)\r\n      .filter(key => addressFields.hasOwnProperty(key))\r\n      .reduce(\r\n        (obj, key) => {\r\n          const addressKEY = addressFields[key];\r\n          const addressValue = to_address[key];\r\n\r\n          return { ...obj, [addressKEY]: addressValue };\r\n        },\r\n        {\r\n          addressType: 'residential',\r\n        }\r\n      );\r\n\r\n    return address;\r\n  }\r\n\r\n  async saveData() {\r\n    try {\r\n      const orderInfoAddressFields = this.getAddressFieldsForOrderInfo();\r\n      const address = this.getAddressForOrderForm(orderInfoAddressFields);\r\n\r\n      const needStorageInputs = [\r\n        ...document.querySelectorAll('.js-store-items-change'),\r\n      ];\r\n\r\n      const fromHomeTypeValue = document.querySelector(\r\n        '.js-address-from-home-type'\r\n      );\r\n      const toHomeTypeValue = document.querySelector(\r\n        '.js-address-to-home-type'\r\n      );\r\n\r\n      const orderInfoCommonFields = {\r\n        current_step: 'address',\r\n        user_need_storage: needStorageInputs[0].checked,\r\n        home_type: fromHomeTypeValue.value,\r\n        from_home_type: fromHomeTypeValue.value,\r\n        to_home_type: toHomeTypeValue.value,\r\n      };\r\n\r\n      const orderInfoFields = {\r\n        ...orderInfoCommonFields,\r\n        ...orderInfoAddressFields,\r\n      };\r\n\r\n      const orderInfoFieldsArray = Object.entries(orderInfoFields)\r\n        .reduce((arr, [key, value]) => {\r\n          if (['from_address', 'to_address'].includes(key)) {\r\n            arr = [...arr, ...Object.entries(value)];\r\n          } else {\r\n            arr = [...arr, [key, value]];\r\n          }\r\n\r\n          return arr;\r\n        }, [])\r\n        .filter(([key, value]) => value !== '');\r\n\r\n      const orderInfoFieldsForCustomData = orderInfoFieldsArray.reduce(\r\n        (obj, [key, value]) => ({ ...obj, [key]: value }),\r\n        {}\r\n      );\r\n\r\n      await Promise.all([\r\n        this.cartService.updateCheckoutAddress(address),\r\n        this.cartService.setMultipleCustomDataFields(\r\n          'orderinfo',\r\n          orderInfoFieldsForCustomData\r\n        ),\r\n      ]);\r\n    } catch (err) {\r\n      console.log(err);\r\n      return;\r\n    }\r\n  }\r\n\r\n  async getAddressData() {\r\n    const { customData } = await this.cartService.getCurrent();\r\n\r\n    if (!customData) return;\r\n\r\n    const storeItemsChangeCheckboxs = [\r\n      ...document.querySelectorAll('.js-store-items-change'),\r\n    ];\r\n\r\n    customData.customApps\r\n      .filter(customApp => customApp.id === 'orderinfo')\r\n      .forEach(customApp => {\r\n        Object.entries(customApp.fields).forEach(([id, value]) => {\r\n          if (id === 'user_need_storage') {\r\n            if (value.toLowerCase() == 'true') {\r\n              storeItemsChangeCheckboxs.forEach(item => (item.checked = value));\r\n            }\r\n          } else if (id.includes('from_') || id.includes('to_')) {\r\n            const inputElement = document.getElementById(id);\r\n\r\n            inputElement.value = value;\r\n          }\r\n        });\r\n      });\r\n  }\r\n\r\n  handledFormChange(form) {\r\n    form.addEventListener('change', ({ target }) => {\r\n      target.classList.remove('address__input--invalid');\r\n    });\r\n  }\r\n\r\n  setHandledFormsChange() {\r\n    [...document.forms].forEach(form => this.handledFormChange(form));\r\n  }\r\n\r\n  validateForm(form) {\r\n    const inputs = [...form.elements]\r\n      .filter(input => input.value === '' && input.required)\r\n      .map(input => {\r\n        input.classList.add('address__input--invalid');\r\n\r\n        form.noValidate = true;\r\n\r\n        return input;\r\n      });\r\n\r\n    if (inputs.length === 0) {\r\n      form.noValidate = false;\r\n    }\r\n\r\n    const validity = form.checkValidity() && !form.noValidate;\r\n\r\n    return validity;\r\n  }\r\n\r\n  validateForms() {\r\n    const validity = ![...document.forms]\r\n      .map(form => {\r\n        return this.validateForm(form);\r\n      })\r\n      .includes(false);\r\n\r\n    return validity;\r\n  }\r\n\r\n  setHandledButtonUnknownAddressClick() {\r\n    const buttonUnknownAddress = document.querySelector(\r\n      '.js-address-to .address__button'\r\n    );\r\n\r\n    buttonUnknownAddress.addEventListener('click', e => {\r\n      buttonUnknownAddress.classList.toggle('address__button--mini-active');\r\n\r\n      this.isToAddressUnknown = !this.isToAddressUnknown;\r\n\r\n      const addressStreetNameElement = document.getElementById(\r\n        'to_address_name'\r\n      );\r\n      const addressZipcodeElement = document.getElementById(\r\n        'to_address_zipcode'\r\n      );\r\n      const addressCountyElement = document.getElementById('to_address_county');\r\n      const addressNumberElement = document.getElementById('to_address_number');\r\n\r\n      [\r\n        addressStreetNameElement,\r\n        addressCountyElement,\r\n        addressNumberElement,\r\n        addressZipcodeElement,\r\n      ].forEach(({ parentElement }) => {\r\n        parentElement.classList.toggle('address__field--required');\r\n      });\r\n\r\n      [\r\n        addressStreetNameElement,\r\n        addressCountyElement,\r\n        addressNumberElement,\r\n        addressZipcodeElement,\r\n      ].forEach(element => {\r\n        element.toggleAttribute('required');\r\n        element.toggleAttribute('disabled');\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', e => {\r\n  new Address();\r\n});\r\n","/* eslint-disable max-len */\r\nimport { Logger } from './';\r\n\r\n/**\r\n * Helper Abstraction class\r\n */\r\nclass Helper {\r\n  /**\r\n   * Helper constructor\r\n   * @param {*} props\r\n   */\r\n  constructor(props) {\r\n    this._logger = new Logger('Ensure');\r\n    this.props = props || {\r\n      language: navigator.language || navigator.userLanguage,\r\n      currency: 'BRL',\r\n      currencyLocale: 'pt-br',\r\n      minimumFractionDigits: 2,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * format currency\r\n   * @param {*} value\r\n   * @param {*} minimumFractionDigits\r\n   * @return {*}\r\n   */\r\n  formatPrice(value) {\r\n    value = value / 100;\r\n    value = (value * 1).toFixed(\r\n      Math.max(0, ~~this.props.minimumFractionDigits)\r\n    );\r\n\r\n    return new Intl.NumberFormat(this.props.currencyLocale, {\r\n      style: 'currency',\r\n      currency: this.props.currency,\r\n      minimumFractionDigits: this.props.minimumFractionDigits,\r\n    }).format(value);\r\n  }\r\n\r\n  static getParents(elem, selector) {\r\n    // Element.matches() polyfill\r\n    if (!Element.prototype.matches) {\r\n      Element.prototype.matches =\r\n        Element.prototype.matchesSelector ||\r\n        Element.prototype.mozMatchesSelector ||\r\n        Element.prototype.msMatchesSelector ||\r\n        Element.prototype.oMatchesSelector ||\r\n        Element.prototype.webkitMatchesSelector ||\r\n        function(s) {\r\n          let matches = (this.document || this.ownerDocument).querySelectorAll(\r\n              s\r\n            ),\r\n            i = matches.length;\r\n\r\n          while (--i >= 0 && matches.item(i) !== this) {}\r\n\r\n          return i > -1;\r\n        };\r\n    }\r\n\r\n    // Set up a parent array\r\n    let parents = [];\r\n\r\n    // Push each parent element to the array\r\n    for (; elem && elem !== document; elem = elem.parentNode) {\r\n      if (selector) {\r\n        if (elem.matches(selector)) {\r\n          parents.push(elem);\r\n        }\r\n\r\n        continue;\r\n      }\r\n\r\n      parents.push(elem);\r\n    }\r\n\r\n    // Return our parent array\r\n    return parents;\r\n  }\r\n\r\n  static serializeForm(form) {\r\n    // Setup our serialized data\r\n    let serialized = [];\r\n\r\n    // Loop through each field in the form\r\n    for (let i = 0; i < form.elements.length; i++) {\r\n      let field = form.elements[i];\r\n\r\n      // Don't serialize fields without a name, submits, buttons, file and reset inputs, and disabled fields\r\n      if (\r\n        !field.name ||\r\n        field.disabled ||\r\n        field.type === 'file' ||\r\n        field.type === 'reset' ||\r\n        field.type === 'submit' ||\r\n        field.type === 'button'\r\n      )\r\n        continue;\r\n\r\n      // If a multi-select, get all selections\r\n      if (field.type === 'select-multiple') {\r\n        for (let n = 0; n < field.options.length; n++) {\r\n          if (!field.options[n].selected) continue;\r\n\r\n          serialized.push(\r\n            encodeURIComponent(field.name) +\r\n              '=' +\r\n              encodeURIComponent(field.options[n].value)\r\n          );\r\n        }\r\n      }\r\n\r\n      // Convert field data to a query string\r\n      else if (\r\n        (field.type !== 'checkbox' && field.type !== 'radio') ||\r\n        field.checked\r\n      ) {\r\n        serialized.push(\r\n          encodeURIComponent(field.name) + '=' + encodeURIComponent(field.value)\r\n        );\r\n      }\r\n    }\r\n\r\n    return serialized.join('&');\r\n  }\r\n\r\n  static getFormData(form) {\r\n    // Setup our serialized data\r\n    let data = {};\r\n\r\n    // Loop through each field in the form\r\n    for (let i = 0; i < form.elements.length; i++) {\r\n      let field = form.elements[i];\r\n\r\n      // Don't serialize fields without a name, submits, buttons, file and reset inputs, and disabled fields\r\n      if (\r\n        !field.name ||\r\n        field.disabled ||\r\n        field.type === 'file' ||\r\n        field.type === 'reset' ||\r\n        field.type === 'submit' ||\r\n        field.type === 'button'\r\n      )\r\n        continue;\r\n\r\n      // If a multi-select, get all selections\r\n      if (field.type === 'select-multiple') {\r\n        for (let n = 0; n < field.options.length; n++) {\r\n          if (!field.options[n].selected) continue;\r\n\r\n          data[field.name] = field.options[n].value;\r\n        }\r\n      }\r\n\r\n      // Convert field data to a query string\r\n      else if (\r\n        (field.type !== 'checkbox' && field.type !== 'radio') ||\r\n        field.checked\r\n      ) {\r\n        data[field.name] = field.value;\r\n      }\r\n    }\r\n\r\n    return data;\r\n  }\r\n\r\n  static getRandomID() {\r\n    // Generate unique IDs for use as pseudo-private/protected names.\r\n    // Similar in concept to\r\n    // <http://wiki.ecmascript.org/doku.php?id=strawman:names>.\r\n    //\r\n    // The goals of this function are twofold:\r\n    //\r\n    // * Provide a way to generate a string guaranteed to be unique when compared\r\n    //   to other strings generated by this function.\r\n    // * Make the string complex enough that it is highly unlikely to be\r\n    //   accidentally duplicated by hand (this is key if you're using `ID`\r\n    //   as a private/protected name on an object).\r\n    //\r\n    // Use:\r\n    //\r\n    //     var privateName = ID();\r\n    //     var o = { 'public': 'foo' };\r\n    //     o[privateName] = 'bar';\r\n\r\n    // Math.random should be unique because of its seeding algorithm.\r\n    // Convert it to base 36 (numbers + letters), and grab the first 9 characters\r\n    // after the decimal.\r\n\r\n    return (\r\n      '_' +\r\n      Math.random()\r\n        .toString(36)\r\n        .substr(2, 9)\r\n    );\r\n  }\r\n\r\n  static setCookie(cname, cvalue, exdays) {\r\n    const date = new Date();\r\n\r\n    date.setTime(date.getTime() + exdays * 24 * 60 * 60 * 1000);\r\n\r\n    const expires = 'expires=' + date.toUTCString();\r\n\r\n    document.cookie = `${cname}=${cvalue};${expires};path=/`;\r\n  }\r\n\r\n  static getCookie(cname) {\r\n    const decodedCookie = decodeURIComponent(document.cookie);\r\n\r\n    const cookie = decodedCookie\r\n      .split(';')\r\n      .filter(cookie => cookie.includes(cname))[0];\r\n\r\n    return cookie || '';\r\n  }\r\n\r\n  static isInViewport(element) {\r\n    const heightViewport =\r\n      window.innerHeight || document.documentElement.clientHeight;\r\n\r\n    const widthViewport =\r\n      window.innerWidth || document.documentElement.clientWidth;\r\n\r\n    const { top, right, bottom, left } = element.getBoundingClientRect();\r\n\r\n    return (\r\n      top >= 0 &&\r\n      left >= 0 &&\r\n      bottom <= heightViewport &&\r\n      right <= widthViewport\r\n    );\r\n  }\r\n\r\n  static removeAccents(str) {\r\n    const mapAccents = {\r\n      a: 'á|à|ã|â|À|Á|Ã|Â',\r\n      e: 'é|è|ê|É|È|Ê',\r\n      i: 'í|ì|î|Í|Ì|Î',\r\n      o: 'ó|ò|ô|õ|Ó|Ò|Ô|Õ',\r\n      u: 'ú|ù|û|ü|Ú|Ù|Û|Ü',\r\n      c: 'ç|Ç',\r\n      n: 'ñ|Ñ',\r\n    };\r\n\r\n    for (let pattern in mapAccents) {\r\n      str = str.replace(new RegExp(mapAccents[pattern], 'g'), pattern);\r\n    }\r\n\r\n    return str;\r\n  }\r\n}\r\n\r\nexport default Helper;\r\n","/* eslint no-console: 0 */\r\n\r\n/**\r\n * Logger Abstraction class\r\n */\r\nclass Logger {\r\n  /**\r\n   * Logger constructor\r\n   * @param {string} logName Application name to log\r\n   */\r\n  constructor(logName = 'B8ONE Logger Component') {\r\n    this.logName = logName;\r\n  }\r\n\r\n  /**\r\n   * Log error message\r\n   * @param {*} message - Message text\r\n   * @param {*} errorObj - Message object\r\n   */\r\n  error(message = '', errorObj = {}) {\r\n    console.error(message, errorObj);\r\n  }\r\n\r\n  /**\r\n   * Log information message\r\n   * @param {*} message - Message text\r\n   */\r\n  info(message = '') {\r\n    console.info(message);\r\n  }\r\n\r\n  /**\r\n   * Log warning message\r\n   * @param {*} message - Message text\r\n   */\r\n  warning(message = '') {\r\n    console.warn(this.logName, message);\r\n  }\r\n\r\n  /**\r\n   * Generic log\r\n   * @param {String} message - log's message\r\n   */\r\n  log(message = '') {\r\n    console.log(message);\r\n  }\r\n\r\n  /**\r\n   * Generic log\r\n   * @param {String} message - log's message\r\n   * @param {*} object - object to be logged\r\n   */\r\n  log(message = '', object = {}) {\r\n    console.log(message, object);\r\n  }\r\n}\r\n\r\nexport default Logger;\r\n","/* eslint-disable max-len */\r\n\r\nimport { Ensure, Logger } from '../common';\r\nimport HttpClient from './b8one.httpClient';\r\n\r\n/**\r\n * Cart Abstraction class\r\n */\r\nclass CartService {\r\n  /**\r\n   * Cart constructor\r\n   */\r\n  constructor() {\r\n    this._VTEX_API_ENDPOINT = '/api/checkout/pub/orderForm';\r\n\r\n    this._logger = new Logger('Cart service');\r\n    this._httpClient = new HttpClient();\r\n  }\r\n\r\n  /**\r\n   * Get current cart\r\n   * @return {*} Cart object\r\n   */\r\n  async getCurrent() {\r\n    return await this._httpClient.get(this._VTEX_API_ENDPOINT);\r\n  }\r\n\r\n  /**\r\n   * Add item to cart\r\n   * @param {*} skuId - Product sku Id (SKU)\r\n   * @param {*} productQuantity - Product Quantity\r\n   * @param {*} sellerId - Seller id\r\n   */\r\n  async add(skuId, productQuantity, sellerId = 1) {\r\n    // const payload = this._payloadFactory(skuId, productQuantity, sellerId);\r\n\r\n    if (!Ensure.isUndefined(skuId)) {\r\n      const current = await this.getCurrent();\r\n      const indexFound = current.items.findIndex(x => x.id === skuId);\r\n\r\n      if (indexFound > -1) {\r\n        productQuantity =\r\n          parseInt(productQuantity) +\r\n          parseInt(current.items[indexFound].quantity);\r\n      }\r\n\r\n      const endpointUrl = `${this._VTEX_API_ENDPOINT}/${current.orderFormId}/items`;\r\n\r\n      const payload = {\r\n        orderItems: [\r\n          {\r\n            seller: sellerId.toString(),\r\n            quantity: parseInt(productQuantity),\r\n            id: skuId.toString(),\r\n          },\r\n        ],\r\n      };\r\n\r\n      return this._httpClient.patch(endpointUrl, payload);\r\n    }\r\n  }\r\n\r\n  async checkoutCRUD(skus) {\r\n    let { items } = await window.vtexjs.checkout.getOrderForm();\r\n\r\n    const skusCustomProducts = this.getCustomProducts(skus);\r\n\r\n    skus = skus.filter(sku => !sku.isCustom);\r\n    skus = [...skus, ...skusCustomProducts];\r\n\r\n    const skuToIgnore = [19, 698, 25, 26];\r\n\r\n    const indexToRemove = items.reduce((indexList, item, index) => {\r\n      const customProductSKUs = [25, 26];\r\n\r\n      if (customProductSKUs.includes(parseInt(item.id))) {\r\n        return [...indexList, index];\r\n      }\r\n\r\n      return indexList;\r\n    }, []);\r\n\r\n    if (indexToRemove.length > 0) {\r\n      const response = await this.removeMoreProducts(indexToRemove);\r\n\r\n      response && (items = response.items);\r\n    }\r\n\r\n    const productsToAdd = skus\r\n      .filter(sku => sku.quantity > 0)\r\n      .filter(sku => {\r\n        let index = items.findIndex(\r\n          item => parseInt(item.productId) === parseInt(sku.productId)\r\n        );\r\n\r\n        return index === -1 && sku.quantity > 0;\r\n      })\r\n      .map(sku => ({\r\n        quantity: sku.quantity,\r\n        seller: 1,\r\n        id: sku.skuId || sku.id,\r\n      }));\r\n\r\n    console.log('productsToAdd', productsToAdd);\r\n\r\n    const productsToUpdate = skus\r\n      .filter(sku => sku.quantity > 0)\r\n      .filter(sku => {\r\n        const id = sku.skuId || sku.id;\r\n\r\n        let index = items.findIndex(item => parseInt(item.id) === parseInt(id));\r\n\r\n        if (index !== -1) {\r\n          const sameSku = parseInt(items[index].id) === parseInt(sku.id);\r\n          const diffQuantity =\r\n            parseInt(items[index].quantity) !== parseInt(sku.quantity);\r\n\r\n          return sameSku && diffQuantity && sku.quantity > 0;\r\n        }\r\n\r\n        return false;\r\n      })\r\n      .map(sku => {\r\n        const id = sku.skuId || sku.id;\r\n\r\n        let index = items.findIndex(item => parseInt(item.id) === parseInt(id));\r\n\r\n        return {\r\n          index,\r\n          quantity: sku.quantity,\r\n        };\r\n      });\r\n\r\n    console.log('productsToUpdate', productsToUpdate);\r\n\r\n    const productsToReplaceSKU = skus\r\n      .filter(\r\n        sku =>\r\n          sku.quantity > 0 &&\r\n          !skuToIgnore.includes(parseInt(sku.skuId || sku.id))\r\n      )\r\n      .filter(sku => {\r\n        const index = items.findIndex(\r\n          item => parseInt(item.productId) === parseInt(sku.productId)\r\n        );\r\n\r\n        if (index !== -1) {\r\n          const diffSku = parseInt(items[index].id) !== parseInt(sku.skuId);\r\n\r\n          return diffSku;\r\n        }\r\n\r\n        return false;\r\n      })\r\n      .map(sku => {\r\n        const index = items.findIndex(\r\n          item => parseInt(item.productId) === parseInt(sku.productId)\r\n        );\r\n\r\n        const oldSKU = {\r\n          index,\r\n          seller: 1,\r\n          quantity: 0,\r\n        };\r\n\r\n        const newSKU = {\r\n          seller: 1,\r\n          id: sku.skuId,\r\n          quantity: sku.quantity,\r\n        };\r\n\r\n        return [oldSKU, newSKU];\r\n      })\r\n      .reduce((itemsList, current) => {\r\n        const [oldSKU, newSKU] = current;\r\n\r\n        return [...itemsList, oldSKU, newSKU];\r\n      }, []);\r\n\r\n    console.log('productsToReplaceSKU', productsToReplaceSKU);\r\n\r\n    const productsToRemove = skus\r\n      .filter(sku => sku.quantity < 1)\r\n      .filter(sku => {\r\n        const id = sku.skuId || sku.id;\r\n\r\n        let index = items.findIndex(item => parseInt(item.id) === parseInt(id));\r\n\r\n        if (index !== -1) {\r\n          return sku.quantity == 0;\r\n        }\r\n\r\n        return false;\r\n      })\r\n      .map(sku => {\r\n        const id = sku.skuId || sku.id;\r\n\r\n        let index = items.findIndex(item => parseInt(item.id) === parseInt(id));\r\n\r\n        return {\r\n          index,\r\n          quantity: 0,\r\n        };\r\n      });\r\n\r\n    console.log('productsToRemove', productsToRemove);\r\n\r\n    if (productsToUpdate[0]) {\r\n      await window.vtexjs.checkout.updateItems(productsToUpdate, null, false);\r\n    }\r\n\r\n    if (productsToReplaceSKU[0]) {\r\n      await window.vtexjs.checkout.replaceSKU(productsToReplaceSKU);\r\n    }\r\n\r\n    if (productsToRemove[0]) {\r\n      await window.vtexjs.checkout.removeItems(productsToRemove);\r\n    }\r\n\r\n    if (productsToAdd[0]) {\r\n      await window.vtexjs.checkout.addToCart(productsToAdd, null);\r\n    }\r\n  }\r\n\r\n  getCustomProducts(skus) {\r\n    const customProducts = {};\r\n\r\n    skus\r\n      .filter(({ isCustom }) => isCustom === true)\r\n      .forEach(({ skuId, quantity, customProductItem }) => {\r\n        let currentCustomProduct = customProducts[skuId];\r\n\r\n        const customProductQuantity =\r\n          parseInt(customProductItem.quantity) * parseInt(quantity);\r\n\r\n        if (currentCustomProduct) {\r\n          const newQuantity =\r\n            parseInt(currentCustomProduct.quantity) + customProductQuantity;\r\n\r\n          currentCustomProduct = {\r\n            ...currentCustomProduct,\r\n            quantity: newQuantity,\r\n          };\r\n        } else {\r\n          currentCustomProduct = {\r\n            ...customProductItem,\r\n            quantity: customProductQuantity,\r\n            isCustom: true,\r\n          };\r\n        }\r\n\r\n        customProducts[skuId] = currentCustomProduct;\r\n      });\r\n\r\n    return Object.values(customProducts);\r\n  }\r\n\r\n  async getProductIndexInOrderForm(productId) {\r\n    const { items } = await this.getCurrent();\r\n\r\n    const index = items.findIndex(item => item.productId == productId);\r\n\r\n    if (index !== -1) return index;\r\n\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * Remove item to cart\r\n   * @param {JSON} itemIndex - Product item index to be removed\r\n   */\r\n  async remove(itemIndex) {\r\n    const current = await this.getCurrent();\r\n    const endpointUrl = `${this._VTEX_API_ENDPOINT}/${current.orderFormId}/items`;\r\n    const payload = {\r\n      orderItems: [\r\n        {\r\n          index: itemIndex,\r\n          quantity: 0,\r\n        },\r\n      ],\r\n      expectedOrderFormSections: ['items'],\r\n      noSplitItem: true,\r\n    };\r\n\r\n    await this._httpClient.patch(endpointUrl, payload);\r\n  }\r\n\r\n  /**\r\n   * Remove items of cart\r\n   * @param {Array} itemsIndex - Products items index to be removed\r\n   */\r\n  async removeMoreProducts(itemsIndex) {\r\n    const current = await this.getCurrent();\r\n    const endpointUrl = `${this._VTEX_API_ENDPOINT}/${current.orderFormId}/items`;\r\n    const payload = {\r\n      orderItems: itemsIndex.map(index => ({\r\n        index,\r\n        quantity: 0,\r\n      })),\r\n      expectedOrderFormSections: ['items'],\r\n      noSplitItem: true,\r\n    };\r\n\r\n    return await this._httpClient.patch(endpointUrl, payload);\r\n  }\r\n\r\n  async updateProduct(skuId, quantity, seller = 1) {\r\n    const newSKU = {\r\n      seller,\r\n      quantity,\r\n      id: skuId,\r\n    };\r\n\r\n    return await this.updateProducts([newSKU]);\r\n  }\r\n\r\n  async updateProducts(skus) {\r\n    const { items, orderFormId } = await this.getCurrent();\r\n\r\n    skus = skus\r\n      .map(({ id, quantity, seller }) => {\r\n        const index = items.findIndex(\r\n          item => parseInt(item.id) === parseInt(id)\r\n        );\r\n\r\n        return {\r\n          id,\r\n          index,\r\n          quantity,\r\n          seller: seller || 1,\r\n        };\r\n      })\r\n      .filter(sku => sku.index !== -1);\r\n\r\n    if (skus.length > 0) {\r\n      const payload = {\r\n        orderItems: skus,\r\n      };\r\n\r\n      return await this._httpClient.patch(\r\n        `/api/checkout/pub/orderForm/${orderFormId}/items`,\r\n        payload\r\n      );\r\n    }\r\n  }\r\n\r\n  async simulateOrderForm(postalCode, country = 'BRA') {\r\n    try {\r\n      await vtexjs.checkout.getOrderForm();\r\n\r\n      const orderForm = await vtexjs.checkout.calculateShipping({\r\n        postalCode,\r\n        country,\r\n      });\r\n\r\n      return orderForm;\r\n    } catch (error) {\r\n      console.error('Error in simulateOrderForm', error);\r\n    }\r\n  }\r\n\r\n  async simulateShipping(items, postalCode, country = 'BRA') {\r\n    const orderFormSimulated = await vtexjs.checkout.simulateShipping(\r\n      items,\r\n      postalCode,\r\n      country\r\n    );\r\n\r\n    return orderFormSimulated;\r\n  }\r\n\r\n  async updateCheckoutTransporterSLA(logisticsInfo) {\r\n    await vtexjs.checkout.getOrderForm();\r\n\r\n    const { shippingData } = vtexjs.checkout.orderForm;\r\n\r\n    shippingData.logisticsInfo = logisticsInfo;\r\n\r\n    await vtexjs.checkout.sendAttachment('shippingData', shippingData);\r\n  }\r\n\r\n  async updateCheckoutAddress(address) {\r\n    console.log(address);\r\n    await vtexjs.checkout.getOrderForm();\r\n\r\n    const { shippingData } = vtexjs.checkout.orderForm;\r\n\r\n    shippingData.availableAddresses = [\r\n      {\r\n        ...shippingData.address,\r\n        ...address,\r\n      },\r\n    ];\r\n\r\n    shippingData.selectedAddresses = [\r\n      {\r\n        ...shippingData.address,\r\n        ...address,\r\n      },\r\n    ];\r\n\r\n    shippingData.address = {\r\n      ...shippingData.address,\r\n      ...address,\r\n    };\r\n\r\n    return await vtexjs.checkout.sendAttachment('shippingData', shippingData);\r\n  }\r\n\r\n  async setMultipleCustomDataFields(appName, fields) {\r\n    const { orderFormId } = await this.getCurrent();\r\n\r\n    const endpoint = `/api/checkout/pub/orderForm/${orderFormId}/customData/${appName}`;\r\n\r\n    try {\r\n      return await this._httpClient.put(endpoint, fields);\r\n    } catch (error) {\r\n      console.error('setMultipleCustomDataFields', error);\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  async setSingleCustomDataField(appName, appFieldName, appFieldValue) {\r\n    const { orderFormId } = await this.getCurrent();\r\n\r\n    const endpoint = `/api/checkout/pub/orderForm/${orderFormId}/customData/${appName}/${appFieldName}`;\r\n\r\n    const payload = { value: appFieldValue };\r\n\r\n    try {\r\n      return await this._httpClient.put(endpoint, payload);\r\n    } catch (error) {\r\n      console.error('setSingleCustomDataField', error);\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  async removeSingleCustomDataField(appName, appFieldName) {\r\n    const { orderFormId } = await this.getCurrent();\r\n\r\n    const endpoint = `/api/checkout/pub/orderForm/${orderFormId}/customData/${appName}/${appFieldName}`;\r\n\r\n    const payload = { value: null };\r\n\r\n    try {\r\n      return await this._httpClient.delete(endpoint, payload);\r\n    } catch (error) {\r\n      console.error('removeSingleCustomDataField', error);\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * Cart's payload method factory\r\n   * @param {*} skuId - Product Id (SKU)\r\n   * @param {*} productQuantity - Product Quantity\r\n   * @param {*} sellerId - Seller id\r\n   * @return {JSON} cart paylod\r\n   */\r\n  _payloadFactory(skuId, productQuantity, sellerId = 1) {\r\n    return {\r\n      id: skuId,\r\n      quantity: productQuantity,\r\n      seller: sellerId,\r\n    };\r\n  }\r\n}\r\n\r\nexport default CartService;\r\n","import fetch from 'unfetch';\r\nimport { Ensure, Logger } from '../common';\r\n\r\n/**\r\n * HttpClient Abstraction class\r\n */\r\nclass HttpClient {\r\n  /**\r\n   * HttpClient constructor\r\n   */\r\n  constructor() {\r\n    this._logger = new Logger('httpClient');\r\n  }\r\n\r\n  /**\r\n   * Get\r\n   * @param {String} endpointUrl\r\n   * @return {Promise}\r\n   */\r\n  get(endpointUrl) {\r\n    if (!Ensure.isUndefined(endpointUrl)) {\r\n      return this._execute(endpointUrl, 'GET');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Delete\r\n   * @param {String} endpointUrl\r\n   * @return {Promise}\r\n   */\r\n  delete(endpointUrl) {\r\n    if (!Ensure.isUndefined(endpointUrl)) {\r\n      return this._execute(endpointUrl, 'DELETE');\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {String} endpointUrl\r\n   * @param {JSON} payload\r\n   * @return {Promise}\r\n   */\r\n  post(endpointUrl, payload = {}) {\r\n    if (!Ensure.isUndefined(endpointUrl)) {\r\n      return this._execute(endpointUrl, 'POST', payload);\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {String} endpointUrl\r\n   * @param {JSON} payload\r\n   * @return {Promise}\r\n   */\r\n  put(endpointUrl, payload) {\r\n    if (!Ensure.isUndefined(endpointUrl) && !Ensure.isUndefined(payload)) {\r\n      return this._execute(endpointUrl, 'PUT', payload);\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {String} endpointUrl\r\n   * @param {JSON} payload\r\n   * @return {Promise}\r\n   */\r\n  patch(endpointUrl, payload) {\r\n    if (!Ensure.isUndefined(endpointUrl) && !Ensure.isUndefined(payload)) {\r\n      return this._execute(endpointUrl, 'PATCH', payload);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {String} endpointUrl\r\n   * @param {String} httpVerb\r\n   * @param {Object} payload\r\n   * @return {Promise}\r\n   */\r\n  _execute(endpointUrl, httpVerb, payload) {\r\n    let header = {\r\n      method: httpVerb,\r\n      headers: {\r\n        // 'Accept': 'application/vnd.vtex.ds.v10+json',\r\n        // 'Content-Type': 'application/json',\r\n        accept: 'application/vnd.vtex.masterdata.v10+json',\r\n        'content-type': 'application/json; charset=utf-8',\r\n      },\r\n    };\r\n\r\n    if (payload) {\r\n      header['body'] = JSON.stringify(payload);\r\n    }\r\n\r\n    return fetch(endpointUrl, header)\r\n      .then(this.validateResponse)\r\n      .then(this.parseResponseToJson)\r\n      .then(data => {\r\n        return data;\r\n      })\r\n      .catch(error => {\r\n        this._logger.log('Request succeeded with JSON response', error);\r\n        return error;\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Parse response data to json object\r\n   * @param {*} response - Request response\r\n   * @return {JSON} json data\r\n   */\r\n  async parseResponseToJson(response) {\r\n    if (!response.ok) {\r\n      return response;\r\n    }\r\n\r\n    return await response.json();\r\n  }\r\n\r\n  /**\r\n   * Response validation\r\n   * @param {*} response\r\n   * @return {Promise} promise result\r\n   */\r\n  validateResponse(response) {\r\n    if (response.ok) {\r\n      return Promise.resolve(response);\r\n    } else {\r\n      return Promise.reject(new Error(response.statusText));\r\n    }\r\n  }\r\n}\r\n\r\nexport default HttpClient;\r\n"],"sourceRoot":""}