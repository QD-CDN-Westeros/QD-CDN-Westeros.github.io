{"version":3,"sources":["webpack:///./src/js/general/services/b8one.vtexCatalogService.js","webpack:///./src/js/general/repositories/b8one.masterdataRepository.js","webpack:///./src/js/general/utils/currency/index.js","webpack:///./src/js/general/components/b8one.modalComponent.js","webpack:///./src/js/general/utils/skusToIgnore/index.js","webpack:///./src/js/general/services/b8one.storageService.js","webpack:///./src/js/general/common/b8one.ensure.js","webpack:///./src/js/state/ducks/user/index.js","webpack:///./src/js/general/common/b8one.helper.js","webpack:///./src/js/general/common/b8one.logger.js","webpack:///./src/js/general/services/b8one.cartService.js","webpack:///./src/js/state/ducks/products/index.js","webpack:///./src/js/store/mobile/selectItems/ProductComponent/CheckboxComponent/index.js","webpack:///./src/js/store/mobile/selectItems/ProductComponent/TooltipComponent/index.js","webpack:///./src/js/store/mobile/selectItems/ProductComponent/ProductCheckboxComponent/index.js","webpack:///./src/js/store/mobile/selectItems/ProductComponent/CustomProductImageComponent/index.js","webpack:///./src/js/store/mobile/selectItems/ProductComponent/ProductImageComponent/index.js","webpack:///./src/js/store/mobile/selectItems/ProductComponent/ProductActionsComponent/index.js","webpack:///./src/js/store/mobile/selectItems/ProductComponent/index.js","webpack:///./src/js/store/mobile/selectItems/index.js","webpack:///./src/js/state/reducer/index.js","webpack:///./src/js/state/store/index.js","webpack:///./src/js/svgs/question-marks.js","webpack:///./src/js/general/services/b8one.httpClient.js","webpack:///./src/js/general/repositories/b8one.moveListSaveRepository.js"],"names":["VtexCatalogService","origin","this","api","axios","create","baseURL","categoryID","subcategoryID","_from","_to","orderBy","params","URLSearchParams","append","forEach","order","get","console","error","products","initial","end","getProductsByCategories","data","status","productId","MasterdataRepository","entityCode","entityCode_","httpClient_","HttpClient","_VTEX_MASTERDATA_ENDPOINT","entityPayload","apiEndpoint","put","then","res","patch","documentId","fields","delete","field","fileName","getAttachmentUrl","REAL","value","currency","symbol","precision","separator","decimal","formatWithSymbol","ModalComponent","modal","modalShowCLass","openModalCallback","closeModalCallback","isOpen","openCallback","Function","closeCallback","Element","document","querySelector","classList","add","remove","StorageService","cartService","CartService","vtexCatalogService","getCurrent","items","Promise","all","filter","product","SKUS_TO_IGNORE","includes","parseInt","id","map","quantity","getProductVariations","skuSelected","skus","sku","weight","measures","total","productsWeightArray","totalWeight","Math","round","reduce","storageQuantity","storageSKUID","index","findIndex","userSelectedStorageMonths","customData","orderInfo","customApps","customApp","storageProduct","totalSKUsInOrderForm","length","getTotalStorageQuantity","user_need_storage","isQuantityDifferent","updateProduct","toLowerCase","addSKUStorageToOrderForm","removeSKUStorageInOrderForm","Ensure","undefined","input","isUndefined","checkValidity","object","props","getMissingProps","missingProps","prop","push","createActions","setEmail","Types","Creators","HANDLERS","SET_EMAIL","state","action","email","createReducer","Helper","_logger","Logger","language","navigator","userLanguage","currencyLocale","minimumFractionDigits","elem","selector","prototype","matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","s","ownerDocument","querySelectorAll","i","item","parents","parentNode","form","serialized","elements","name","disabled","type","n","options","selected","encodeURIComponent","checked","join","random","toString","substr","cname","cvalue","exdays","date","Date","setTime","getTime","expires","toUTCString","cookie","decodeURIComponent","split","element","heightViewport","window","innerHeight","documentElement","clientHeight","widthViewport","innerWidth","clientWidth","getBoundingClientRect","top","right","bottom","left","str","mapAccents","a","e","o","u","c","pattern","replace","RegExp","toFixed","max","Intl","NumberFormat","style","format","logName","message","errorObj","info","warn","log","_VTEX_API_ENDPOINT","_httpClient","skuId","productQuantity","sellerId","current","indexFound","x","endpointUrl","orderFormId","payload","orderItems","seller","vtexjs","checkout","getOrderForm","skusCustomProducts","getCustomProducts","isCustom","skuToIgnore","indexToRemove","indexList","removeMoreProducts","response","productsToAdd","productsToUpdate","sameSku","diffQuantity","productsToReplaceSKU","itemsList","oldSKU","newSKU","productsToRemove","updateItems","replaceSKU","removeItems","addToCart","customProducts","newQuantity","customProductItem","currentCustomProduct","customProductQuantity","Object","values","itemIndex","expectedOrderFormSections","noSplitItem","itemsIndex","updateProducts","postalCode","country","calculateShipping","orderForm","simulateShipping","orderFormSimulated","logisticsInfo","shippingData","sendAttachment","address","availableAddresses","selectedAddresses","appName","endpoint","appFieldName","appFieldValue","INITIAL_STATE","addProduct","skuIdWithBox","skuIdWithoutBox","liftingQuantity","liftingQuantityOrigin","liftingQuantityDestination","specialPackaging","requiresLifting","customAttributes","additionalWeight","additionalCharges","requiresAssembly","requiresDisassembly","updateProductQuantity","updateLiftingQuantity","setRequiresLifting","setSpecialPackaging","updateSkuId","resetProductsQuantity","updateRequiresDisassemblyAndAssembly","ADD_PRODUCT","UPDATE_PRODUCT_QUANTITY","currentProduct","UPDATE_LIFTING_QUANTITY","SET_REQUIRES_LIFTING","SET_SPECIAL_PACKAGING","UPDATE_SKU_ID","RESET_PRODUCTS_QUANTITY","entries","UPDATE_REQUIRES_DISASSEMBLY_AND_ASSEMBLY","CheckboxComponent","labelText","isChecked","TooltipComponent","tooltipClassName","tooltipPosition","tooltipSize","tooltipText","questionMarkIcon","ProductCheckboxComponent","CustomProductImageComponent","ProductImageComponent","imageUrl","productName","ProductActionsComponent","minQuantity","ProductComponent","store","complementName","assignments","ambients","similars","description","lifting","getState","event","productsActions","dispatch","target","productElement","productHandleEvents","defaultEventsConfig","passive","buttonMinusQuantity","buttonAddQuantity","inputLiftingCheckbox","inputSpecialPackagingCheckbox","inputDisassemblyAndAssemblyCheckbox","inputProductQuantity","addEventListener","handledMinusQuantityProduct","handledAddQuantityProduct","regex","key","String","fromCharCode","charCode","which","test","preventDefault","handledProductQuantityChange","handledLiftingProduct","handledSpecialPackagingProduct","handledDisassemblyAndAssembly","w","watch","subscribe","prevState","updateQuantity","updateRequiresLifting","updateSpecialPackaging","dataset","liftingQuantities","productLifting","productSpecialPackaging","productRequiresAssembly","productRequiresDisassembly","watchState","SelectItems","productInstances","categories","categoriesAmbients","hoistModalInstance","addCustomProductModalInstance","storageService","helper","masterdataRepository","moveListSaveRepository","MoveListSaveRepository","userMoveSaveList","init","setToggleSelectedProducts","handledButtonSaveClick","setHandledButtonContinueClick","initModalHoist","getCategories","getCategoriesAmbientsFromMasterData","updateOrderForm","getLiftingFromCustomData","addCategoriesAmbientToDOM","setHandledAmbientButtonBackClick","location","search","getUserMoveSaveList","setProducts","getProductstInOrderForm","addProductsToState","addProductComponentInstances","addCustomProductsToCategories","addSectionCategoriesToDOM","setListenersToProducts","initAddCustomProductModal","categoriesCollapseSections","setHandledInputSearchChange","setHandledButtonCleanInputSearchClick","setHandledButtonClearAllClick","setHandledCategoriesAmbientClick","obj","skuWithoutBox","skuWithBox","itemId","active","productData","productInstance","category","idHTML","bindEvents","currentSectionProducts","inputCustomProductName","buttonCloseModal","productCustomForm","productAddCustomModal","setTimeout","focus","button","show","getParents","close","reset","getFormData","categorySection","parentElement","categoryName","getAttribute","sectionProducts","searchResultsProducts","m3","convertCM3ToM3","getCustomsProducts","createCustomProduct","lastElementChild","insertAdjacentHTML","render","hoistModal","hoistButton","hoistInputs","oldInputActive","setSingleCustomDataField","handledButtonContinueClick","orderInfoApp","find","handledToggleSelectedProducts","isSelected","ambientElement","productsCategory","pageCategoriesElement","pageSearchResultsAmbientElement","pageYOffset","scrollTo","clearInputSearch","clearResultsProducts","productsWithoutQuantity","productAddCustoms","categorySections","categorySectionsToHide","totalProductsQuantity","count","categorySectionsToShow","toggleNotProductsSelectedMessage","showMessage","productsCategoryElement","children","contains","getRandomID","sectionContainer","buttonToggle","buttonToggleIcon","buttonToggleActive","buttonToggleIconActive","categorySectionActive","isVisible","getLiftingQuantity","removeAllItems","liftingSKUs","getLiftingSKUs","productsWithQuantity","additionalWeightSKUs","getAdditionalWeightSKU","disassemblyAndAssemblySKUs","getDisassemblyAndAssemblySKU","checkoutCRUD","JSON","stringify","updateCustomAppInsurance","updateCustomAppSelectedCourier","buttonContinue","productsArray","some","hasProductSelected","blockProducts","saveData","assign","unlockProducts","showButtonContinueTooltip","hideButtonContinueTooltip","setAttribute","removeAttribute","buttonSaveElement","buttonSaveIconElement","buttonSaveIconLoadingElement","dispatchEvent","initSaveCustomDataEvent","endSaveCustomDataEvent","sectionProduct","getAllCategories","categoriesIDBlacklist","categoriesFiltered","url","slice","getAllProductsByCategories","Features","Ambientes","similar","images","ambient","removeAccents","similarItem","createAddCustomProductElement","createProducts","innerHTML","createSectionCategories","selectedItemsCustomApp","parse","products_data","firstCategory","productCategory","productCustom","productInitialData","height","width","deph","timeoutProducts","searchInput","buttonClearInputSearch","pageSearchResultsElement","pageSearchResultsQueryTextElement","pageSearchResultsSuggestionsElement","clearTimeout","clearResultsSuggestionsProducts","scrollY","textContent","productWithSimilar","similarProducts","productItem","updateResultsProducts","updateResultsSuggestionsProducts","showHiddenCategoriesAndProducts","resultsProducts","productsHTML","parentSelector","number","trunc","insuranceApp","insuranceItems","newInsuranceItems","newInsuranceItemsObject","newTotal","totalInsuranceFormatted","setMultipleCustomDataFields","totalizers","totalItemsWithDiscounts","totalizer","selectedCourierApp","orderinfoApp","to_address_zipcode","insuranceSKU","courier_data","transporterSelected","logisticInfo","ids","courierIds","slas","sla","deliveryIds","courierId","getDeliveryTypes","newPrice","deliveryTypeSelected","slaName","price","manualPrice","newPriceFormatted","formatPrice","deliveryTypes","priceFormatted","deliveryType","orderDeliveryTypesByLessPrice","transporterVariations","getTransporterVariations","courierType","courier","sort","b","eventChange","Event","bubbles","inputSearch","removeSingleCustomDataField","buttonClearAllElement","buttonClearAllIconElement","buttonClearAllIconLoadingElement","removeProducts","alert","category_image","category_image_url","category_id","category_name","categoriesAmbientsHTML","categoriesItemsElement","createCategoryAmbientElement","tns","container","slideBy","autoplay","controls","center","autoWidth","nav","loop","preventScrollOnTouch","searchResultsAmbientElement","categoryAmbientId","updateAmbientElement","productCategoriesAmbients","currentCategory","ambientImageElement","ambientNameElement","ambientDescription","backgroundImage","category_description","ambientButtonBackElement","hiddenElement","DocumentId","moveListSaveSelected","getListByDocumentId","hasOwnProperty","updateProductsWithUserMoveSaveListProducts","isTemplate","listItems","combineReducers","user","productsReducer","createStore","rootReducer","_execute","httpVerb","header","method","headers","accept","fetch","validateResponse","parseResponseToJson","catch","ok","json","resolve","reject","Error","statusText","Array","isArray","post","listName","listDate","listEmail","query","getByDocumentIdWithFields"],"mappings":"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","file":"js/b8one.mobile.selectItems.js","sourcesContent":["import axios from 'axios';\r\n\r\nexport default class VtexCatalogService {\r\n  /**\r\n   * @param  {String} origin='' Origin example => https://www.example.com\r\n   */\r\n  constructor(origin = '') {\r\n    this.api = axios.create({\r\n      baseURL: `${origin}/api/catalog_system`,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * This function is a abstraction of VTEX Search API for get and return products by categoryID (Parent) and subcategoryID (child)\r\n   * and return an array of products, also you can order the products with orderBy param, fetch max 50 products per request.\r\n   *\r\n   * For more information go to the follow link:\r\n   * https://documenter.getpostman.com/view/845/vtex-search-api/Hs43?version=latest#e0ec3923-faf7-5049-8634-f6d617ce5f67\r\n   *\r\n   * @param  {String|Number} categoryID\r\n   * @param  {String|Number} subcategoryID\r\n   * @param  {String|Number} _from=0\r\n   * @param  {String|Number} _to=49\r\n   * @param  {Array} orderBy=['OrderByNameASC']\r\n   * @return {Array} Array of products.\r\n   */\r\n  async getProductsByCategories(\r\n    categoryID,\r\n    subcategoryID,\r\n    _from = 0,\r\n    _to = 49,\r\n    orderBy = ['OrderByNameASC']\r\n  ) {\r\n    try {\r\n      const params = new URLSearchParams();\r\n\r\n      params.append('_to', _to);\r\n      params.append('_from', _from);\r\n      params.append('fq', `C:/${categoryID}/${subcategoryID}`);\r\n\r\n      orderBy.forEach(order => params.append('O', order));\r\n\r\n      return await this.api.get('/pub/products/search', { params });\r\n    } catch (error) {\r\n      console.error(\r\n        'Error in VtexCatalogService on method getProductsByCategories',\r\n        error\r\n      );\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * This function get and return all products by categoryID (Parent) and subcategoryID (child)\r\n   * and return an array of products.\r\n   * @param  {String|Number} categoryID\r\n   * @param  {String|Number} subcategoryID\r\n   * @return {Array} Array of products.\r\n   */\r\n  async getAllProductsByCategories(categoryID, subcategoryID) {\r\n    try {\r\n      let products = [];\r\n      let initial = 0;\r\n      let end = 49;\r\n\r\n      while (true) {\r\n        const { data, status } = await this.getProductsByCategories(\r\n          categoryID,\r\n          subcategoryID,\r\n          initial,\r\n          end\r\n        );\r\n\r\n        initial = end + 1;\r\n        end = end * 2 + 1;\r\n\r\n        products = [...products, ...data];\r\n\r\n        if (status === 200) {\r\n          break;\r\n        }\r\n      }\r\n\r\n      return products;\r\n    } catch (error) {\r\n      console.error(\r\n        'Error in VtexCatalogService on method getAllProductsByCategories',\r\n        error\r\n      );\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * This function get and return all categories of the category tree.\r\n   * @return {Array} Array of categories.\r\n   */\r\n  async getAllCategories() {\r\n    try {\r\n      return await this.api.get('/pub/category/tree/1');\r\n    } catch (error) {\r\n      console.error(\r\n        'Error in VtexCatalogService on method getAllCategories',\r\n        error\r\n      );\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * @param  {String|Number} productId The id of the product\r\n   * @return {Object} Product Object with SKUS Variations.\r\n   */\r\n  async getProductVariations(productId) {\r\n    try {\r\n      return await this.api.get(`/pub/products/variations/${productId}`);\r\n    } catch (error) {\r\n      console.error(\r\n        'Error in VtexCatalogService on method getProductVariations',\r\n        error\r\n      );\r\n    }\r\n\r\n    return;\r\n  }\r\n}\r\n","import HttpClient from '../services/b8one.httpClient';\r\n\r\n/**\r\n * Masterdata Base Repository\r\n */\r\nclass MasterdataRepository {\r\n  /**\r\n   * Masterdata Repository constructor\r\n   * @param {*} entityCode\r\n   */\r\n  constructor(entityCode) {\r\n    const STORE_ID = 'TR';\r\n\r\n    this.entityCode_ = entityCode;\r\n    this.httpClient_ = new HttpClient();\r\n\r\n    // this._VTEX_MASTERDATA_ENDPOINT = `//api.vtexcrm.com.br/${STORE_ID}/dataentities/${entityCode}`;\r\n    this._VTEX_MASTERDATA_ENDPOINT = `/api/dataentities/${entityCode}`;\r\n  }\r\n\r\n  /**\r\n   * add\r\n   * @param {*} entityPayload\r\n   * @return {*}\r\n   */\r\n  add(entityPayload) {\r\n    const apiEndpoint = `${this._VTEX_MASTERDATA_ENDPOINT}/documents`;\r\n\r\n    return this.httpClient_.put(apiEndpoint, entityPayload).then(\r\n      res => {\r\n        return res;\r\n      },\r\n      error => {\r\n        return error;\r\n      }\r\n    );\r\n  }\r\n\r\n  /**\r\n   * update..\r\n   * @param {*} entityPayload\r\n   * @return {*}\r\n   */\r\n  update(entityPayload) {\r\n    const apiEndpoint = `${this._VTEX_MASTERDATA_ENDPOINT}/documents`;\r\n\r\n    return this.httpClient_.patch(apiEndpoint, entityPayload).then(\r\n      res => {\r\n        return res;\r\n      },\r\n      error => error\r\n    );\r\n  }\r\n\r\n  /**\r\n   * search\r\n   * @param {*} params\r\n   * @return {*}\r\n   */\r\n  search(params) {\r\n    const apiEndpoint = `${this._VTEX_MASTERDATA_ENDPOINT}/search?${params}`;\r\n\r\n    return this.httpClient_.get(apiEndpoint).then(res => {\r\n      return res;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get Document by document ID\r\n   * @param {GUID} documentId Document Id\r\n   */\r\n  async getByDocumentId(documentId) {\r\n    const apiEndpoint = `${this._VTEX_MASTERDATA_ENDPOINT}/documents/${documentId}`;\r\n\r\n    const res = await this.httpClient_.get(apiEndpoint);\r\n    return res;\r\n  }\r\n\r\n  async getByDocumentIdWithFields(documentId, fields) {\r\n    const apiEndpoint = `${this._VTEX_MASTERDATA_ENDPOINT}/documents/${documentId}?_fields=${fields}`;\r\n\r\n    const res = await this.httpClient_.get(apiEndpoint);\r\n    return res;\r\n  }\r\n  /**\r\n   * delete\r\n   * @param {*} documentId\r\n   * @return {*}\r\n   */\r\n  delete(documentId) {\r\n    const apiEndpoint = `${this._VTEX_MASTERDATA_ENDPOINT}/documents/${documentId}`;\r\n\r\n    return this.httpClient_.delete(apiEndpoint).then(res => {\r\n      return res;\r\n    });\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {*} documentId\r\n   * @param {*} field\r\n   * @param {*} fileName\r\n   */\r\n  getAttachmentUrl(documentId = '', field = '', fileName = '') {\r\n    return `${this._VTEX_MASTERDATA_ENDPOINT}/documents/${documentId}/${field}/attachments/${fileName}`;\r\n  }\r\n\r\n  /**\r\n   * Get attachments\r\n   * @param {*} documentId\r\n   * @param {*} field\r\n   * @param {*} fileName\r\n   */\r\n  async getAttachment(documentId = '', field = '', fileName = '') {\r\n    // /api/dataentities/{{data_entity_name}}/documents/{{id}}/{{field}}/attachments/{{file_name}}\r\n    const apiEndpoint = this.getAttachmentUrl(documentId, field, fileName);\r\n\r\n    const res = await this.httpClient_.get(apiEndpoint);\r\n    return res;\r\n  }\r\n}\r\n\r\nexport default MasterdataRepository;\r\n","import currency from 'currency.js';\r\n\r\nconst REAL = value =>\r\n  currency(value, {\r\n    symbol: 'R$ ',\r\n    precision: 2,\r\n    separator: '.',\r\n    decimal: ',',\r\n    formatWithSymbol: true,\r\n  });\r\n\r\nexport { REAL };\r\n","/*\r\n  *\r\n  * Author: Enrique Mora <enriquebeta7@gmail.com>\r\n  *\r\n*/\r\n\r\nexport default class ModalComponent {\r\n\t/**\r\n\t * @param  { Element | String } modal\r\n\t * @param  { String } modalShowCLass\r\n\t * @param  { Function } openModalCallback\r\n\t * @param  { Function } closeModalCallback\r\n   * @requires modal\r\n\t */\r\n\tconstructor({\r\n\t\tmodal,\r\n\t\tmodalShowCLass,\r\n\t\topenModalCallback,\r\n\t\tcloseModalCallback,\r\n\t}) {\r\n\t\tthis.isOpen = false;\r\n\t\tthis.modalShowCLass = modalShowCLass || 'show';\r\n\t\tthis.openCallback = openModalCallback || new Function();\r\n\t\tthis.closeCallback = closeModalCallback || new Function();\r\n\t\tthis.modal =\r\n\t\t\tmodal instanceof Element ? modal : document.querySelector(modal);\r\n\t}\r\n\r\n\tshow() {\r\n\t\t!this.isOpen && this.modal.classList.add(this.modalShowCLass);\r\n\t\tthis.isOpen = true;\r\n\r\n\t\tthis.openCallback(this);\r\n\t}\r\n\r\n\tclose() {\r\n\t\tthis.isOpen && this.modal.classList.remove(this.modalShowCLass);\r\n\t\tthis.isOpen = false;\r\n\r\n\t\tthis.closeCallback(this);\r\n\t}\r\n}\r\n","/**\r\n ** SKU IDs to ignore.\r\n *? IDs 19 and 698 are lifting products.\r\n *? IDs 25 and 26 are custom products.\r\n *? ID 33 is storage product.\r\n *? ID 35 is insurance sku.\r\n *? ID 696 is additional weight sku.\r\n *? ID 699 is disassembly and assembly sku.\r\n */\r\nexport default [19, 698, 25, 26, 33, 35, 696, 699];\r\n","// Services\r\nimport CartService from 'Services/b8one.cartService.js';\r\nimport VtexCatalogService from 'Services/b8one.vtexCatalogService.js';\r\n\r\n// Utils\r\nimport SKUS_TO_IGNORE from 'Utils/skusToIgnore';\r\n\r\nexport default class StorageService {\r\n  constructor() {\r\n    this.cartService = new CartService();\r\n    this.vtexCatalogService = new VtexCatalogService();\r\n  }\r\n\r\n  async getTotalStorageQuantity() {\r\n    const { items } = await this.cartService.getCurrent();\r\n\r\n    const productsWeightArray = await Promise.all(\r\n      items\r\n        .filter(product => !SKUS_TO_IGNORE.includes(parseInt(product.id)))\r\n        .map(async ({ productId, id, quantity }) => {\r\n          const { data } = await this.vtexCatalogService.getProductVariations(\r\n            productId\r\n          );\r\n\r\n          const skuSelected = data.skus.filter(\r\n            ({ sku }) => parseInt(sku) === parseInt(id)\r\n          )[0];\r\n\r\n          if (skuSelected) {\r\n            const { weight } = skuSelected.measures;\r\n            const total = weight * quantity;\r\n\r\n            return total;\r\n          }\r\n\r\n          return 0;\r\n        })\r\n    );\r\n\r\n    const totalWeight = Math.round(\r\n      productsWeightArray.reduce((total, weight) => total + weight, 0)\r\n    );\r\n\r\n    let storageQuantity = Math.round(totalWeight / 5);\r\n\r\n    storageQuantity = storageQuantity > 0 ? storageQuantity : 1;\r\n\r\n    return storageQuantity;\r\n  }\r\n\r\n  async addSKUStorageToOrderForm(storageSKUID, quantity) {\r\n    return await this.cartService.add(storageSKUID, quantity);\r\n  }\r\n\r\n  async removeSKUStorageInOrderForm(storageSKUID, products) {\r\n    const index = products.findIndex(\r\n      product => parseInt(product.id) === storageSKUID\r\n    );\r\n\r\n    if (index !== -1) {\r\n      return await this.cartService.remove(index);\r\n    }\r\n  }\r\n\r\n  async dispatchActionWorksWithStorageSKU(userSelectedStorageMonths = 1) {\r\n    const storageSKUID = 33;\r\n\r\n    const { customData, items } = await this.cartService.getCurrent();\r\n\r\n    if (!customData) return;\r\n\r\n    const orderInfo = customData.customApps.filter(\r\n      customApp => customApp.id === 'orderinfo'\r\n    )[0];\r\n\r\n    const storageProduct = items.filter(product => {\r\n      return parseInt(product.id) === storageSKUID;\r\n    })[0];\r\n\r\n    const totalSKUsInOrderForm = items.filter(\r\n      product => !SKUS_TO_IGNORE.includes(parseInt(product.id))\r\n    ).length;\r\n\r\n    if (!orderInfo) return;\r\n\r\n    let quantity = await this.getTotalStorageQuantity();\r\n\r\n    quantity *= userSelectedStorageMonths;\r\n\r\n    const { user_need_storage } = orderInfo.fields;\r\n\r\n    let isQuantityDifferent;\r\n\r\n    if (storageProduct) {\r\n      isQuantityDifferent = storageProduct.quantity !== quantity;\r\n    }\r\n\r\n    if (isQuantityDifferent && totalSKUsInOrderForm > 0) {\r\n      return await this.cartService.updateProduct(storageSKUID, quantity);\r\n    } else if (\r\n      user_need_storage.toLowerCase() === 'true' &&\r\n      totalSKUsInOrderForm > 0\r\n    ) {\r\n      return await this.addSKUStorageToOrderForm(storageSKUID, quantity);\r\n    } else {\r\n      return await this.removeSKUStorageInOrderForm(storageSKUID, items);\r\n    }\r\n  }\r\n}\r\n","/**\r\n * Ensure Abstraction class\r\n */\r\nclass Ensure {\r\n  /**\r\n   * Ensure value is Undefined\r\n   * @param {*} value Value to be validated\r\n   * @return {boolean}\r\n   */\r\n  static isUndefined(value = undefined) {\r\n    return typeof value === 'undefined' ||\r\n      value === null ||\r\n      value === '' ||\r\n      value === {} ||\r\n      value === [];\r\n    // || JSON.stringify(value) === JSON.stringify({});\r\n  }\r\n\r\n  /**\r\n   * Ensure Input validity\r\n   * @param {*} input to validate\r\n   * @return {boolean} true if is valid\r\n   */\r\n  static isInputValid(input) {\r\n    return !this.isUndefined(input) && input.checkValidity();\r\n  }\r\n\r\n  /**\r\n   * Verify if object has properties\r\n   * @param {Object} object - Object to be verified\r\n   * @param {Array} props - properties to search on object\r\n   * @return {Boolean} True if object has all properties\r\n   */\r\n  static hasProps(object, props) {\r\n    const missingPropsResult = this.getMissingProps(object, props);\r\n    return missingPropsResult.length <= 0;\r\n  }\r\n\r\n  /**\r\n   * Get Object missing properties\r\n   * @param {Object} object - Object to be verified\r\n   * @param {Array} props - properties to search on object\r\n   * @return {Array} missing properties\r\n   */\r\n  static getMissingProps(object, props) {\r\n    let missingProps = [];\r\n    [...props].forEach((prop) => {\r\n      const result = prop in object;\r\n      if (!result) {\r\n        missingProps.push(prop);\r\n      }\r\n    });\r\n\r\n    return missingProps;\r\n  }\r\n}\r\n\r\nexport default Ensure;\r\n","//movize/user\r\nimport { createActions, createReducer } from 'reduxsauce';\r\n\r\nconst INITIAL_STATE = {\r\n  email: '',\r\n};\r\n\r\nexport const { Types, Creators } = createActions(\r\n  {\r\n    setEmail: ['email'],\r\n  },\r\n  {}\r\n);\r\n\r\nexport const setEmail = (state, action) => {\r\n  return { ...state, email: action.email };\r\n};\r\n\r\nconst HANDLERS = {\r\n  [Types.SET_EMAIL]: setEmail,\r\n};\r\n\r\nexport default createReducer(INITIAL_STATE, HANDLERS);\r\n","/* eslint-disable max-len */\r\nimport { Logger } from './';\r\n\r\n/**\r\n * Helper Abstraction class\r\n */\r\nclass Helper {\r\n  /**\r\n   * Helper constructor\r\n   * @param {*} props\r\n   */\r\n  constructor(props) {\r\n    this._logger = new Logger('Ensure');\r\n    this.props = props || {\r\n      language: navigator.language || navigator.userLanguage,\r\n      currency: 'BRL',\r\n      currencyLocale: 'pt-br',\r\n      minimumFractionDigits: 2,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * format currency\r\n   * @param {*} value\r\n   * @param {*} minimumFractionDigits\r\n   * @return {*}\r\n   */\r\n  formatPrice(value) {\r\n    value = value / 100;\r\n    value = (value * 1).toFixed(\r\n      Math.max(0, ~~this.props.minimumFractionDigits)\r\n    );\r\n\r\n    return new Intl.NumberFormat(this.props.currencyLocale, {\r\n      style: 'currency',\r\n      currency: this.props.currency,\r\n      minimumFractionDigits: this.props.minimumFractionDigits,\r\n    }).format(value);\r\n  }\r\n\r\n  static getParents(elem, selector) {\r\n    // Element.matches() polyfill\r\n    if (!Element.prototype.matches) {\r\n      Element.prototype.matches =\r\n        Element.prototype.matchesSelector ||\r\n        Element.prototype.mozMatchesSelector ||\r\n        Element.prototype.msMatchesSelector ||\r\n        Element.prototype.oMatchesSelector ||\r\n        Element.prototype.webkitMatchesSelector ||\r\n        function(s) {\r\n          let matches = (this.document || this.ownerDocument).querySelectorAll(\r\n              s\r\n            ),\r\n            i = matches.length;\r\n\r\n          while (--i >= 0 && matches.item(i) !== this) {}\r\n\r\n          return i > -1;\r\n        };\r\n    }\r\n\r\n    // Set up a parent array\r\n    let parents = [];\r\n\r\n    // Push each parent element to the array\r\n    for (; elem && elem !== document; elem = elem.parentNode) {\r\n      if (selector) {\r\n        if (elem.matches(selector)) {\r\n          parents.push(elem);\r\n        }\r\n\r\n        continue;\r\n      }\r\n\r\n      parents.push(elem);\r\n    }\r\n\r\n    // Return our parent array\r\n    return parents;\r\n  }\r\n\r\n  static serializeForm(form) {\r\n    // Setup our serialized data\r\n    let serialized = [];\r\n\r\n    // Loop through each field in the form\r\n    for (let i = 0; i < form.elements.length; i++) {\r\n      let field = form.elements[i];\r\n\r\n      // Don't serialize fields without a name, submits, buttons, file and reset inputs, and disabled fields\r\n      if (\r\n        !field.name ||\r\n        field.disabled ||\r\n        field.type === 'file' ||\r\n        field.type === 'reset' ||\r\n        field.type === 'submit' ||\r\n        field.type === 'button'\r\n      )\r\n        continue;\r\n\r\n      // If a multi-select, get all selections\r\n      if (field.type === 'select-multiple') {\r\n        for (let n = 0; n < field.options.length; n++) {\r\n          if (!field.options[n].selected) continue;\r\n\r\n          serialized.push(\r\n            encodeURIComponent(field.name) +\r\n              '=' +\r\n              encodeURIComponent(field.options[n].value)\r\n          );\r\n        }\r\n      }\r\n\r\n      // Convert field data to a query string\r\n      else if (\r\n        (field.type !== 'checkbox' && field.type !== 'radio') ||\r\n        field.checked\r\n      ) {\r\n        serialized.push(\r\n          encodeURIComponent(field.name) + '=' + encodeURIComponent(field.value)\r\n        );\r\n      }\r\n    }\r\n\r\n    return serialized.join('&');\r\n  }\r\n\r\n  static getFormData(form) {\r\n    // Setup our serialized data\r\n    let data = {};\r\n\r\n    // Loop through each field in the form\r\n    for (let i = 0; i < form.elements.length; i++) {\r\n      let field = form.elements[i];\r\n\r\n      // Don't serialize fields without a name, submits, buttons, file and reset inputs, and disabled fields\r\n      if (\r\n        !field.name ||\r\n        field.disabled ||\r\n        field.type === 'file' ||\r\n        field.type === 'reset' ||\r\n        field.type === 'submit' ||\r\n        field.type === 'button'\r\n      )\r\n        continue;\r\n\r\n      // If a multi-select, get all selections\r\n      if (field.type === 'select-multiple') {\r\n        for (let n = 0; n < field.options.length; n++) {\r\n          if (!field.options[n].selected) continue;\r\n\r\n          data[field.name] = field.options[n].value;\r\n        }\r\n      }\r\n\r\n      // Convert field data to a query string\r\n      else if (\r\n        (field.type !== 'checkbox' && field.type !== 'radio') ||\r\n        field.checked\r\n      ) {\r\n        data[field.name] = field.value;\r\n      }\r\n    }\r\n\r\n    return data;\r\n  }\r\n\r\n  static getRandomID() {\r\n    // Generate unique IDs for use as pseudo-private/protected names.\r\n    // Similar in concept to\r\n    // <http://wiki.ecmascript.org/doku.php?id=strawman:names>.\r\n    //\r\n    // The goals of this function are twofold:\r\n    //\r\n    // * Provide a way to generate a string guaranteed to be unique when compared\r\n    //   to other strings generated by this function.\r\n    // * Make the string complex enough that it is highly unlikely to be\r\n    //   accidentally duplicated by hand (this is key if you're using `ID`\r\n    //   as a private/protected name on an object).\r\n    //\r\n    // Use:\r\n    //\r\n    //     var privateName = ID();\r\n    //     var o = { 'public': 'foo' };\r\n    //     o[privateName] = 'bar';\r\n\r\n    // Math.random should be unique because of its seeding algorithm.\r\n    // Convert it to base 36 (numbers + letters), and grab the first 9 characters\r\n    // after the decimal.\r\n\r\n    return (\r\n      '_' +\r\n      Math.random()\r\n        .toString(36)\r\n        .substr(2, 9)\r\n    );\r\n  }\r\n\r\n  static setCookie(cname, cvalue, exdays) {\r\n    const date = new Date();\r\n\r\n    date.setTime(date.getTime() + exdays * 24 * 60 * 60 * 1000);\r\n\r\n    const expires = 'expires=' + date.toUTCString();\r\n\r\n    document.cookie = `${cname}=${cvalue};${expires};path=/`;\r\n  }\r\n\r\n  static getCookie(cname) {\r\n    const decodedCookie = decodeURIComponent(document.cookie);\r\n\r\n    const cookie = decodedCookie\r\n      .split(';')\r\n      .filter(cookie => cookie.includes(cname))[0];\r\n\r\n    return cookie || '';\r\n  }\r\n\r\n  static isInViewport(element) {\r\n    const heightViewport =\r\n      window.innerHeight || document.documentElement.clientHeight;\r\n\r\n    const widthViewport =\r\n      window.innerWidth || document.documentElement.clientWidth;\r\n\r\n    const { top, right, bottom, left } = element.getBoundingClientRect();\r\n\r\n    return (\r\n      top >= 0 &&\r\n      left >= 0 &&\r\n      bottom <= heightViewport &&\r\n      right <= widthViewport\r\n    );\r\n  }\r\n\r\n  static removeAccents(str) {\r\n    const mapAccents = {\r\n      a: 'á|à|ã|â|À|Á|Ã|Â',\r\n      e: 'é|è|ê|É|È|Ê',\r\n      i: 'í|ì|î|Í|Ì|Î',\r\n      o: 'ó|ò|ô|õ|Ó|Ò|Ô|Õ',\r\n      u: 'ú|ù|û|ü|Ú|Ù|Û|Ü',\r\n      c: 'ç|Ç',\r\n      n: 'ñ|Ñ',\r\n    };\r\n\r\n    for (let pattern in mapAccents) {\r\n      str = str.replace(new RegExp(mapAccents[pattern], 'g'), pattern);\r\n    }\r\n\r\n    return str;\r\n  }\r\n}\r\n\r\nexport default Helper;\r\n","/* eslint no-console: 0 */\r\n\r\n/**\r\n * Logger Abstraction class\r\n */\r\nclass Logger {\r\n  /**\r\n   * Logger constructor\r\n   * @param {string} logName Application name to log\r\n   */\r\n  constructor(logName = 'B8ONE Logger Component') {\r\n    this.logName = logName;\r\n  }\r\n\r\n  /**\r\n   * Log error message\r\n   * @param {*} message - Message text\r\n   * @param {*} errorObj - Message object\r\n   */\r\n  error(message = '', errorObj = {}) {\r\n    console.error(message, errorObj);\r\n  }\r\n\r\n  /**\r\n   * Log information message\r\n   * @param {*} message - Message text\r\n   */\r\n  info(message = '') {\r\n    console.info(message);\r\n  }\r\n\r\n  /**\r\n   * Log warning message\r\n   * @param {*} message - Message text\r\n   */\r\n  warning(message = '') {\r\n    console.warn(this.logName, message);\r\n  }\r\n\r\n  /**\r\n   * Generic log\r\n   * @param {String} message - log's message\r\n   */\r\n  log(message = '') {\r\n    console.log(message);\r\n  }\r\n\r\n  /**\r\n   * Generic log\r\n   * @param {String} message - log's message\r\n   * @param {*} object - object to be logged\r\n   */\r\n  log(message = '', object = {}) {\r\n    console.log(message, object);\r\n  }\r\n}\r\n\r\nexport default Logger;\r\n","/* eslint-disable max-len */\r\n\r\nimport { Ensure, Logger } from '../common';\r\nimport HttpClient from './b8one.httpClient';\r\n\r\n/**\r\n * Cart Abstraction class\r\n */\r\nclass CartService {\r\n  /**\r\n   * Cart constructor\r\n   */\r\n  constructor() {\r\n    this._VTEX_API_ENDPOINT = '/api/checkout/pub/orderForm';\r\n\r\n    this._logger = new Logger('Cart service');\r\n    this._httpClient = new HttpClient();\r\n  }\r\n\r\n  /**\r\n   * Get current cart\r\n   * @return {*} Cart object\r\n   */\r\n  async getCurrent() {\r\n    return await this._httpClient.get(this._VTEX_API_ENDPOINT);\r\n  }\r\n\r\n  /**\r\n   * Add item to cart\r\n   * @param {*} skuId - Product sku Id (SKU)\r\n   * @param {*} productQuantity - Product Quantity\r\n   * @param {*} sellerId - Seller id\r\n   */\r\n  async add(skuId, productQuantity, sellerId = 1) {\r\n    // const payload = this._payloadFactory(skuId, productQuantity, sellerId);\r\n\r\n    if (!Ensure.isUndefined(skuId)) {\r\n      const current = await this.getCurrent();\r\n      const indexFound = current.items.findIndex(x => x.id === skuId);\r\n\r\n      if (indexFound > -1) {\r\n        productQuantity =\r\n          parseInt(productQuantity) +\r\n          parseInt(current.items[indexFound].quantity);\r\n      }\r\n\r\n      const endpointUrl = `${this._VTEX_API_ENDPOINT}/${current.orderFormId}/items`;\r\n\r\n      const payload = {\r\n        orderItems: [\r\n          {\r\n            seller: sellerId.toString(),\r\n            quantity: parseInt(productQuantity),\r\n            id: skuId.toString(),\r\n          },\r\n        ],\r\n      };\r\n\r\n      return this._httpClient.patch(endpointUrl, payload);\r\n    }\r\n  }\r\n\r\n  async checkoutCRUD(skus) {\r\n    let { items } = await window.vtexjs.checkout.getOrderForm();\r\n\r\n    const skusCustomProducts = this.getCustomProducts(skus);\r\n\r\n    skus = skus.filter(sku => !sku.isCustom);\r\n    skus = [...skus, ...skusCustomProducts];\r\n\r\n    const skuToIgnore = [19, 698, 25, 26];\r\n\r\n    const indexToRemove = items.reduce((indexList, item, index) => {\r\n      const customProductSKUs = [25, 26];\r\n\r\n      if (customProductSKUs.includes(parseInt(item.id))) {\r\n        return [...indexList, index];\r\n      }\r\n\r\n      return indexList;\r\n    }, []);\r\n\r\n    if (indexToRemove.length > 0) {\r\n      const response = await this.removeMoreProducts(indexToRemove);\r\n\r\n      response && (items = response.items);\r\n    }\r\n\r\n    const productsToAdd = skus\r\n      .filter(sku => sku.quantity > 0)\r\n      .filter(sku => {\r\n        let index = items.findIndex(\r\n          item => parseInt(item.productId) === parseInt(sku.productId)\r\n        );\r\n\r\n        return index === -1 && sku.quantity > 0;\r\n      })\r\n      .map(sku => ({\r\n        quantity: sku.quantity,\r\n        seller: 1,\r\n        id: sku.skuId || sku.id,\r\n      }));\r\n\r\n    console.log('productsToAdd', productsToAdd);\r\n\r\n    const productsToUpdate = skus\r\n      .filter(sku => sku.quantity > 0)\r\n      .filter(sku => {\r\n        const id = sku.skuId || sku.id;\r\n\r\n        let index = items.findIndex(item => parseInt(item.id) === parseInt(id));\r\n\r\n        if (index !== -1) {\r\n          const sameSku = parseInt(items[index].id) === parseInt(sku.id);\r\n          const diffQuantity =\r\n            parseInt(items[index].quantity) !== parseInt(sku.quantity);\r\n\r\n          return sameSku && diffQuantity && sku.quantity > 0;\r\n        }\r\n\r\n        return false;\r\n      })\r\n      .map(sku => {\r\n        const id = sku.skuId || sku.id;\r\n\r\n        let index = items.findIndex(item => parseInt(item.id) === parseInt(id));\r\n\r\n        return {\r\n          index,\r\n          quantity: sku.quantity,\r\n        };\r\n      });\r\n\r\n    console.log('productsToUpdate', productsToUpdate);\r\n\r\n    const productsToReplaceSKU = skus\r\n      .filter(\r\n        sku =>\r\n          sku.quantity > 0 &&\r\n          !skuToIgnore.includes(parseInt(sku.skuId || sku.id))\r\n      )\r\n      .filter(sku => {\r\n        const index = items.findIndex(\r\n          item => parseInt(item.productId) === parseInt(sku.productId)\r\n        );\r\n\r\n        if (index !== -1) {\r\n          const diffSku = parseInt(items[index].id) !== parseInt(sku.skuId);\r\n\r\n          return diffSku;\r\n        }\r\n\r\n        return false;\r\n      })\r\n      .map(sku => {\r\n        const index = items.findIndex(\r\n          item => parseInt(item.productId) === parseInt(sku.productId)\r\n        );\r\n\r\n        const oldSKU = {\r\n          index,\r\n          seller: 1,\r\n          quantity: 0,\r\n        };\r\n\r\n        const newSKU = {\r\n          seller: 1,\r\n          id: sku.skuId,\r\n          quantity: sku.quantity,\r\n        };\r\n\r\n        return [oldSKU, newSKU];\r\n      })\r\n      .reduce((itemsList, current) => {\r\n        const [oldSKU, newSKU] = current;\r\n\r\n        return [...itemsList, oldSKU, newSKU];\r\n      }, []);\r\n\r\n    console.log('productsToReplaceSKU', productsToReplaceSKU);\r\n\r\n    const productsToRemove = skus\r\n      .filter(sku => sku.quantity < 1)\r\n      .filter(sku => {\r\n        const id = sku.skuId || sku.id;\r\n\r\n        let index = items.findIndex(item => parseInt(item.id) === parseInt(id));\r\n\r\n        if (index !== -1) {\r\n          return sku.quantity == 0;\r\n        }\r\n\r\n        return false;\r\n      })\r\n      .map(sku => {\r\n        const id = sku.skuId || sku.id;\r\n\r\n        let index = items.findIndex(item => parseInt(item.id) === parseInt(id));\r\n\r\n        return {\r\n          index,\r\n          quantity: 0,\r\n        };\r\n      });\r\n\r\n    console.log('productsToRemove', productsToRemove);\r\n\r\n    if (productsToUpdate[0]) {\r\n      await window.vtexjs.checkout.updateItems(productsToUpdate, null, false);\r\n    }\r\n\r\n    if (productsToReplaceSKU[0]) {\r\n      await window.vtexjs.checkout.replaceSKU(productsToReplaceSKU);\r\n    }\r\n\r\n    if (productsToRemove[0]) {\r\n      await window.vtexjs.checkout.removeItems(productsToRemove);\r\n    }\r\n\r\n    if (productsToAdd[0]) {\r\n      await window.vtexjs.checkout.addToCart(productsToAdd, null);\r\n    }\r\n  }\r\n\r\n  getCustomProducts(skus) {\r\n    const customProducts = {};\r\n\r\n    skus\r\n      .filter(({ isCustom }) => isCustom === true)\r\n      .forEach(({ skuId, quantity, customProductItem }) => {\r\n        let currentCustomProduct = customProducts[skuId];\r\n\r\n        const customProductQuantity =\r\n          parseInt(customProductItem.quantity) * parseInt(quantity);\r\n\r\n        if (currentCustomProduct) {\r\n          const newQuantity =\r\n            parseInt(currentCustomProduct.quantity) + customProductQuantity;\r\n\r\n          currentCustomProduct = {\r\n            ...currentCustomProduct,\r\n            quantity: newQuantity,\r\n          };\r\n        } else {\r\n          currentCustomProduct = {\r\n            ...customProductItem,\r\n            quantity: customProductQuantity,\r\n            isCustom: true,\r\n          };\r\n        }\r\n\r\n        customProducts[skuId] = currentCustomProduct;\r\n      });\r\n\r\n    return Object.values(customProducts);\r\n  }\r\n\r\n  async getProductIndexInOrderForm(productId) {\r\n    const { items } = await this.getCurrent();\r\n\r\n    const index = items.findIndex(item => item.productId == productId);\r\n\r\n    if (index !== -1) return index;\r\n\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * Remove item to cart\r\n   * @param {JSON} itemIndex - Product item index to be removed\r\n   */\r\n  async remove(itemIndex) {\r\n    const current = await this.getCurrent();\r\n    const endpointUrl = `${this._VTEX_API_ENDPOINT}/${current.orderFormId}/items`;\r\n    const payload = {\r\n      orderItems: [\r\n        {\r\n          index: itemIndex,\r\n          quantity: 0,\r\n        },\r\n      ],\r\n      expectedOrderFormSections: ['items'],\r\n      noSplitItem: true,\r\n    };\r\n\r\n    await this._httpClient.patch(endpointUrl, payload);\r\n  }\r\n\r\n  /**\r\n   * Remove items of cart\r\n   * @param {Array} itemsIndex - Products items index to be removed\r\n   */\r\n  async removeMoreProducts(itemsIndex) {\r\n    const current = await this.getCurrent();\r\n    const endpointUrl = `${this._VTEX_API_ENDPOINT}/${current.orderFormId}/items`;\r\n    const payload = {\r\n      orderItems: itemsIndex.map(index => ({\r\n        index,\r\n        quantity: 0,\r\n      })),\r\n      expectedOrderFormSections: ['items'],\r\n      noSplitItem: true,\r\n    };\r\n\r\n    return await this._httpClient.patch(endpointUrl, payload);\r\n  }\r\n\r\n  async updateProduct(skuId, quantity, seller = 1) {\r\n    const newSKU = {\r\n      seller,\r\n      quantity,\r\n      id: skuId,\r\n    };\r\n\r\n    return await this.updateProducts([newSKU]);\r\n  }\r\n\r\n  async updateProducts(skus) {\r\n    const { items, orderFormId } = await this.getCurrent();\r\n\r\n    skus = skus\r\n      .map(({ id, quantity, seller }) => {\r\n        const index = items.findIndex(\r\n          item => parseInt(item.id) === parseInt(id)\r\n        );\r\n\r\n        return {\r\n          id,\r\n          index,\r\n          quantity,\r\n          seller: seller || 1,\r\n        };\r\n      })\r\n      .filter(sku => sku.index !== -1);\r\n\r\n    if (skus.length > 0) {\r\n      const payload = {\r\n        orderItems: skus,\r\n      };\r\n\r\n      return await this._httpClient.patch(\r\n        `/api/checkout/pub/orderForm/${orderFormId}/items`,\r\n        payload\r\n      );\r\n    }\r\n  }\r\n\r\n  async simulateOrderForm(postalCode, country = 'BRA') {\r\n    try {\r\n      await vtexjs.checkout.getOrderForm();\r\n\r\n      const orderForm = await vtexjs.checkout.calculateShipping({\r\n        postalCode,\r\n        country,\r\n      });\r\n\r\n      return orderForm;\r\n    } catch (error) {\r\n      console.error('Error in simulateOrderForm', error);\r\n    }\r\n  }\r\n\r\n  async simulateShipping(items, postalCode, country = 'BRA') {\r\n    const orderFormSimulated = await vtexjs.checkout.simulateShipping(\r\n      items,\r\n      postalCode,\r\n      country\r\n    );\r\n\r\n    return orderFormSimulated;\r\n  }\r\n\r\n  async updateCheckoutTransporterSLA(logisticsInfo) {\r\n    await vtexjs.checkout.getOrderForm();\r\n\r\n    const { shippingData } = vtexjs.checkout.orderForm;\r\n\r\n    shippingData.logisticsInfo = logisticsInfo;\r\n\r\n    await vtexjs.checkout.sendAttachment('shippingData', shippingData);\r\n  }\r\n\r\n  async updateCheckoutAddress(address) {\r\n    console.log(address);\r\n    await vtexjs.checkout.getOrderForm();\r\n\r\n    const { shippingData } = vtexjs.checkout.orderForm;\r\n\r\n    shippingData.availableAddresses = [\r\n      {\r\n        ...shippingData.address,\r\n        ...address,\r\n      },\r\n    ];\r\n\r\n    shippingData.selectedAddresses = [\r\n      {\r\n        ...shippingData.address,\r\n        ...address,\r\n      },\r\n    ];\r\n\r\n    shippingData.address = {\r\n      ...shippingData.address,\r\n      ...address,\r\n    };\r\n\r\n    return await vtexjs.checkout.sendAttachment('shippingData', shippingData);\r\n  }\r\n\r\n  async setMultipleCustomDataFields(appName, fields) {\r\n    const { orderFormId } = await this.getCurrent();\r\n\r\n    const endpoint = `/api/checkout/pub/orderForm/${orderFormId}/customData/${appName}`;\r\n\r\n    try {\r\n      return await this._httpClient.put(endpoint, fields);\r\n    } catch (error) {\r\n      console.error('setMultipleCustomDataFields', error);\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  async setSingleCustomDataField(appName, appFieldName, appFieldValue) {\r\n    const { orderFormId } = await this.getCurrent();\r\n\r\n    const endpoint = `/api/checkout/pub/orderForm/${orderFormId}/customData/${appName}/${appFieldName}`;\r\n\r\n    const payload = { value: appFieldValue };\r\n\r\n    try {\r\n      return await this._httpClient.put(endpoint, payload);\r\n    } catch (error) {\r\n      console.error('setSingleCustomDataField', error);\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  async removeSingleCustomDataField(appName, appFieldName) {\r\n    const { orderFormId } = await this.getCurrent();\r\n\r\n    const endpoint = `/api/checkout/pub/orderForm/${orderFormId}/customData/${appName}/${appFieldName}`;\r\n\r\n    const payload = { value: null };\r\n\r\n    try {\r\n      return await this._httpClient.delete(endpoint, payload);\r\n    } catch (error) {\r\n      console.error('removeSingleCustomDataField', error);\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * Cart's payload method factory\r\n   * @param {*} skuId - Product Id (SKU)\r\n   * @param {*} productQuantity - Product Quantity\r\n   * @param {*} sellerId - Seller id\r\n   * @return {JSON} cart paylod\r\n   */\r\n  _payloadFactory(skuId, productQuantity, sellerId = 1) {\r\n    return {\r\n      id: skuId,\r\n      quantity: productQuantity,\r\n      seller: sellerId,\r\n    };\r\n  }\r\n}\r\n\r\nexport default CartService;\r\n","//movize/products\r\nimport { createActions, createReducer } from 'reduxsauce';\r\n\r\nconst INITIAL_STATE = {};\r\n\r\nexport const { Types, Creators } = createActions(\r\n  {\r\n    addProduct: {\r\n      productId: null,\r\n      skuId: null,\r\n      skuIdWithBox: null,\r\n      skuIdWithoutBox: null,\r\n      quantity: 0,\r\n      liftingQuantity: 0,\r\n      liftingQuantityOrigin: 0,\r\n      liftingQuantityDestination: 0,\r\n      specialPackaging: false,\r\n      requiresLifting: false,\r\n      isCustom: false,\r\n      customAttributes: null,\r\n      customProductItem: null,\r\n      additionalWeight: false,\r\n      additionalCharges: [],\r\n      requiresAssembly: false,\r\n      requiresDisassembly: false,\r\n    },\r\n    updateProductQuantity: ['productId', 'quantity'],\r\n    updateLiftingQuantity: {\r\n      productId: null,\r\n      liftingQuantity: 0,\r\n      liftingQuantityOrigin: 0,\r\n      liftingQuantityDestination: 0,\r\n    },\r\n    setRequiresLifting: ['productId', 'requiresLifting'],\r\n    setSpecialPackaging: ['productId', 'specialPackaging'],\r\n    updateSkuId: ['productId', 'skuId'],\r\n    resetProductsQuantity: '',\r\n    updateRequiresDisassemblyAndAssembly: [\r\n      'productId',\r\n      'requiresAssembly',\r\n      'requiresDisassembly',\r\n    ],\r\n  },\r\n  {}\r\n);\r\n\r\nexport const setProduct = (state = INITIAL_STATE, action) => {\r\n  const { productId } = action;\r\n  const { type, ...payload } = action;\r\n\r\n  return {\r\n    ...state,\r\n    [productId]: {\r\n      ...payload,\r\n    },\r\n  };\r\n};\r\n\r\nexport const updateProductQuantity = (state = INITIAL_STATE, action) => {\r\n  let { productId, quantity } = action;\r\n  const currentProduct = state[productId];\r\n\r\n  if (parseInt(quantity) < 0 || quantity === '') {\r\n    quantity = 0;\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    [productId]: {\r\n      ...currentProduct,\r\n      quantity,\r\n    },\r\n  };\r\n};\r\n\r\nexport const updateLiftingQuantity = (state = INITIAL_STATE, action) => {\r\n  const { productId } = action;\r\n  const { type, ...payload } = action;\r\n  const currentProduct = state[productId];\r\n\r\n  return {\r\n    ...state,\r\n    [productId]: {\r\n      ...currentProduct,\r\n      ...payload,\r\n    },\r\n  };\r\n};\r\n\r\nexport const setRequiresLifting = (state = INITIAL_STATE, action) => {\r\n  const { productId, requiresLifting } = action;\r\n  const currentProduct = state[productId];\r\n\r\n  return {\r\n    ...state,\r\n    [productId]: {\r\n      ...currentProduct,\r\n      requiresLifting,\r\n    },\r\n  };\r\n};\r\n\r\nexport const setSpecialPackaging = (state = INITIAL_STATE, action) => {\r\n  const { productId, specialPackaging } = action;\r\n  const currentProduct = state[productId];\r\n\r\n  return {\r\n    ...state,\r\n    [productId]: {\r\n      ...currentProduct,\r\n      specialPackaging,\r\n    },\r\n  };\r\n};\r\n\r\nexport const updateSkuId = (state = INITIAL_STATE, action) => {\r\n  const { productId, skuId } = action;\r\n  const currentProduct = state[productId];\r\n\r\n  if (currentProduct.isCustom) {\r\n    currentProduct.customProductItem = {\r\n      ...currentProduct.customProductItem,\r\n      id: skuId,\r\n    };\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    [productId]: {\r\n      ...currentProduct,\r\n      skuId,\r\n    },\r\n  };\r\n};\r\n\r\nexport const resetProductsQuantity = (state = INITIAL_STATE, action) => {\r\n  return Object.entries(state).reduce(\r\n    (products, [productId, product]) => ({\r\n      ...products,\r\n      [productId]: {\r\n        ...product,\r\n        quantity: 0,\r\n        liftingQuantity: 0,\r\n        requiresLifting: false,\r\n        specialPackaging: false,\r\n        liftingQuantityOrigin: 0,\r\n        liftingQuantityDestination: 0,\r\n      },\r\n    }),\r\n    {}\r\n  );\r\n};\r\n\r\nexport const updateRequiresDisassemblyAndAssembly = (\r\n  state = INITIAL_STATE,\r\n  action\r\n) => {\r\n  const { productId, requiresAssembly, requiresDisassembly } = action;\r\n  const currentProduct = state[productId];\r\n\r\n  return {\r\n    ...state,\r\n    [productId]: {\r\n      ...currentProduct,\r\n      requiresAssembly,\r\n      requiresDisassembly,\r\n    },\r\n  };\r\n};\r\n\r\nconst HANDLERS = {\r\n  [Types.ADD_PRODUCT]: setProduct,\r\n  [Types.UPDATE_PRODUCT_QUANTITY]: updateProductQuantity,\r\n  [Types.UPDATE_LIFTING_QUANTITY]: updateLiftingQuantity,\r\n  [Types.SET_REQUIRES_LIFTING]: setRequiresLifting,\r\n  [Types.SET_SPECIAL_PACKAGING]: setSpecialPackaging,\r\n  [Types.UPDATE_SKU_ID]: updateSkuId,\r\n  [Types.RESET_PRODUCTS_QUANTITY]: resetProductsQuantity,\r\n  [Types.UPDATE_REQUIRES_DISASSEMBLY_AND_ASSEMBLY]: updateRequiresDisassemblyAndAssembly,\r\n};\r\n\r\nexport default createReducer(INITIAL_STATE, HANDLERS);\r\n","const CheckboxComponent = ({ id, labelText, isChecked }) => {\r\n  return `\r\n    <label for=\"${id}\">\r\n      <div class=\"checkbox\">\r\n        <input type=\"checkbox\" id=\"${id}\" ${isChecked ? 'checked' : ''}/>\r\n\r\n        <i class=\"far fa-check checkbox__icon\"></i>\r\n\r\n        <p class=\"checkbox__label\">${labelText}</p>\r\n      </div>\r\n    </label>\r\n  `;\r\n};\r\n\r\nexport default CheckboxComponent;\r\n","import questionMarkIcon from '../../../../../svgs/question-marks';\r\n\r\nconst TooltipComponent = ({\r\n  tooltipClassName,\r\n  tooltipPosition,\r\n  tooltipSize,\r\n  tooltipText,\r\n}) => {\r\n  return `\r\n    <button \r\n      aria-label=\"{${tooltipText}}\"\r\n      class=\"tooltip ${tooltipClassName}\" \r\n      data-balloon-pos=\"${tooltipPosition}\" \r\n      data-balloon-length=\"${tooltipSize}\"\r\n    >\r\n      ${questionMarkIcon}\r\n    </button>\r\n  `;\r\n};\r\n\r\nexport default TooltipComponent;\r\n","import CheckboxComponent from '../CheckboxComponent';\r\nimport TooltipComponent from '../TooltipComponent';\r\n\r\nconst ProductCheckboxComponent = ({\r\n  id,\r\n  isChecked,\r\n  labelText,\r\n  tooltipText,\r\n  tooltipClassName,\r\n  tooltipPosition,\r\n  tooltipSize,\r\n}) => {\r\n  return `\r\n    <div class=\"product__container-checkbox\">\r\n      ${CheckboxComponent({\r\n        id,\r\n        labelText,\r\n        isChecked,\r\n      })}\r\n\r\n      ${TooltipComponent({\r\n        tooltipText,\r\n        tooltipClassName,\r\n        tooltipPosition,\r\n        tooltipSize,\r\n      })}\r\n    </div>\r\n  `;\r\n};\r\n\r\nexport default ProductCheckboxComponent;\r\n","const CustomProductImageComponent = () => {\r\n  return `\r\n    <div class=\"product__icon-container\">\r\n      <i class=\"far fa-box product__icon\"></i>\r\n    </div>\r\n  `;\r\n};\r\n\r\nexport default CustomProductImageComponent;\r\n","const ProductImageComponent = (\r\n  imageUrl,\r\n  productName = '',\r\n  imageClassName = ''\r\n) => {\r\n  return `\r\n    <figure class=\"product__figure\">\r\n      <img \r\n        class=\"product__image ${imageClassName}\"\r\n        src=\"${imageUrl}\"\r\n        alt=\"${productName}\"\r\n      />\r\n    </figure>\r\n  `;\r\n};\r\n\r\nexport default ProductImageComponent;\r\n","const iconMinus = `\r\n  <svg width=\"8\" height=\"2\" viewBox=\"0 0 8 2\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <rect width=\"8\" height=\"2\" fill=\"#1E2587\"/>\r\n  </svg>\r\n`;\r\n\r\nconst iconPlus = `\r\n  <svg width=\"8\" height=\"8\" viewBox=\"0 0 8 8\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5 0H3V3H0V5H3V8H5V5H8V3H5V0Z\" fill=\"#1E2587\"/>\r\n  </svg>\r\n`;\r\n\r\nconst ProductActionsComponent = ({ quantity = 0, minQuantity = 0 }) => {\r\n  return `\r\n    <div class=\"product__actions\">\r\n      <button class=\"actions__button product__quantity--minus\">\r\n        ${iconMinus}\r\n      </button>\r\n\r\n      <input\r\n        type=\"number\"\r\n        placeholder=\"0\"\r\n        value=\"${quantity}\"\r\n        min=\"${minQuantity}\"\r\n        class=\"product__quantity\"\r\n      />\r\n\r\n      <button class=\"actions__button product__quantity--add\">\r\n        ${iconPlus}\r\n      </button>\r\n    </div>\r\n  `;\r\n};\r\n\r\nexport default ProductActionsComponent;\r\n","import watch from 'redux-watch';\r\n\r\nimport { Creators as productsActions } from '../../../../state/ducks/products';\r\n\r\nimport ProductCheckboxComponent from './ProductCheckboxComponent';\r\nimport CustomProductImageComponent from './CustomProductImageComponent';\r\nimport ProductImageComponent from './ProductImageComponent';\r\nimport ProductDescriptionComponent from './ProductDescriptionComponent';\r\nimport ProductActionsComponent from './ProductActionsComponent';\r\n\r\nconst liftingTooltipText = `Içamento de moveis e bens em geral são necessários quando não há condições para que seus bens sejam levados por escada ou elevador. Se não tem certeza se o içamento é necessário ou não, não se preocupe. Nossos consultores o orientarão antes da mudança.`;\r\n\r\nconst specialPackagingTooltipText = `Para itens frágeis como televisões, obra de arte, tampos de mesa de vidro ou de marmore, lustres, taças de cristal etc é sempre recomendado utilizar embalagens da madeira feitas sob medida para seu bem. Se não tem certeza se a embalagem especial é necessária ou não, não se preocupe. Nossos consultores o orientarão antes da mudança.`;\r\n\r\nconst disassemblyAndAssemblyTooltipText = `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Velit voluptas quos doloribus nostrum, odio autem distinctio, enim rerum modi consequuntur laboriosam sapiente voluptate non, praesentium dolorem quibusdam quae reiciendis porro?`;\r\n\r\nexport default class ProductComponent {\r\n  constructor(\r\n    {\r\n      productId,\r\n      productName,\r\n      complementName,\r\n      imageUrl,\r\n      assignments,\r\n      ambients,\r\n      description,\r\n      similars,\r\n      lifting,\r\n    },\r\n    store\r\n  ) {\r\n    this.productId = productId;\r\n    this.productName = productName;\r\n    this.complementName = complementName.toLowerCase();\r\n    this.imageUrl = imageUrl;\r\n    this.assignments = assignments;\r\n    this.ambients = ambients;\r\n    this.similars = similars;\r\n    this.lifting = lifting;\r\n    this.store = store;\r\n\r\n    this.watchState();\r\n  }\r\n\r\n  getState = () => this.store.getState().products[this.productId];\r\n\r\n  handledAddQuantityProduct = event => {\r\n    const { quantity } = this.getState();\r\n\r\n    const action = productsActions.updateProductQuantity(\r\n      this.productId,\r\n      quantity + 1\r\n    );\r\n\r\n    this.store.dispatch(action);\r\n  };\r\n\r\n  handledMinusQuantityProduct = event => {\r\n    const { quantity } = this.getState();\r\n\r\n    const action = productsActions.updateProductQuantity(\r\n      this.productId,\r\n      quantity - 1\r\n    );\r\n\r\n    this.store.dispatch(action);\r\n  };\r\n\r\n  handledProductQuantityChange = event => {\r\n    const { value } = event.target;\r\n\r\n    const action = productsActions.updateProductQuantity(this.productId, value);\r\n\r\n    this.store.dispatch(action);\r\n  };\r\n\r\n  handledSpecialPackagingProduct = event => {\r\n    const { checked } = event.target;\r\n\r\n    const action = productsActions.setSpecialPackaging(this.productId, checked);\r\n\r\n    this.store.dispatch(action);\r\n  };\r\n\r\n  handledLiftingProduct = event => {\r\n    const { checked } = event.target;\r\n\r\n    const action = productsActions.setRequiresLifting(this.productId, checked);\r\n\r\n    this.store.dispatch(action);\r\n  };\r\n\r\n  handledDisassemblyAndAssembly = event => {\r\n    const { checked } = event.target;\r\n\r\n    const action = productsActions.updateRequiresDisassemblyAndAssembly(\r\n      this.productId,\r\n      checked,\r\n      checked\r\n    );\r\n\r\n    this.store.dispatch(action);\r\n  };\r\n\r\n  bindEvents = () => {\r\n    const productElements = [\r\n      ...document.querySelectorAll(\r\n        `.product[data-product-id=\"${this.productId}\"]`\r\n      ),\r\n    ];\r\n\r\n    productElements.forEach(productElement =>\r\n      this.productHandleEvents(productElement)\r\n    );\r\n  };\r\n\r\n  productHandleEvents = productElement => {\r\n    const defaultEventsConfig = {\r\n      passive: true,\r\n    };\r\n\r\n    const buttonMinusQuantity = productElement.querySelector(\r\n      '.product__quantity--minus'\r\n    );\r\n    const buttonAddQuantity = productElement.querySelector(\r\n      '.product__quantity--add'\r\n    );\r\n\r\n    const inputLiftingCheckbox = productElement.querySelector(\r\n      '[id$=\"lifting\"]'\r\n    );\r\n    const inputSpecialPackagingCheckbox = productElement.querySelector(\r\n      '[id$=\"special-packaging\"]'\r\n    );\r\n    const inputDisassemblyAndAssemblyCheckbox = productElement.querySelector(\r\n      '[id$=\"disassembly-and-assembly\"]'\r\n    );\r\n\r\n    const inputProductQuantity = productElement.querySelector(\r\n      '.product__quantity'\r\n    );\r\n\r\n    buttonMinusQuantity.addEventListener(\r\n      'click',\r\n      this.handledMinusQuantityProduct,\r\n      defaultEventsConfig\r\n    );\r\n\r\n    buttonAddQuantity.addEventListener(\r\n      'click',\r\n      this.handledAddQuantityProduct,\r\n      defaultEventsConfig\r\n    );\r\n\r\n    inputProductQuantity.addEventListener('keypress', event => {\r\n      var regex = new RegExp('^[0-9]+$');\r\n      var key = String.fromCharCode(!event.charCode ? event.which : event.charCode);\r\n      if (!regex.test(key)) {\r\n        event.preventDefault();\r\n        return false;\r\n      }\r\n    });\r\n\r\n    inputProductQuantity.addEventListener(\r\n      'input',\r\n      this.handledProductQuantityChange,\r\n      defaultEventsConfig\r\n    );\r\n\r\n    if (inputLiftingCheckbox) {\r\n      inputLiftingCheckbox.addEventListener(\r\n        'change',\r\n        this.handledLiftingProduct,\r\n        defaultEventsConfig\r\n      );\r\n    }\r\n\r\n    if (inputSpecialPackagingCheckbox) {\r\n      inputSpecialPackagingCheckbox.addEventListener(\r\n        'change',\r\n        this.handledSpecialPackagingProduct,\r\n        defaultEventsConfig\r\n      );\r\n    }\r\n\r\n    if (inputDisassemblyAndAssemblyCheckbox) {\r\n      inputDisassemblyAndAssemblyCheckbox.addEventListener(\r\n        'change',\r\n        this.handledDisassemblyAndAssembly,\r\n        defaultEventsConfig\r\n      );\r\n    }\r\n  };\r\n\r\n  watchState = () => {\r\n    const w = watch(this.store.getState, ['products', this.productId]);\r\n\r\n    this.store.subscribe(\r\n      w((state, prevState) => {\r\n        if (prevState.quantity !== state.quantity) {\r\n          this.updateQuantity();\r\n        }\r\n\r\n        if (prevState.requiresLifting !== state.requiresLifting) {\r\n          this.updateRequiresLifting();\r\n        }\r\n\r\n        if (prevState.specialPackaging !== state.specialPackaging) {\r\n          this.updateSpecialPackaging();\r\n        }\r\n\r\n        if (\r\n          prevState.requiresAssembly !== state.requiresAssembly ||\r\n          prevState.requiresDisassembly !== state.requiresDisassembly\r\n        ) {\r\n          this.updateRequiresDisassemblyAndAssembly();\r\n        }\r\n      })\r\n    );\r\n  };\r\n\r\n  updateQuantity = () => {\r\n    const { quantity, requiresLifting } = this.getState();\r\n\r\n    const productElements = [\r\n      ...document.querySelectorAll(\r\n        `.product[data-product-id=\"${this.productId}\"]`\r\n      ),\r\n    ];\r\n\r\n    productElements.forEach(productElement => {\r\n      const inputProductQuantity = productElement.querySelector(\r\n        '.product__quantity'\r\n      );\r\n\r\n      productElement.dataset.productQuantity = quantity;\r\n      inputProductQuantity.value = quantity;\r\n    });\r\n\r\n    const liftingQuantity = requiresLifting ? 1 * quantity : 0;\r\n\r\n    const liftingQuantities = {\r\n      'içamento na origem e destino': {\r\n        liftingQuantityOrigin: liftingQuantity,\r\n        liftingQuantityDestination: liftingQuantity,\r\n      },\r\n      'içamento no origem': {\r\n        liftingQuantityOrigin: liftingQuantity,\r\n      },\r\n      'içamento no destino': {\r\n        liftingQuantityDestination: liftingQuantity,\r\n      },\r\n    }[this.lifting];\r\n\r\n    const action = productsActions.updateLiftingQuantity({\r\n      ...liftingQuantities,\r\n      liftingQuantity,\r\n      productId: this.productId,\r\n    });\r\n\r\n    this.store.dispatch(action);\r\n  };\r\n\r\n  updateRequiresLifting = () => {\r\n    const { requiresLifting, quantity } = this.getState();\r\n\r\n    const productElements = [\r\n      ...document.querySelectorAll(\r\n        `.product[data-product-id=\"${this.productId}\"]`\r\n      ),\r\n    ];\r\n\r\n    productElements.forEach(productElement => {\r\n      productElement.dataset.productLifting = requiresLifting;\r\n    });\r\n\r\n    const action = productsActions.updateLiftingQuantity({\r\n      productId: this.productId,\r\n      liftingQuantity: requiresLifting ? 1 * quantity : 0,\r\n    });\r\n\r\n    this.store.dispatch(action);\r\n  };\r\n\r\n  updateSpecialPackaging = () => {\r\n    const { specialPackaging, skuIdWithBox, skuIdWithoutBox } = this.getState();\r\n\r\n    const productElements = [\r\n      ...document.querySelectorAll(\r\n        `.product[data-product-id=\"${this.productId}\"]`\r\n      ),\r\n    ];\r\n\r\n    productElements.forEach(productElement => {\r\n      productElement.dataset.productSpecialPackaging = specialPackaging;\r\n    });\r\n\r\n    const skuId = specialPackaging ? skuIdWithBox : skuIdWithoutBox;\r\n\r\n    const action = productsActions.updateSkuId(this.productId, skuId);\r\n\r\n    this.store.dispatch(action);\r\n  };\r\n\r\n  updateRequiresDisassemblyAndAssembly = () => {\r\n    const { requiresAssembly, requiresDisassembly } = this.getState();\r\n\r\n    const productElements = [\r\n      ...document.querySelectorAll(\r\n        `.product[data-product-id=\"${this.productId}\"]`\r\n      ),\r\n    ];\r\n\r\n    productElements.forEach(productElement => {\r\n      productElement.dataset.productRequiresAssembly = requiresAssembly;\r\n      productElement.dataset.productRequiresDisassembly = requiresDisassembly;\r\n    });\r\n  };\r\n\r\n  render = () => {\r\n    const {\r\n      isCustom,\r\n      quantity,\r\n      requiresLifting,\r\n      specialPackaging,\r\n      skuIdWithBox,\r\n      skuIdWithoutBox,\r\n      requiresAssembly,\r\n      requiresDisassembly,\r\n    } = this.getState();\r\n\r\n    return `\r\n      <article \r\n        class=\"product\" \r\n        data-product-id=\"${this.productId}\"\r\n        data-product-quantity=\"${quantity}\" \r\n        data-sku-id-with-box=\"${skuIdWithBox}\"\r\n        data-sku-id-without-box=\"${skuIdWithoutBox}\"\r\n        data-product-lifting=\"${requiresLifting}\"\r\n        data-product-special-packaging=\"${specialPackaging}\" \r\n        data-product-complement-name=\"${this.complementName}\"\r\n        data-product-categories-ambients=\"${this.ambients}\"\r\n        data-product-similars=\"${this.similars}\"\r\n        data-product-requires-assembly=\"${requiresAssembly}\"\r\n        data-product-requires-disassembly=\"${requiresDisassembly}\"\r\n      >\r\n        ${(this.assignments &&\r\n          this.assignments.includes('içamento') &&\r\n          ProductCheckboxComponent({\r\n            id: `product-${this.productId}-lifting`,\r\n            isChecked: requiresLifting,\r\n            labelText: 'Requer içamento',\r\n            tooltipText: liftingTooltipText,\r\n            tooltipClassName: 'without-padding',\r\n            tooltipPosition: 'left',\r\n            tooltipSize: 'medium',\r\n          })) ||\r\n          ''}\r\n\r\n        ${(this.assignments &&\r\n          this.assignments.includes('embalagem especial') &&\r\n          ProductCheckboxComponent({\r\n            id: `product-${this.productId}-special-packaging`,\r\n            isChecked: specialPackaging,\r\n            labelText: 'Embalagem especial',\r\n            tooltipText: specialPackagingTooltipText,\r\n            tooltipClassName: 'without-padding',\r\n            tooltipPosition: 'left',\r\n            tooltipSize: 'medium',\r\n          })) ||\r\n          ''}\r\n\r\n        ${(this.assignments &&\r\n          this.assignments.includes('Adicional de desmontagem') &&\r\n          ProductCheckboxComponent({\r\n            id: `product-${this.productId}-disassembly-and-assembly`,\r\n            isChecked: requiresAssembly && requiresDisassembly,\r\n            labelText: 'Desmontagem e montagem',\r\n            tooltipText: disassemblyAndAssemblyTooltipText,\r\n            tooltipClassName: 'without-padding',\r\n            tooltipPosition: 'left',\r\n            tooltipSize: 'medium',\r\n          })) ||\r\n          ''}\r\n\r\n        ${\r\n          isCustom\r\n            ? CustomProductImageComponent()\r\n            : ProductImageComponent(this.imageUrl, this.productName)\r\n        }\r\n\r\n        <h3 class=\"product__name\">${this.productName}</h3>\r\n\r\n        ${ProductActionsComponent({ quantity })}\r\n      </article>\r\n    `;\r\n  };\r\n}\r\n","// Dependencies\nimport { tns } from 'tiny-slider/src/tiny-slider';\n\n// Commons\nimport { Helper } from 'Commons';\n\n// Componentes\nimport ModalComponent from 'Components/b8one.modalComponent.js';\n\n// Repositories\nimport MasterdataRepository from 'Repositories/b8one.masterdataRepository.js';\nimport MoveListSaveRepository from 'Repositories/b8one.moveListSaveRepository.js';\n\n// Services\nimport CartService from 'Services/b8one.cartService.js';\nimport StorageService from 'Services/b8one.storageService.js';\nimport VtexCatalogService from 'Services/b8one.vtexCatalogService.js';\n\n// Utils\nimport { REAL } from 'Utils/currency/';\n\nimport store from '../../../state/store';\nimport { Creators as productsActions } from '../../../state/ducks/products';\n\nimport ProductComponent from './ProductComponent';\n\nclass SelectItems {\n  constructor() {\n    this.products = {};\n    this.productInstances = {};\n    this.categories = [];\n    this.categoriesAmbients = [];\n    this.hoistModalInstance = null;\n    this.addCustomProductModalInstance = null;\n    this.cartService = new CartService();\n    this.storageService = new StorageService();\n    this.vtexCatalogService = new VtexCatalogService();\n    this.helper = new Helper();\n    this.masterdataRepository = new MasterdataRepository('CA');\n    this.moveListSaveRepository = new MoveListSaveRepository();\n    this.orderForm = null;\n    this.userMoveSaveList = null;\n\n    this.liftingQuantity = 0;\n    this.lifting = 'içamento na origem e destino';\n\n    this.init();\n  }\n\n  updateOrderForm(orderForm) {\n    if (orderForm) {\n      this.orderForm = orderForm;\n    }\n  }\n\n  async init() {\n    this.setToggleSelectedProducts();\n    this.handledButtonSaveClick();\n    this.setHandledButtonContinueClick();\n    this.initModalHoist();\n\n    const [orderForm, categories, categoriesAmbients] = await Promise.all([\n      this.cartService.getCurrent(),\n      this.getCategories(),\n      this.getCategoriesAmbientsFromMasterData(),\n    ]);\n\n    this.categories = categories;\n    this.categoriesAmbients = categoriesAmbients;\n\n    this.updateOrderForm(orderForm);\n    this.getLiftingFromCustomData();\n\n    this.categories = await this.getProductsByCategories();\n\n    this.addCategoriesAmbientToDOM();\n    this.setHandledAmbientButtonBackClick();\n\n    if (window.location.search.includes('isSavedList=true')) {\n      await this.getUserMoveSaveList();\n    }\n\n    this.setProducts();\n    this.getProductstInOrderForm();\n    this.addProductsToState();\n    this.addProductComponentInstances();\n    this.addCustomProductsToCategories();\n\n    this.addSectionCategoriesToDOM();\n    this.setListenersToProducts();\n\n    // if (window.location.search.includes('isSavedList=true')) {\n    //   this.showOnlyUserMoveSaveListProducts();\n    // }\n\n    this.initAddCustomProductModal();\n\n    this.categoriesCollapseSections();\n    this.setHandledInputSearchChange();\n    this.setHandledButtonCleanInputSearchClick();\n    this.setHandledButtonClearAllClick();\n    this.setHandledCategoriesAmbientClick();\n  }\n\n  setProducts() {\n    this.categories.forEach(({ products }) => {\n      products = products.reduce((obj, product) => {\n        const {\n          productId,\n          productName,\n          assignments,\n          items,\n          ambients,\n          similars,\n          additionalCharges,\n          additionalWeight,\n        } = product;\n        const { imageUrl, complementName } = items[0];\n\n        const [skuWithoutBox, skuWithBox] = items;\n\n        const skuIdWithBox = skuWithBox?.itemId;\n        const skuIdWithoutBox = skuWithoutBox?.itemId;\n        const skuId = skuIdWithoutBox;\n\n        return {\n          ...obj,\n          [productId]: {\n            imageUrl,\n            productId,\n            productName,\n            skuId,\n            ambients,\n            skuIdWithBox,\n            skuIdWithoutBox,\n            complementName,\n            assignments,\n            similars,\n            additionalCharges,\n            additionalWeight,\n          },\n        };\n      }, {});\n\n      this.products = { ...this.products, ...products };\n    });\n  }\n\n  addProductsToState() {\n    Object.values(this.products).forEach(product => {\n      const { imageUrl, complementName, active, ...productData } = product;\n\n      const action = productsActions.addProduct(productData);\n\n      store.dispatch(action);\n    });\n  }\n\n  addProductComponentInstances() {\n    Object.values(this.products).forEach(product => {\n      const { productId } = product;\n\n      const productInstance = new ProductComponent(\n        {\n          ...product,\n          lifting: this.lifting,\n        },\n        store\n      );\n\n      this.productInstances = {\n        ...this.productInstances,\n        [productId]: productInstance,\n      };\n    });\n  }\n\n  addCustomProductsToCategories() {\n    Object.values(this.products)\n      .filter(product => product.isCustom)\n      .forEach(product => {\n        const categoryID = product.customAttributes['product-category'];\n\n        this.categories = this.categories.map(category => {\n          if (category.idHTML !== categoryID) return category;\n\n          const { products } = category;\n\n          return {\n            ...category,\n            products: [...products, product],\n          };\n        });\n      });\n  }\n\n  setListenersToProducts() {\n    Object.values(this.productInstances).forEach(productInstance => {\n      productInstance.bindEvents();\n    });\n  }\n\n  initAddCustomProductModal() {\n    const productAddCustomModal = document.querySelector(\n      '.product-custom-modal'\n    );\n\n    if (productAddCustomModal) {\n      let currentSectionProducts;\n\n      const inputCustomProductName = document.querySelector(\n        '.js-input-custom-product-name'\n      );\n\n      this.addCustomProductModalInstance = new ModalComponent({\n        modal: productAddCustomModal,\n        modalShowCLass: 'wrapper-modal--show',\n        openModalCallback: () => {\n          setTimeout(() => inputCustomProductName.focus(), 500);\n        },\n      });\n\n      const addProductCustomButtons = document.querySelectorAll(\n        '.product--add-custom .button'\n      );\n\n      [...addProductCustomButtons].forEach(button => {\n        button.addEventListener('click', () => {\n          this.addCustomProductModalInstance.show();\n\n          currentSectionProducts = Helper.getParents(\n            button,\n            '.section__products'\n          )[0];\n        });\n      });\n\n      const buttonCloseModal = productAddCustomModal.querySelector(\n        '.modal__close'\n      );\n      const productCustomForm = productAddCustomModal.querySelector(\n        '.modal__form'\n      );\n\n      buttonCloseModal.addEventListener('click', () => {\n        this.addCustomProductModalInstance.close();\n        productCustomForm.reset();\n      });\n\n      productCustomForm.addEventListener('submit', event => {\n        event.preventDefault();\n\n        const customAttributes = Helper.getFormData(productCustomForm);\n        const categorySection = currentSectionProducts?.parentElement;\n        const categoryName = categorySection?.getAttribute('id');\n\n        customAttributes['product-category'] = categoryName;\n\n        const m3 = this.convertCM3ToM3(\n          parseInt(customAttributes['product-height']),\n          parseInt(customAttributes['product-width']),\n          parseInt(customAttributes['product-depth'])\n        );\n\n        const customProductItem = this.getCustomsProducts(m3);\n\n        const productInstance = this.createCustomProduct({\n          customAttributes,\n          customProductItem,\n        });\n\n        if (currentSectionProducts) {\n          currentSectionProducts.lastElementChild.insertAdjacentHTML(\n            'beforebegin',\n            productInstance.render()\n          );\n\n          productInstance.bindEvents();\n        } else {\n          const sectionProducts = document.querySelector(\n            '.products-category .category__section .section__products'\n          );\n\n          const searchResultsProducts = document.querySelector(\n            '.search-results__products'\n          );\n\n          sectionProducts.lastElementChild.insertAdjacentHTML(\n            'beforebegin',\n            productInstance.render()\n          );\n\n          searchResultsProducts.lastElementChild.insertAdjacentHTML(\n            'beforebegin',\n            productInstance.render()\n          );\n\n          productInstance.bindEvents();\n        }\n\n        this.addCustomProductModalInstance.close();\n        productCustomForm.reset();\n      });\n    }\n  }\n\n  initModalHoist() {\n    const hoistModal = document.querySelector('.hoist-modal');\n    const hoistButton = hoistModal.querySelector('.modal__button');\n    const hoistInputs = hoistModal.querySelectorAll('.modal__input');\n\n    hoistInputs.forEach(input => {\n      input.addEventListener('click', () => {\n        const oldInputActive = document.querySelector('.modal__input--active');\n\n        oldInputActive &&\n          oldInputActive.classList.remove('modal__input--active');\n\n        input.querySelector('input').checked = true;\n\n        input.classList.add('modal__input--active');\n\n        if (input.querySelector('input').checked) {\n          this.lifting = input.querySelector('input').value;\n          hoistButton.disabled = false;\n        }\n      });\n    });\n\n    this.hoistModalInstance = new ModalComponent({\n      modal: hoistModal,\n      modalShowCLass: 'wrapper-modal--show',\n    });\n\n    hoistButton.addEventListener('click', async () => {\n      hoistButton.classList.add('js-loading');\n\n      hoistInputs.forEach(item => {\n        if (item.querySelector('input').checked === true) {\n          this.cartService.setSingleCustomDataField(\n            'orderinfo',\n            'lifting',\n            this.lifting\n          );\n        }\n      });\n\n      await this.handledButtonContinueClick(hoistButton);\n\n      this.hoistModalInstance.close();\n    });\n  }\n\n  getLiftingFromCustomData() {\n    const { customData } = this.orderForm;\n\n    if (!customData) return;\n\n    const orderInfoApp = customData.customApps.find(\n      customApp => customApp.id === 'orderinfo'\n    );\n\n    if (!orderInfoApp) return;\n\n    const { lifting } = orderInfoApp;\n\n    if (lifting) {\n      this.lifting = lifting;\n    }\n  }\n\n  setToggleSelectedProducts(event) {\n    const showSelectProductsInput = document.querySelector(\n      '#show-select-products'\n    );\n\n    showSelectProductsInput.addEventListener(\n      'change',\n      ({ target: { checked } }) => this.handledToggleSelectedProducts(checked)\n    );\n  }\n\n  handledToggleSelectedProducts(isSelected) {\n    if (window.pageYOffset > 0) {\n      window.scrollTo(0, 0);\n    }\n\n    const inputSearch = document.querySelector('.js-input-search');\n\n    if (inputSearch.value !== '') {\n      this.clearInputSearch();\n    }\n\n    if (isSelected) {\n      const ambientElement = document.querySelector('.ambient');\n      const productsCategory = document.querySelector('.products-category');\n      const pageCategoriesElement = document.querySelector('.page__categories');\n      const pageSearchResultsAmbientElement = document.querySelector(\n        '.js-search-results-ambient'\n      );\n\n      ambientElement.classList.add('hide');\n      productsCategory.classList.remove('hide');\n      pageCategoriesElement.classList.remove('hide');\n      pageSearchResultsAmbientElement.classList.add('hide');\n\n      this.clearResultsProducts('.js-search-results-ambient');\n    }\n\n    const productsWithoutQuantity = document.querySelectorAll(\n      '.product[data-product-quantity=\"0\"]'\n    );\n\n    const productAddCustoms = document.querySelectorAll('.product--add-custom');\n\n    const categorySections = document.querySelectorAll('.category__section');\n\n    const categorySectionsToHide = [...categorySections].filter(\n      categorySection => {\n        const products = [\n          ...categorySection.querySelectorAll('.product[data-product-id]'),\n        ];\n\n        const totalProductsQuantity = products.reduce((count, product) => {\n          let { productQuantity } = product.dataset;\n\n          productQuantity = parseInt(productQuantity);\n\n          return count + productQuantity;\n        }, 0);\n\n        console.log(totalProductsQuantity);\n\n        return totalProductsQuantity === 0;\n      }\n    );\n\n    const categorySectionsToShow = [...categorySections].filter(\n      categorySection => {\n        const products = [\n          ...categorySection.querySelectorAll('.product[data-product-id]'),\n        ];\n\n        const totalProductsQuantity = products.reduce((count, product) => {\n          let { productQuantity } = product.dataset;\n\n          productQuantity = parseInt(productQuantity);\n\n          return count + productQuantity;\n        }, 0);\n\n        console.log(totalProductsQuantity);\n\n        return totalProductsQuantity !== 0;\n      }\n    );\n\n    [\n      ...productsWithoutQuantity,\n      ...productAddCustoms,\n      ...categorySectionsToHide,\n    ].forEach(element => {\n      isSelected\n        ? element.classList.add('hidden')\n        : element.classList.remove('hidden');\n    });\n\n    [...categorySectionsToShow].forEach(element => {\n      element.classList.add('category__section--show');\n    });\n\n    this.toggleNotProductsSelectedMessage(isSelected);\n  }\n\n  toggleNotProductsSelectedMessage(showMessage = false) {\n    const productsCategoryElement = document.querySelector(\n      '.products-category'\n    );\n\n    const categorySectionsToHide = [...productsCategoryElement.children].filter(\n      categorySection => {\n        return categorySection.classList.contains('hidden');\n      }\n    );\n\n    if (\n      showMessage &&\n      categorySectionsToHide.length === productsCategoryElement.children.length\n    ) {\n      productsCategoryElement.classList.add('without-products');\n    } else {\n      productsCategoryElement.classList.remove('without-products');\n    }\n  }\n\n  createCustomProduct(productData) {\n    let { productId } = productData;\n\n    productId = productId ? productId : Helper.getRandomID();\n\n    const productName = productData.customAttributes['product-name'];\n\n    productData = {\n      ...productData,\n      productId,\n      productName,\n      quantity: 1,\n      skuId: 25,\n      skuIdWithBox: 26,\n      skuIdWithoutBox: 25,\n      isCustom: true,\n      assignments: ['içamento', 'embalagem especial'],\n    };\n\n    const action = productsActions.addProduct(productData);\n\n    store.dispatch(action);\n\n    const productInstance = new ProductComponent({\n      ...productData,\n      productId,\n      complementName: productName,\n    });\n\n    this.products[productId] = {\n      ...productData,\n      productId,\n      complementName: productName,\n    };\n\n    this.productInstances[productId] = productInstance;\n\n    return productInstance;\n  }\n\n  categoriesCollapseSections() {\n    const categorySections = document.querySelectorAll('.category__section');\n\n    [...categorySections].forEach(categorySection => {\n      const sectionContainer = categorySection.querySelector(\n        '.section__container'\n      );\n\n      const buttonToggle = categorySection.querySelector(\n        '.category__button-toggle'\n      );\n\n      const buttonToggleIcon = buttonToggle.querySelector(\n        '.button-toggle__icon'\n      );\n\n      sectionContainer.addEventListener('click', event => {\n        const categorySectionActive = document.querySelector(\n          '.category__section--show'\n        );\n\n        const isVisible = categorySection.classList.contains(\n          'category__section--show'\n        );\n\n        if (categorySectionActive) {\n          const buttonToggleActive = categorySectionActive.querySelector(\n            '.category__button-toggle'\n          );\n\n          const buttonToggleIconActive = buttonToggleActive.querySelector(\n            '.button-toggle__icon'\n          );\n\n          categorySectionActive.classList.remove('category__section--show');\n          buttonToggleActive.classList.remove('category__button-toggle--open');\n          buttonToggleIconActive.classList.replace('fa-minus', 'fa-plus');\n        }\n\n        if (!isVisible) {\n          categorySection.classList.add('category__section--show');\n          buttonToggle.classList.add('category__button-toggle--open');\n          buttonToggleIcon.classList.replace('fa-plus', 'fa-minus');\n        }\n      });\n    });\n  }\n\n  getLiftingSKUs() {\n    const { products } = store.getState();\n\n    this.getLiftingQuantity();\n\n    const liftingQuantity =\n      this.lifting === 'içamento na origem e destino'\n        ? this.liftingQuantity / 2\n        : this.liftingQuantity;\n\n    const skus = [];\n\n    if (\n      this.lifting === 'içamento na origem e destino' ||\n      this.lifting === 'içamento no origem'\n    ) {\n      skus.push({\n        id: 19,\n        skuId: 19,\n        seller: 1,\n        productId: 10,\n        quantity: liftingQuantity,\n      });\n\n      Object.values(products).forEach(product => {\n        if (product.quantity > 0 && product.requiresLifting) {\n          const action = productsActions.updateLiftingQuantity({\n            productId: product.productId,\n            liftingQuantityOrigin: product.liftingQuantity,\n          });\n\n          store.dispatch(action);\n        }\n      });\n    }\n\n    if (\n      this.lifting === 'içamento na origem e destino' ||\n      this.lifting === 'içamento no destino'\n    ) {\n      skus.push({\n        id: 698,\n        skuId: 698,\n        seller: 1,\n        productId: 10,\n        quantity: liftingQuantity,\n      });\n\n      Object.values(products).forEach(product => {\n        if (product.quantity > 0 && product.requiresLifting) {\n          const action = productsActions.updateLiftingQuantity({\n            productId: product.productId,\n            liftingQuantityDestination: product.liftingQuantity,\n          });\n\n          store.dispatch(action);\n        }\n      });\n    }\n\n    return skus;\n  }\n\n  getLiftingQuantity() {\n    const { products } = store.getState();\n\n    this.liftingQuantity = Object.values(products)\n      .filter(({ quantity }) => quantity > 0)\n      .reduce((quantity, product) => {\n        return quantity + product.liftingQuantity;\n      }, 0);\n\n    this.liftingQuantity *=\n      this.lifting === 'içamento na origem e destino' ? 2 : 1;\n  }\n\n  async saveData() {\n    try {\n      let { products } = store.getState();\n\n      await window.vtexjs.checkout.removeAllItems();\n\n      const liftingSKUs = this.getLiftingSKUs();\n\n      const productsWithQuantity = Object.values(products).filter(\n        ({ quantity }) => quantity !== 0\n      );\n\n      const additionalWeightSKUs = this.getAdditionalWeightSKU(\n        productsWithQuantity\n      );\n\n      const disassemblyAndAssemblySKUs = this.getDisassemblyAndAssemblySKU(\n        productsWithQuantity\n      );\n\n      products = productsWithQuantity.map(product => ({\n        ...product,\n        seller: 1,\n        id: product.skuId,\n      }));\n\n      await this.cartService.checkoutCRUD([\n        ...products,\n        ...liftingSKUs,\n        additionalWeightSKUs,\n        disassemblyAndAssemblySKUs,\n      ]);\n\n      await Promise.all([\n        this.cartService.setSingleCustomDataField(\n          'selecteditems',\n          'products_data',\n          JSON.stringify(productsWithQuantity)\n        ),\n        this.cartService.setSingleCustomDataField(\n          'orderinfo',\n          'current_step',\n          'select-items'\n        ),\n        this.updateCustomAppInsurance(),\n        this.updateCustomAppSelectedCourier(),\n      ]);\n    } catch (error) {\n      console.error('saveData', error);\n    }\n  }\n\n  setHandledButtonContinueClick() {\n    const buttonContinue = document.querySelector('.js-button-continue');\n\n    buttonContinue.addEventListener('click', e => {\n      e.preventDefault();\n\n      const { products } = store.getState();\n\n      const productsArray = Object.values(products);\n\n      buttonContinue.classList.add('js-loading');\n\n      const requiresLifting = productsArray.some(\n        product => product.requiresLifting\n      );\n\n      const hasProductSelected = productsArray.some(\n        product => product.quantity > 0\n      );\n\n      if (requiresLifting && hasProductSelected) {\n        this.hoistModalInstance.show();\n      } else {\n        this.handledButtonContinueClick(buttonContinue);\n      }\n    });\n  }\n\n  async handledButtonContinueClick(buttonContinue) {\n    this.blockProducts();\n\n    buttonContinue.classList.add('button--disabled');\n\n    await this.saveData();\n\n    const { products } = store.getState();\n\n    const productsWithQuantity = Object.values(products).filter(\n      product => product.quantity > 0\n    );\n\n    if (productsWithQuantity.length > 0) {\n      window.location.assign('/empresa-de-mudanca');\n    } else {\n      buttonContinue.classList.remove('js-loading');\n      buttonContinue.classList.remove('button--disabled');\n\n      this.unlockProducts();\n\n      this.showButtonContinueTooltip();\n\n      setTimeout(this.hideButtonContinueTooltip, 4000);\n    }\n  }\n\n  showButtonContinueTooltip() {\n    const buttonContinue = document.querySelector('.js-button-continue');\n\n    buttonContinue.setAttribute('data-balloon-pos', 'up');\n    buttonContinue.setAttribute('data-balloon-visible', true);\n    buttonContinue.setAttribute('data-balloon-length', 'fit');\n    buttonContinue.setAttribute(\n      'aria-label',\n      'Para continuar com a mudança é necessario ter pelo menos 1 item selecionado'\n    );\n  }\n\n  hideButtonContinueTooltip() {\n    const buttonContinue = document.querySelector('.js-button-continue');\n\n    buttonContinue.removeAttribute('aria-label');\n    buttonContinue.removeAttribute('data-balloon-pos');\n    buttonContinue.removeAttribute('data-balloon-visible');\n    buttonContinue.removeAttribute('data-balloon-length');\n  }\n\n  handledButtonSaveClick() {\n    const buttonSaveElement = document.querySelector('.js-button-save');\n    const buttonSaveIconElement = document.querySelector(\n      '.js-button-save-icon'\n    );\n    const buttonSaveIconLoadingElement = document.querySelector(\n      '.js-button-save-icon-loading'\n    );\n\n    const buttonContinue = document.querySelector('.js-button-continue');\n\n    buttonSaveElement.addEventListener('click', async event => {\n      document.dispatchEvent(window.initSaveCustomDataEvent);\n\n      this.blockProducts();\n\n      buttonSaveIconElement.classList.add('hide');\n      buttonSaveIconLoadingElement.classList.remove('hide');\n\n      buttonContinue.classList.add('button--disabled');\n\n      await this.saveData();\n\n      document.dispatchEvent(window.endSaveCustomDataEvent);\n\n      this.unlockProducts();\n\n      buttonContinue.classList.remove('button--disabled');\n\n      buttonSaveIconElement.classList.remove('hide');\n      buttonSaveIconLoadingElement.classList.add('hide');\n    });\n  }\n\n  blockProducts() {\n    const sectionProducts = [\n      ...document.querySelectorAll('.section__products'),\n    ];\n\n    sectionProducts.forEach(sectionProduct => {\n      sectionProduct.classList.add('section__products--locked');\n    });\n  }\n\n  unlockProducts() {\n    const sectionProducts = [\n      ...document.querySelectorAll('.section__products'),\n    ];\n\n    sectionProducts.forEach(sectionProduct => {\n      sectionProduct.classList.remove('section__products--locked');\n    });\n  }\n\n  async getCategories() {\n    const { data } = await this.vtexCatalogService.getAllCategories();\n\n    const [categories] = data;\n\n    const categoriesIDBlacklist = [22];\n\n    const categoriesFiltered = categories.children\n      .filter(({ id }) => !categoriesIDBlacklist.includes(id))\n      .map(({ id, name, url }) => {\n        const idHTML = url.split('/').slice(-1)[0];\n\n        return {\n          id,\n          name,\n          url,\n          idHTML,\n          products: [],\n        };\n      });\n\n    return categoriesFiltered;\n  }\n\n  async getProductsByCategories() {\n    return Promise.all(\n      this.categories.map(async category => {\n        let products = await this.vtexCatalogService.getAllProductsByCategories(\n          1,\n          category.id\n        );\n\n        products = products.map(\n          ({\n            productName,\n            productId,\n            items,\n            description,\n            Features,\n            Ambientes = [],\n            similar = [],\n            ...product\n          }) => {\n            items = items.map(({ itemId, images, complementName }) => ({\n              itemId,\n              complementName,\n              imageUrl: images[0].imageUrl,\n            }));\n\n            const ambients = Ambientes.map(ambient => {\n              return Helper.removeAccents(ambient)\n                .toLowerCase()\n                .replace(/\\s/g, '-');\n            });\n\n            const similars = similar.map(similarItem => {\n              return Helper.removeAccents(similarItem)\n                .toLowerCase()\n                .replace(/\\s/g, '-');\n            });\n\n            const additionalCharges = product['Cobranças Adicionais'] || [];\n\n            return {\n              items,\n              ambients,\n              productId,\n              productName,\n              description,\n              assignments: Features,\n              similars,\n              additionalCharges,\n              additionalWeight: additionalCharges.includes('Peso Adicional'),\n            };\n          }\n        );\n\n        return {\n          ...category,\n          products,\n        };\n      })\n    );\n  }\n\n  createAddCustomProductElement() {\n    return `\n      <article class=\"product product--add-custom\">\n        <div class=\"product__container\">\n          <i class=\"fa-question fal product__icon\"></i>\n\n          <h2 class=\"product__title\">Não encontrou um item?</h2>\n\n          <p class=\"product__paragraph\">Clique no botão e adicione manualmente.</p>\n        </div>\n\n        <button class=\"button button--secondary\">Adicionar item</button>\n      </article>\n    `;\n  }\n\n  createProducts(products) {\n    products = products\n      .map(({ productId }) => this.productInstances[productId].render())\n      .join('');\n\n    products += this.createAddCustomProductElement();\n\n    return products;\n  }\n\n  createSectionCategories() {\n    const sectionCategories = this.categories\n      .map(({ name, idHTML, products }, index) => {\n        return `\n          <section class=\"category__section ${\n            index === 0 ? 'category__section--show' : ''\n          }\" id=\"${idHTML}\">\n            <div class=\"section__container\">\n              <h2 class=\"category__name\">${name}</h2>\n\n              <button class=\"category__button-toggle ${\n                index === 0 ? 'category__button-toggle--open' : ''\n              }\">\n                <i class=\"fas button-toggle__icon ${\n                  index === 0 ? 'fa-minus' : 'fa-plus'\n                }\"></i>\n                \n                <span class=\"button-toggle__text\">\n                  ver menos\n                </span>\n              </button>\n            </div>\n\n            <div class=\"section__products\">\n              ${this.createProducts(products)}\n            </div>\n          </section>\n        `;\n      })\n      .join('');\n\n    return sectionCategories;\n  }\n\n  addSectionCategoriesToDOM() {\n    const productsCategory = document.querySelector('.products-category');\n\n    productsCategory.innerHTML = this.createSectionCategories();\n  }\n\n  getProductstInOrderForm() {\n    const { customData } = this.orderForm;\n\n    if (!customData) return;\n\n    const selectedItemsCustomApp = customData.customApps.find(\n      customApp => customApp.id === 'selecteditems'\n    );\n\n    if (!selectedItemsCustomApp) return;\n\n    const products_data = JSON.parse(\n      selectedItemsCustomApp.fields.products_data\n    );\n\n    const products = products_data.reduce((obj, product) => {\n      let productCustom = {};\n      const { productId } = product;\n\n      const productInitialData =\n        productId in this.products ? this.products[productId] : {};\n\n      if (product.isCustom) {\n        const firstCategory = this.categories[0];\n\n        const productName = product.customAttributes['product-name'];\n        const productCategory =\n          product.customAttributes['product-category'] || firstCategory.idHTML;\n\n        product.customAttributes['product-category'] = productCategory;\n\n        productCustom = {\n          productName,\n          complementName: productName,\n          assignments: ['içamento', 'embalagem especial'],\n        };\n      }\n\n      return {\n        ...obj,\n        [productId]: {\n          ...productInitialData,\n          ...product,\n          ...productCustom,\n        },\n      };\n    }, {});\n\n    this.products = {\n      ...this.products,\n      ...products,\n    };\n  }\n\n  /**\n   * Add item to cart\n   * @param {Number} height - height of the product.\n   * @param {Number} width - width of the product.\n   * @param {Number} deph - deph of the product.\n   * @return {Number} - return the cm³ unit to m³ unit.\n   */\n  convertCM3ToM3(height, width, deph) {\n    // 1 m³ é representado da seguinte forma em cm³ = 1000000 cm³\n    const M3EqualCM3 = 1000000;\n\n    return (height * width * deph) / M3EqualCM3;\n  }\n\n  setHandledInputSearchChange() {\n    const searchInput = document.querySelector('.js-input-search');\n\n    const buttonClearInputSearch = document.querySelector(\n      '.js-button-clear-input-search'\n    );\n\n    const pageCategoriesElement = document.querySelector('.page__categories');\n    const ambientElement = document.querySelector('.ambient');\n\n    const pageSearchResultsElement = document.querySelector(\n      '.js-search-results'\n    );\n\n    const pageSearchResultsQueryTextElement = pageSearchResultsElement.querySelector(\n      '.js-search-query'\n    );\n\n    const pageSearchResultsSuggestionsElement = document.querySelector(\n      '.js-search-results-suggestions'\n    );\n\n    const pageSearchResultsAmbientElement = document.querySelector(\n      '.js-search-results-ambient'\n    );\n\n    const productsCategory = document.querySelector('.products-category');\n\n    let timeoutProducts;\n\n    searchInput.addEventListener('input', ({ target }) => {\n      const { value } = target;\n\n      if (timeoutProducts) clearTimeout(timeoutProducts);\n\n      this.clearResultsProducts();\n      this.clearResultsSuggestionsProducts();\n\n      if (window.scrollY > 0) window.scrollTo(0, 0);\n\n      if (value !== '' && value.length > 1) {\n        productsCategory.classList.add('hide');\n        pageCategoriesElement.classList.add('hide');\n        buttonClearInputSearch.classList.add('search__button-clear--show');\n        ambientElement.classList.add('hide');\n        pageSearchResultsElement.classList.remove('hide');\n        pageSearchResultsAmbientElement.classList.add('hide');\n        pageSearchResultsSuggestionsElement.classList.add('hide');\n\n        pageSearchResultsQueryTextElement.textContent = `“${value}”`;\n\n        timeoutProducts = setTimeout(() => {\n          const products = Object.values(this.products).filter(product => {\n            return product.complementName\n              .toLowerCase()\n              .includes(value.toLowerCase());\n          });\n\n          let similarProducts = [];\n\n          if (products.length > 0) {\n            const productWithSimilar = products.find(\n              product => product.similars[0]\n            );\n\n            if (productWithSimilar) {\n              const { similars } = productWithSimilar;\n              similarProducts = Object.values(this.products)\n                .filter(product => {\n                  return !products.find(\n                    productItem => productItem.productId === product.productId\n                  );\n                })\n                .filter(product => {\n                  return similars.some(similarItem => {\n                    return product.similars.includes(similarItem);\n                  });\n                });\n            }\n          }\n\n          if (similarProducts.length > 0) {\n            pageSearchResultsSuggestionsElement.classList.remove('hide');\n          }\n\n          this.updateResultsProducts(products);\n          this.updateResultsSuggestionsProducts(similarProducts);\n        }, 500);\n      } else {\n        productsCategory.classList.remove('hide');\n        pageCategoriesElement.classList.remove('hide');\n        buttonClearInputSearch.classList.remove('search__button-clear--show');\n\n        pageSearchResultsElement.classList.add('hide');\n        pageSearchResultsSuggestionsElement.classList.add('hide');\n\n        pageSearchResultsQueryTextElement.textContent = '';\n\n        this.showHiddenCategoriesAndProducts();\n      }\n    });\n  }\n\n  updateResultsProducts(products, parentSelector = '') {\n    if (products.length === 0) return;\n\n    const resultsProducts = document.querySelector(\n      `${parentSelector} .search-results__products`\n    );\n\n    const productsHTML = products.map(({ productId }) => {\n      const productHTML = this.productInstances[productId].render();\n\n      return productHTML;\n    });\n\n    resultsProducts.innerHTML = productsHTML.join('');\n    resultsProducts.innerHTML += this.createAddCustomProductElement();\n\n    products.forEach(({ productId }) =>\n      this.productInstances[productId].bindEvents()\n    );\n\n    const addProductCustomButton = resultsProducts.querySelector(\n      '.product--add-custom .button'\n    );\n\n    addProductCustomButton.addEventListener('click', () => {\n      this.addCustomProductModalInstance.show();\n    });\n  }\n\n  updateResultsSuggestionsProducts(products) {\n    if (products.length === 0) return;\n\n    const resultsProducts = document.querySelector(\n      `.js-search-results-suggestions .search-results__products`\n    );\n\n    const productsHTML = products.map(({ productId }) => {\n      const productHTML = this.productInstances[productId].render();\n\n      return productHTML;\n    });\n\n    resultsProducts.innerHTML = productsHTML.join('');\n\n    products.forEach(({ productId }) =>\n      this.productInstances[productId].bindEvents()\n    );\n  }\n\n  clearResultsSuggestionsProducts() {\n    this.clearResultsProducts('.js-search-results-suggestions');\n  }\n\n  clearResultsProducts(parentElement = '') {\n    const resultsProducts = document.querySelector(\n      `${parentElement} .search-results__products`\n    );\n\n    resultsProducts.classList.add('empty-search');\n    resultsProducts.innerHTML =\n      '<p>Desculpe, não encontramos o resultado para sua busca</p>';\n  }\n\n  getCustomsProducts(number) {\n    const intenger = Math.trunc(number);\n    const decimal = number % 1;\n    let total = intenger * 10;\n\n    if (decimal) {\n      const decimalFirstNumber = parseInt(\n        decimal.toString().split('.')[1][0],\n        10\n      );\n\n      total += decimalFirstNumber;\n    }\n\n    total = total === 0 ? 1 : total;\n\n    return {\n      id: 25,\n      seller: 1,\n      productId: 12,\n      quantity: total,\n    };\n  }\n\n  async updateCustomAppInsurance() {\n    const { customData } = await this.cartService.getCurrent();\n\n    if (!customData) return;\n\n    const insuranceApp = customData.customApps.filter(customApp => {\n      return (\n        customApp.id === 'insurance' &&\n        !['skipped', 'none'].includes(customApp.fields.items)\n      );\n    })[0];\n\n    if (!insuranceApp) return;\n\n    const { items } = insuranceApp.fields;\n\n    const insuranceItems = JSON.parse(items);\n\n    const newInsuranceItems = Object.values(insuranceItems).filter(item => {\n      return this.products[item.productId].quantity > 0;\n    });\n\n    const newInsuranceItemsObject = newInsuranceItems.reduce((obj, item) => {\n      return { ...obj, [item.productId]: item };\n    }, {});\n\n    const newTotal = Object.values(newInsuranceItems).reduce(\n      (total, product) => {\n        return total.add(product.totalInsuranceFormatted);\n      },\n      REAL('R$ 0,00')\n    );\n\n    await this.cartService.setMultipleCustomDataFields('insurance', {\n      total: newTotal.format(),\n      items: JSON.stringify(newInsuranceItemsObject),\n    });\n  }\n\n  async updateCustomAppSelectedCourier() {\n    const {\n      customData,\n      items,\n      totalizers,\n    } = await this.cartService.getCurrent();\n\n    if (!customData) return;\n\n    const totalItemsWithDiscounts = totalizers\n      .filter(total => total.id !== 'Shipping')\n      .reduce((total, totalizer) => total + totalizer.value, 0);\n\n    const selectedCourierApp = customData.customApps.filter(\n      customApp => customApp.id === 'selectedcourier'\n    )[0];\n\n    if (!selectedCourierApp) return;\n\n    const orderinfoApp = customData.customApps.filter(\n      customApp => customApp.id === 'orderinfo'\n    )[0];\n\n    const { to_address_zipcode } = orderinfoApp.fields;\n\n    const products = items.map(({ id, seller, quantity }) => ({\n      id,\n      seller,\n      quantity,\n    }));\n\n    const insuranceSKU = items.filter(({ id }) => parseInt(id) === 35)[0];\n\n    const { courier_data } = selectedCourierApp.fields;\n    let transporterSelected = JSON.parse(courier_data);\n\n    let { logisticsInfo } = await this.cartService.simulateShipping(\n      products,\n      to_address_zipcode\n    );\n\n    logisticsInfo = logisticsInfo.filter(logisticInfo => {\n      const ids = transporterSelected.courierIds.split(';');\n\n      logisticInfo.slas = logisticInfo.slas.filter(sla => {\n        return ids.includes(sla.deliveryIds[0].courierId);\n      });\n\n      return logisticInfo;\n    });\n\n    transporterSelected = this.getDeliveryTypes(\n      logisticsInfo,\n      transporterSelected\n    );\n\n    let newPrice = logisticsInfo.reduce((total, logisticInfo) => {\n      const currentSLA = logisticInfo.slas.filter(\n        sla => sla.id === transporterSelected.deliveryTypeSelected.slaName\n      )[0];\n\n      return total + currentSLA.price;\n    }, 0);\n\n    newPrice += insuranceSKU\n      ? totalItemsWithDiscounts + -insuranceSKU.manualPrice\n      : totalItemsWithDiscounts;\n\n    const newPriceFormatted = this.helper.formatPrice(newPrice);\n    const { deliveryTypeSelected, deliveryTypes } = transporterSelected;\n\n    transporterSelected.deliveryTypeSelected = {\n      ...deliveryTypeSelected,\n      price: newPrice,\n      priceFormatted: newPriceFormatted,\n    };\n\n    transporterSelected.deliveryTypes = deliveryTypes.map(deliveryType => {\n      if (deliveryType.slaName === deliveryTypeSelected.slaName) {\n        deliveryType = transporterSelected.deliveryTypeSelected;\n      }\n\n      return deliveryType;\n    });\n\n    transporterSelected = this.orderDeliveryTypesByLessPrice(\n      transporterSelected\n    );\n\n    await this.cartService.setSingleCustomDataField(\n      'selectedcourier',\n      'courier_data',\n      JSON.stringify(transporterSelected)\n    );\n  }\n\n  getDeliveryTypes(logisticsInfo, transporterSelected) {\n    const transporterVariations = this.getTransporterVariations(logisticsInfo);\n\n    delete transporterSelected.deliveryType;\n    delete transporterSelected.deliveryTypes;\n\n    logisticsInfo[0].slas.forEach(({ id, name, deliveryIds }) => {\n      const key = id.toLowerCase().replace(/\\s/g, '');\n      const [courierName, courierType] = id.split(' - ');\n\n      const { courierId } = deliveryIds[0];\n\n      const { price } = transporterVariations[key];\n\n      const priceFormatted = this.helper.formatPrice(price);\n\n      const courier = [\n        {\n          price,\n          priceFormatted,\n          id: courierId,\n          type: courierType,\n          slaName: name,\n        },\n      ];\n\n      if (transporterSelected.deliveryTypes) {\n        transporterSelected.deliveryTypes = [\n          ...courier,\n          ...transporterSelected.deliveryTypes,\n        ];\n      } else {\n        transporterSelected.deliveryTypes = courier;\n      }\n    });\n\n    return transporterSelected;\n  }\n\n  getTransporterVariations(logisticsInfo) {\n    const transporterVariations = {};\n\n    logisticsInfo.forEach(({ slas }) => {\n      slas.forEach(({ id, price, name }) => {\n        const key = id.toLowerCase().replace(/\\s/g, '');\n\n        if (transporterVariations[key]) {\n          transporterVariations[key].price += price;\n        } else {\n          transporterVariations[key] = {\n            price,\n            name,\n          };\n        }\n      });\n    });\n\n    return transporterVariations;\n  }\n\n  orderDeliveryTypesByLessPrice(transporterSelected) {\n    transporterSelected.deliveryTypes.sort((a, b) => a.price - b.price);\n\n    return transporterSelected;\n  }\n\n  setHandledButtonCleanInputSearchClick() {\n    const buttonnClearInputSearch = document.querySelector(\n      '.js-button-clear-input-search'\n    );\n\n    buttonnClearInputSearch.addEventListener('click', e =>\n      this.clearInputSearch()\n    );\n  }\n\n  clearInputSearch() {\n    const eventChange = new Event('input', { bubbles: true });\n    const inputSearch = document.querySelector('.js-input-search');\n\n    inputSearch.value = '';\n\n    inputSearch.dispatchEvent(eventChange);\n  }\n\n  async removeProducts() {\n    await window.vtexjs.checkout.removeAllItems();\n    await this.cartService.removeSingleCustomDataField('insurance', 'items');\n    await this.cartService.removeSingleCustomDataField('insurance', 'total');\n    await this.cartService.removeSingleCustomDataField(\n      'selecteditems',\n      'products_data'\n    );\n    await this.cartService.removeSingleCustomDataField(\n      'selectedcourier',\n      'courier_data'\n    );\n    await this.cartService.removeSingleCustomDataField(\n      'orderinfo',\n      'lifting_total_price'\n    );\n    await this.cartService.removeSingleCustomDataField(\n      'orderinfo',\n      'special_packaging_total_price'\n    );\n\n    store.dispatch(productsActions.resetProductsQuantity());\n  }\n\n  setHandledButtonClearAllClick() {\n    const buttonClearAllElement = document.querySelector(\n      '.js-button-clear-all'\n    );\n\n    const buttonClearAllIconElement = document.querySelector(\n      '.js-button-clear-all-icon'\n    );\n\n    const buttonClearAllIconLoadingElement = document.querySelector(\n      '.js-button-clear-all-icon-loading'\n    );\n\n    buttonClearAllElement &&\n      buttonClearAllElement.addEventListener('click', async () => {\n        this.blockProducts();\n\n        buttonClearAllIconElement.classList.add('hide');\n        buttonClearAllIconLoadingElement.classList.remove('hide');\n\n        await this.removeProducts();\n\n        this.unlockProducts();\n\n        alert('Todos os itens da lista foram excluídos!');\n\n        buttonClearAllIconElement.classList.remove('hide');\n        buttonClearAllIconLoadingElement.classList.add('hide');\n      });\n  }\n\n  async getCategoriesAmbientsFromMasterData() {\n    const fields =\n      'category_name,category_description,category_image,category_id,id';\n\n    try {\n      const response = await this.masterdataRepository.search(\n        `_where=category_active=Sim&_fields=${fields}`\n      );\n\n      const categories = response.map(async category => {\n        category.category_image_url = await this.masterdataRepository.getAttachmentUrl(\n          category.id,\n          'category_image',\n          category.category_image\n        );\n\n        return category;\n      });\n\n      return Promise.all(categories);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  createCategoryAmbientElement({\n    category_id,\n    category_name,\n    category_image_url,\n  }) {\n    return `\n      <section class=\"category\" data-category-ambient-id=\"${category_id.toLowerCase()}\">\n        <div class=\"category__container\">\n          <figure class=\"category__figure\">\n            <img \n              class=\"category__img\"\n              src=\"${category_image_url}\"\n              alt=\"${category_name}\"\n            />\n          </figure>\n          \n          <h4 class=\"category__name\">${category_name}</h4>\n        </div>\n      </section>\n    `;\n  }\n\n  addCategoriesAmbientToDOM() {\n    const categoriesItemsElement = document.querySelector(\n      '.page__categories .categories__items'\n    );\n\n    if (!categoriesItemsElement) return;\n\n    const categoriesAmbientsHTML = this.categoriesAmbients\n      .map(this.createCategoryAmbientElement)\n      .join('');\n\n    categoriesItemsElement.innerHTML = categoriesAmbientsHTML;\n\n    tns({\n      container: '.page__categories .categories__items',\n      items: 5,\n      slideBy: 'page',\n      autoplay: false,\n      controls: false,\n      center: false,\n      autoWidth: true,\n      nav: false,\n      loop: false,\n      preventScrollOnTouch: 'auto',\n    });\n  }\n\n  setHandledCategoriesAmbientClick() {\n    const productsCategoryElement = document.querySelector(\n      '.products-category'\n    );\n\n    const searchResultsAmbientElement = document.querySelector(\n      '.js-search-results-ambient'\n    );\n\n    const categoriesItems = [\n      ...document.querySelector('.page__categories .categories__items')\n        .children,\n    ];\n\n    categoriesItems.forEach(item => {\n      item.addEventListener('click', () => {\n        const { categoryAmbientId } = item.dataset;\n\n        this.clearInputSearch();\n        this.updateAmbientElement(categoryAmbientId);\n        this.clearResultsProducts('.js-search-results-ambient');\n\n        const categorySections = document.querySelectorAll(\n          '.category__section'\n        );\n\n        categorySections.forEach(categorySection => {\n          const products = [\n            ...categorySection.querySelectorAll(\n              '.product:not(.product--add-custom)'\n            ),\n          ];\n\n          products.forEach(product => {\n            const { productCategoriesAmbients } = product.dataset;\n\n            const showProduct = productCategoriesAmbients.includes(\n              categoryAmbientId\n            );\n\n            if (!showProduct) {\n              product.classList.add('hide');\n            }\n          });\n\n          const hideAllProducts =\n            categorySection.querySelectorAll(\n              '.product:not(.hide):not(.product--add-custom)'\n            ).length === 0;\n\n          if (hideAllProducts) {\n            categorySection.classList.add('hide');\n          }\n        });\n\n        const visibleProducts = [\n          ...document.querySelectorAll(\n            '.product:not(.hide):not(.product--add-custom)'\n          ),\n        ];\n\n        const products = visibleProducts.map(product => {\n          const { productId } = product.dataset;\n\n          return { productId };\n        });\n\n        productsCategoryElement.classList.add('hide');\n\n        searchResultsAmbientElement.classList.remove('hide');\n        this.updateResultsProducts(products, '.js-search-results-ambient');\n      });\n    });\n  }\n\n  updateAmbientElement(categoryAmbientId) {\n    const currentCategory = this.categoriesAmbients.find(\n      ({ category_id }) => category_id === categoryAmbientId\n    );\n\n    const pageCategoriesElement = document.querySelector('.page__categories');\n    const ambientElement = document.querySelector('.ambient');\n    const ambientImageElement = ambientElement.querySelector('.ambient__image');\n    const ambientNameElement = ambientElement.querySelector('.ambient__name');\n    const ambientDescription = ambientElement.querySelector(\n      '.ambient__description'\n    );\n\n    ambientImageElement.style.backgroundImage = `url(${currentCategory.category_image_url})`;\n    ambientNameElement.textContent = currentCategory.category_name;\n    ambientDescription.textContent =\n      currentCategory.category_description !== '-'\n        ? currentCategory.category_description\n        : '';\n\n    pageCategoriesElement.classList.add('hide');\n    ambientElement.classList.remove('hide');\n  }\n\n  setHandledAmbientButtonBackClick() {\n    const pageCategoriesElement = document.querySelector('.page__categories');\n    const ambientElement = document.querySelector('.ambient');\n    const ambientButtonBackElement = document.querySelector(\n      '.js-ambient-button-back'\n    );\n\n    const productsCategoryElement = document.querySelector(\n      '.products-category'\n    );\n\n    const pageSearchResultsAmbientElement = document.querySelector(\n      '.js-search-results-ambient'\n    );\n\n    ambientButtonBackElement.addEventListener('click', () => {\n      this.clearResultsProducts('.js-search-results-ambient');\n\n      pageCategoriesElement.classList.remove('hide');\n      productsCategoryElement.classList.remove('hide');\n      ambientElement.classList.add('hide');\n      pageSearchResultsAmbientElement.classList.add('hide');\n\n      this.showHiddenCategoriesAndProducts();\n    });\n  }\n\n  showHiddenCategoriesAndProducts() {\n    const hiddenElements = [\n      ...document.querySelectorAll('.category__section.hide'),\n      ...document.querySelectorAll('.category__section .product.hide'),\n    ];\n\n    hiddenElements.forEach(hiddenElement => {\n      hiddenElement.classList.remove('hide');\n    });\n  }\n\n  async getUserMoveSaveList() {\n    try {\n      const orderInfoApp = this.orderForm.customData?.customApps.find(\n        customApp => customApp.id === 'orderinfo'\n      );\n\n      if (!orderInfoApp) return;\n\n      const { moveListSaveSelected: DocumentId } = orderInfoApp.fields;\n\n      if (DocumentId === 'custom list') return;\n\n      this.userMoveSaveList = await this.moveListSaveRepository.getListByDocumentId(\n        DocumentId\n      );\n\n      if (!this.userMoveSaveList.hasOwnProperty('id')) return;\n\n      await this.updateProductsWithUserMoveSaveListProducts();\n    } catch (error) {\n      this.userMoveSaveList = null;\n    }\n  }\n\n  async updateProductsWithUserMoveSaveListProducts() {\n    if (this.userMoveSaveList?.isTemplate) return;\n\n    this.updateOrderForm(await this.removeProducts());\n\n    const listItems = JSON.parse(this.userMoveSaveList.listItems);\n\n    const products = listItems.map(({ skuId, quantity }) => ({\n      quantity,\n      id: skuId,\n      seller: 1,\n    }));\n\n    this.updateOrderForm(\n      await this.cartService.setSingleCustomDataField(\n        'selecteditems',\n        'products_data',\n        this.userMoveSaveList.listItems\n      )\n    );\n\n    this.updateOrderForm(await vtexjs.checkout.addToCart(products));\n  }\n\n  showOnlyUserMoveSaveListProducts() {\n    if (!this.userMoveSaveList.hasOwnProperty('id')) return;\n\n    const showSelectProductsInput = document.querySelector(\n      '#show-select-products'\n    );\n\n    showSelectProductsInput.checked = true;\n\n    this.handledToggleSelectedProducts(true);\n  }\n\n  getAdditionalWeightSKU(products) {\n    const totalQuantity = products\n      .filter(product => product.additionalWeight)\n      .reduce((total, { quantity }) => total + quantity, 0);\n\n    return {\n      id: 696,\n      seller: 1,\n      quantity: totalQuantity,\n    };\n  }\n\n  getDisassemblyAndAssemblySKU(products) {\n    const totalQuantity = products\n      .filter(\n        ({ requiresAssembly, requiresDisassembly }) =>\n          requiresAssembly && requiresDisassembly\n      )\n      .reduce((total, { quantity }) => total + quantity, 0);\n\n    return {\n      id: 699,\n      seller: 1,\n      quantity: totalQuantity,\n    };\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  window.SelectItems = new SelectItems();\n});\n","//Dependencies\r\nimport { combineReducers } from 'redux';\r\n\r\n//Reducers\r\nimport productsReducer from '../ducks/products/';\r\nimport user from '../ducks/user/';\r\n\r\nexport default combineReducers({\r\n  user,\r\n  products: productsReducer,\r\n});\r\n","//Dependencies\r\nimport { createStore } from 'redux';\r\n\r\n// Reducers\r\nimport rootReducer from '../reducer';\r\n\r\nconst store =\r\n  process.env.NODE_ENV === 'production'\r\n    ? createStore(rootReducer)\r\n    : createStore(\r\n        rootReducer,\r\n        window.__REDUX_DEVTOOLS_EXTENSION__ &&\r\n          window.__REDUX_DEVTOOLS_EXTENSION__()\r\n      );\r\n\r\nexport default store;\r\n","const questionMarkIcon = `\r\n  <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M0 6C0 2.68629 2.68629 0 6 0C7.5913 0 9.11742 0.632141 10.2426 1.75736C11.3679 2.88258 12 4.4087 12 6C12 9.31371 9.31371 12 6 12C2.68629 12 0 9.31371 0 6ZM1.2 6C1.2 3.34903 3.34903 1.2 6 1.2C7.27304 1.2 8.49394 1.70571 9.39411 2.60589C10.2943 3.50606 10.8 4.72696 10.8 6C10.8 8.65097 8.65097 10.8 6 10.8C3.34903 10.8 1.2 8.65097 1.2 6Z\" fill=\"#FF8B30\"></path>\r\n    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.52477 5.64858C7.72699 5.46695 7.87409 5.23299 7.94956 4.97301C8.05495 4.58422 7.99364 4.16952 7.78013 3.82707C7.60505 3.5515 7.34669 3.33775 7.04189 3.21631C6.68197 3.06803 6.2952 2.99452 5.90549 3.00032C5.63943 3.00597 5.37643 3.05796 5.12853 3.15391C4.75729 3.28709 4.43681 3.53107 4.21118 3.85227C4.07715 4.0425 4.0038 4.26822 4.0006 4.50024C3.99377 4.63501 4.0458 4.76617 4.1434 4.86022C4.21592 4.92734 4.3069 4.97161 4.40481 4.98741C4.62739 5.0486 4.86425 4.95914 4.98935 4.76662C5.044 4.6796 5.09015 4.58752 5.13634 4.49538C5.15765 4.45285 5.17897 4.41031 5.20114 4.36825C5.28213 4.18262 5.43733 4.03874 5.62956 3.97107C5.80481 3.91797 5.99041 3.90768 6.17053 3.94107C6.28851 3.95991 6.40065 4.00504 6.4985 4.07306C6.76959 4.26265 6.81921 4.69103 6.66067 4.95262C6.54468 5.12612 6.39836 5.27769 6.22862 5.40019C6.00095 5.56231 5.78795 5.74379 5.59204 5.94256C5.42347 6.11621 5.32636 6.346 5.31974 6.58693C5.30676 6.7854 5.40487 6.97489 5.5751 7.0801C5.67734 7.14064 5.79691 7.16595 5.91517 7.1521C6.09844 7.15241 6.26297 7.04079 6.32907 6.87131C6.36054 6.79772 6.39281 6.72092 6.42589 6.64093C6.46471 6.53352 6.53052 6.4377 6.6171 6.36254C6.7466 6.26175 6.87609 6.16095 7.00801 6.06496C7.19053 5.93918 7.36327 5.8 7.52477 5.64858ZM5.1842 8.35083C5.1842 8.70936 5.47733 9 5.83893 9C6.01257 9 6.17911 8.93161 6.30189 8.80986C6.42468 8.68812 6.49366 8.523 6.49366 8.35083C6.49366 7.99231 6.20053 7.70167 5.83893 7.70167C5.47733 7.70167 5.1842 7.99231 5.1842 8.35083Z\" fill=\"#FF8B30\"></path>\r\n  </svg>\r\n`;\r\n\r\nexport default questionMarkIcon;\r\n","import fetch from 'unfetch';\r\nimport { Ensure, Logger } from '../common';\r\n\r\n/**\r\n * HttpClient Abstraction class\r\n */\r\nclass HttpClient {\r\n  /**\r\n   * HttpClient constructor\r\n   */\r\n  constructor() {\r\n    this._logger = new Logger('httpClient');\r\n  }\r\n\r\n  /**\r\n   * Get\r\n   * @param {String} endpointUrl\r\n   * @return {Promise}\r\n   */\r\n  get(endpointUrl) {\r\n    if (!Ensure.isUndefined(endpointUrl)) {\r\n      return this._execute(endpointUrl, 'GET');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Delete\r\n   * @param {String} endpointUrl\r\n   * @return {Promise}\r\n   */\r\n  delete(endpointUrl) {\r\n    if (!Ensure.isUndefined(endpointUrl)) {\r\n      return this._execute(endpointUrl, 'DELETE');\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {String} endpointUrl\r\n   * @param {JSON} payload\r\n   * @return {Promise}\r\n   */\r\n  post(endpointUrl, payload = {}) {\r\n    if (!Ensure.isUndefined(endpointUrl)) {\r\n      return this._execute(endpointUrl, 'POST', payload);\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {String} endpointUrl\r\n   * @param {JSON} payload\r\n   * @return {Promise}\r\n   */\r\n  put(endpointUrl, payload) {\r\n    if (!Ensure.isUndefined(endpointUrl) && !Ensure.isUndefined(payload)) {\r\n      return this._execute(endpointUrl, 'PUT', payload);\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {String} endpointUrl\r\n   * @param {JSON} payload\r\n   * @return {Promise}\r\n   */\r\n  patch(endpointUrl, payload) {\r\n    if (!Ensure.isUndefined(endpointUrl) && !Ensure.isUndefined(payload)) {\r\n      return this._execute(endpointUrl, 'PATCH', payload);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {String} endpointUrl\r\n   * @param {String} httpVerb\r\n   * @param {Object} payload\r\n   * @return {Promise}\r\n   */\r\n  _execute(endpointUrl, httpVerb, payload) {\r\n    let header = {\r\n      method: httpVerb,\r\n      headers: {\r\n        // 'Accept': 'application/vnd.vtex.ds.v10+json',\r\n        // 'Content-Type': 'application/json',\r\n        accept: 'application/vnd.vtex.masterdata.v10+json',\r\n        'content-type': 'application/json; charset=utf-8',\r\n      },\r\n    };\r\n\r\n    if (payload) {\r\n      header['body'] = JSON.stringify(payload);\r\n    }\r\n\r\n    return fetch(endpointUrl, header)\r\n      .then(this.validateResponse)\r\n      .then(this.parseResponseToJson)\r\n      .then(data => {\r\n        return data;\r\n      })\r\n      .catch(error => {\r\n        this._logger.log('Request succeeded with JSON response', error);\r\n        return error;\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Parse response data to json object\r\n   * @param {*} response - Request response\r\n   * @return {JSON} json data\r\n   */\r\n  async parseResponseToJson(response) {\r\n    if (!response.ok) {\r\n      return response;\r\n    }\r\n\r\n    return await response.json();\r\n  }\r\n\r\n  /**\r\n   * Response validation\r\n   * @param {*} response\r\n   * @return {Promise} promise result\r\n   */\r\n  validateResponse(response) {\r\n    if (response.ok) {\r\n      return Promise.resolve(response);\r\n    } else {\r\n      return Promise.reject(new Error(response.statusText));\r\n    }\r\n  }\r\n}\r\n\r\nexport default HttpClient;\r\n","import MasterdataRepository from './b8one.masterdataRepository';\r\n\r\n/**\r\n * MoveListSaveRepository class\r\n */\r\nexport default class MoveListSaveRepository extends MasterdataRepository {\r\n  constructor() {\r\n    super('LS');\r\n  }\r\n\r\n  /**\r\n   * This function add a new document to LS entity on Master Data\r\n   * @param  {String} name\r\n   * @param  {String} email\r\n   * @param  {String} date\r\n   * @param  {Array|String} items\r\n   */\r\n  async addList(name, email, date, items) {\r\n    const apiEndpoint = `${this._VTEX_MASTERDATA_ENDPOINT}/documents`;\r\n\r\n    if (Array.isArray(items)) {\r\n      items = JSON.stringify(items);\r\n    }\r\n\r\n    return this.httpClient_.post(apiEndpoint, {\r\n      listName: name,\r\n      listDate: date,\r\n      listEmail: email,\r\n      listItems: items,\r\n    });\r\n  }\r\n\r\n  async getListByQuery(\r\n    query,\r\n    fields = [\r\n      'id',\r\n      'listName',\r\n      'listEmail',\r\n      'homeType',\r\n      'homeSize',\r\n      'listDate',\r\n      'listItems',\r\n      'isTemplate',\r\n    ]\r\n  ) {\r\n    const params = new URLSearchParams();\r\n\r\n    params.append('_where', query);\r\n    params.append('_fields', `${fields}`);\r\n\r\n    console.log(params);\r\n\r\n    return this.search(params);\r\n  }\r\n\r\n  /**\r\n   * This function get the documents of LS entity on Master Data by email field\r\n   * @param  {String} email\r\n   * @param  {Array|String} fields=['id', 'listName', 'listEmail', 'listDate', 'listItems', 'isTemplate']\r\n   */\r\n  async getAllListsByEmail(\r\n    email,\r\n    fields = [\r\n      'id',\r\n      'listName',\r\n      'listEmail',\r\n      'listDate',\r\n      'homeType',\r\n      'homeSize',\r\n      'listItems',\r\n      'isTemplate',\r\n    ]\r\n  ) {\r\n    const params = new URLSearchParams();\r\n\r\n    params.append('_where', `(listEmail=${email} AND isTemplate=false)`);\r\n    params.append('_fields', `${fields}`);\r\n\r\n    return this.search(params);\r\n  }\r\n\r\n  /**\r\n   * This function get the lists templates of LS entity on Master Data\r\n   * @param  {Array|String} ['id', 'listName', 'listRooms', 'listExcerpt', 'listDescription']\r\n   */\r\n  async getAllListsTemplates(\r\n    fields = ['id', 'listName', 'listRooms', 'listExcerpt', 'listDescription']\r\n  ) {\r\n    const params = new URLSearchParams();\r\n\r\n    params.append('_where', `isTemplate=true`);\r\n    params.append('_fields', `${fields}`);\r\n\r\n    return this.search(params);\r\n  }\r\n\r\n  /**\r\n   * This function get the documents of LS entity on Master Data by DocumentId\r\n   * @param  {String} DocumentId\r\n   * @param  {Array|String} fields=['id', 'listName', 'listDate', 'listItems', 'listRooms', 'listExcerpt', 'listDescription', 'isTemplate']\r\n   */\r\n  async getListByDocumentId(\r\n    DocumentId,\r\n    fields = [\r\n      'id',\r\n      'listName',\r\n      'listDate',\r\n      'listItems',\r\n      'listRooms',\r\n      'homeType',\r\n      'homeSize',\r\n      'listExcerpt',\r\n      'listDescription',\r\n      'isTemplate',\r\n    ]\r\n  ) {\r\n    const params = new URLSearchParams();\r\n\r\n    params.append('_fields', `${fields}`);\r\n\r\n    return this.getByDocumentIdWithFields(DocumentId, fields);\r\n  }\r\n\r\n  /**\r\n   * @param  {String} DocumentId\r\n   */\r\n  async deleteListByDocumentId(DocumentId) {\r\n    return this.delete(DocumentId);\r\n  }\r\n}\r\n"],"sourceRoot":""}