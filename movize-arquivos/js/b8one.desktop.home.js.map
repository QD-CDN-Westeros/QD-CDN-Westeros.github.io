{"version":3,"sources":["webpack:///./src/js/general/services/b8one.GoogleMapsService.js","webpack:///./src/js/general/repositories/b8one.masterdataRepository.js","webpack:///./src/js/general/services/b8one.transporterService.js","webpack:///./src/js/general/services/b8one.vtexUser.js","webpack:///./src/js/general/components/b8one.modalComponent.js","webpack:///./src/js/general/common/b8one.ensure.js","webpack:///./src/js/general/common/b8one.helper.js","webpack:///./src/js/general/common/b8one.logger.js","webpack:///./src/js/general/services/b8one.cartService.js","webpack:///./src/js/store/desktop/home/index.js","webpack:///./src/js/general/services/b8one.httpClient.js","webpack:///./src/js/general/repositories/b8one.moveListSaveRepository.js"],"names":["GoogleMapsService","this","API_KEY","api","axios","create","baseURL","zipcode","initialRange","finalRange","convertZipcodeToFloat","textRemoved","replace","addDecimalDot","slice","parseFloat","toFixed","lat","lng","get","params","latlng","key","console","error","MasterdataRepository","entityCode","entityCode_","httpClient_","HttpClient","_VTEX_MASTERDATA_ENDPOINT","entityPayload","apiEndpoint","put","then","res","patch","documentId","fields","delete","field","fileName","getAttachmentUrl","TransporterService","httpClient","endpoint","hubID","query","VtexUser","_httpClient","_vtexCurrentUserEndpoint","options","language","forceReload","forceScrollTop","window","vtexid","start","locale","scrollTo","ModalComponent","modal","modalShowCLass","openModalCallback","closeModalCallback","isOpen","openCallback","Function","closeCallback","Element","document","querySelector","classList","add","remove","Ensure","value","undefined","input","isUndefined","checkValidity","object","props","getMissingProps","length","missingProps","forEach","prop","push","Helper","_logger","Logger","navigator","userLanguage","currency","currencyLocale","minimumFractionDigits","elem","selector","prototype","matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","s","ownerDocument","querySelectorAll","i","item","parents","parentNode","form","serialized","elements","name","disabled","type","n","selected","encodeURIComponent","checked","join","data","Math","random","toString","substr","cname","cvalue","exdays","date","Date","setTime","getTime","expires","toUTCString","cookie","decodeURIComponent","split","filter","includes","element","heightViewport","innerHeight","documentElement","clientHeight","widthViewport","innerWidth","clientWidth","getBoundingClientRect","top","right","bottom","left","str","mapAccents","a","e","o","u","c","pattern","RegExp","max","Intl","NumberFormat","style","format","logName","message","errorObj","info","warn","log","CartService","_VTEX_API_ENDPOINT","skuId","productQuantity","sellerId","getCurrent","current","indexFound","items","findIndex","x","id","parseInt","quantity","endpointUrl","orderFormId","payload","orderItems","seller","skus","vtexjs","checkout","getOrderForm","skusCustomProducts","getCustomProducts","sku","isCustom","skuToIgnore","indexToRemove","reduce","indexList","index","removeMoreProducts","response","productsToAdd","productId","map","productsToUpdate","sameSku","diffQuantity","productsToReplaceSKU","itemsList","oldSKU","newSKU","productsToRemove","updateItems","replaceSKU","removeItems","addToCart","customProducts","newQuantity","customProductItem","currentCustomProduct","customProductQuantity","Object","values","itemIndex","expectedOrderFormSections","noSplitItem","itemsIndex","updateProducts","postalCode","country","calculateShipping","orderForm","simulateShipping","orderFormSimulated","logisticsInfo","shippingData","sendAttachment","address","availableAddresses","selectedAddresses","appName","appFieldName","appFieldValue","Home","calendar","customSelect","addressData","moveListSaveData","moveListSaveSelected","userMoveSaveLists","addressFromFormatted","addressToFormatted","cartService","googleMapsService","transporterService","moveListSaveRepository","MoveListSaveRepository","vtexUser","modalInstance","modalInstance2","modalMoveToRioDeJaneiroInstance","modalMoveListErrorInstance","init","initDeliveryModal","initDeliveryModal2","setCalendar","setHandledFormSubmit","setHandledInputsChange","setHandleFormFieldsChanges","initMoveToRioDeJaneiroModal","initAutocomplete","setTimeout","show","addEventListener","close","btn","dateInstance","inputMoveDate","inputMaskedDate","IMask","mask","lazy","overwrite","blocks","d","MaskedRange","from","to","maxLength","m","Y","getFullYear","day","getDate","month","getMonth","parse","yearMonthDay","min","fp_incr","commit","masked","isValid","isComplete","formGroup","getParents","flatpickr","dateFormat","wrap","minDate","position","allowInput","Portuguese","appendTo","prevArrow","nextArrow","onChange","selectedDates","dateStr","updateValue","disable","getDay","zipcodeUnmaskedLength","rest","prefix","sufix","inputText","autocomplete","google","maps","places","Autocomplete","types","componentRestrictions","setFields","addressMap","street_number","route","postal_code","postal_code_prefix","sublocality_level_1","administrative_area_level_2","administrative_area_level_1","addListener","place","getPlace","address_components","hasOwnProperty","obj","long_name","short_name","setAttribute","formatted_address","location","geometry","getPlaceWithLatLng","results","checkAndFixZipcode","inputID","getAttribute","inputTextFirstClick","autoComplete","innerHTML","appendChild","target","event","preventDefault","inputMoveFrom","getElementById","inputMoveTo","haveTwoAddresses","orderInfoAddressFieldsForCustomData","keys","obj1","addressObj","obj2","formattedDate","formatDate","orderInfoCommonFields","current_step","moving_date","user_need_storage","orderInfoFieldsForCustomData","checkIfHaveSLASAvalible","Promise","all","setMultipleCustomDataFields","resolve","reject","ga","hitType","eventCategory","eventAction","eventLabel","hitCallback","assign","handledFormSubmit","moveFrom","moveTo","keysToIgnore","inputTimeOut","keyCode","clearTimeout","modalInnerText","defaultItems","orderFormToAddress","getALLHUBS","HUBS","findedHUB","find","hub","isZipcodeValidRange","initialZipcode","finalZipcode","isAddressFromValid","isAddressToValid","slas","setSingleCustomDataField","toggle","innerText","listName","listExcerpt","lists","listItems","createMoveListSaveSelectItem","formGroupDropdown","moveListSaveSelectElement","moveListSaveSelectSelectedElement","showMoveListSaveSelectElement","moveListSaveSelectItemElement","moveListSaveSelectItemNameElement","currentItemSelected","listData","moveListSaveId","dataset","textContent","getAllListsTemplates","listDate","_execute","httpVerb","header","method","headers","accept","JSON","stringify","fetch","validateResponse","parseResponseToJson","catch","ok","json","Error","statusText","email","Array","isArray","post","listEmail","URLSearchParams","append","search","DocumentId","getByDocumentIdWithFields"],"mappings":"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","file":"js/b8one.desktop.home.js","sourcesContent":["import axios from 'axios';\r\n\r\nexport default class GoogleMapsService {\r\n  constructor() {\r\n    this.API_KEY = 'AIzaSyAyaW4zHxd3U7PLEUQtbeeEPOLHs6VkP8g';\r\n\r\n    this.api = axios.create({\r\n      baseURL: 'https://maps.googleapis.com/maps/api',\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Verify if zipcode is between valid range\r\n   * @param  {String} zipcode The zipcode to verify\r\n   * @param  {String} initialRange The initial range used to valite the zipcode\r\n   * @param  {String} finalRange The final range used to valite the zipcode\r\n   */\r\n  isZipcodeValidRange(zipcode, initialRange, finalRange) {\r\n    zipcode = this.convertZipcodeToFloat(zipcode);\r\n    initialRange = this.convertZipcodeToFloat(initialRange);\r\n    finalRange = this.convertZipcodeToFloat(finalRange);\r\n\r\n    return zipcode >= initialRange && zipcode <= finalRange;\r\n  }\r\n\r\n  /**\r\n   * Convert brazilian's zipcode to decimal\r\n   * @param {String} zipcode zipcode string format (ex.: 12345-678)\r\n   */\r\n  convertZipcodeToFloat(zipcode) {\r\n    const textRemoved = zipcode.replace('-', '');\r\n    const addDecimalDot = `${textRemoved.slice(0, 1)}.${textRemoved.slice(1)}`;\r\n\r\n    return parseFloat(addDecimalDot).toFixed(7);\r\n  }\r\n\r\n  async getPlaceWithLatLng(lat, lng) {\r\n    try {\r\n      return await this.api.get('/geocode/json', {\r\n        params: {\r\n          latlng: `${lat},${lng}`,\r\n          key: this.API_KEY,\r\n        },\r\n      });\r\n    } catch (error) {\r\n      console.error(\r\n        'Error in GoogleMapsService on method getPlaceWithLatLng',\r\n        error\r\n      );\r\n    }\r\n\r\n    return;\r\n  }\r\n}\r\n","import HttpClient from '../services/b8one.httpClient';\r\n\r\n/**\r\n * Masterdata Base Repository\r\n */\r\nclass MasterdataRepository {\r\n  /**\r\n   * Masterdata Repository constructor\r\n   * @param {*} entityCode\r\n   */\r\n  constructor(entityCode) {\r\n    const STORE_ID = 'TR';\r\n\r\n    this.entityCode_ = entityCode;\r\n    this.httpClient_ = new HttpClient();\r\n\r\n    // this._VTEX_MASTERDATA_ENDPOINT = `//api.vtexcrm.com.br/${STORE_ID}/dataentities/${entityCode}`;\r\n    this._VTEX_MASTERDATA_ENDPOINT = `/api/dataentities/${entityCode}`;\r\n  }\r\n\r\n  /**\r\n   * add\r\n   * @param {*} entityPayload\r\n   * @return {*}\r\n   */\r\n  add(entityPayload) {\r\n    const apiEndpoint = `${this._VTEX_MASTERDATA_ENDPOINT}/documents`;\r\n\r\n    return this.httpClient_.put(apiEndpoint, entityPayload).then(\r\n      res => {\r\n        return res;\r\n      },\r\n      error => {\r\n        return error;\r\n      }\r\n    );\r\n  }\r\n\r\n  /**\r\n   * update..\r\n   * @param {*} entityPayload\r\n   * @return {*}\r\n   */\r\n  update(entityPayload) {\r\n    const apiEndpoint = `${this._VTEX_MASTERDATA_ENDPOINT}/documents`;\r\n\r\n    return this.httpClient_.patch(apiEndpoint, entityPayload).then(\r\n      res => {\r\n        return res;\r\n      },\r\n      error => error\r\n    );\r\n  }\r\n\r\n  /**\r\n   * search\r\n   * @param {*} params\r\n   * @return {*}\r\n   */\r\n  search(params) {\r\n    const apiEndpoint = `${this._VTEX_MASTERDATA_ENDPOINT}/search?${params}`;\r\n\r\n    return this.httpClient_.get(apiEndpoint).then(res => {\r\n      return res;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get Document by document ID\r\n   * @param {GUID} documentId Document Id\r\n   */\r\n  async getByDocumentId(documentId) {\r\n    const apiEndpoint = `${this._VTEX_MASTERDATA_ENDPOINT}/documents/${documentId}`;\r\n\r\n    const res = await this.httpClient_.get(apiEndpoint);\r\n    return res;\r\n  }\r\n\r\n  async getByDocumentIdWithFields(documentId, fields) {\r\n    const apiEndpoint = `${this._VTEX_MASTERDATA_ENDPOINT}/documents/${documentId}?_fields=${fields}`;\r\n\r\n    const res = await this.httpClient_.get(apiEndpoint);\r\n    return res;\r\n  }\r\n  /**\r\n   * delete\r\n   * @param {*} documentId\r\n   * @return {*}\r\n   */\r\n  delete(documentId) {\r\n    const apiEndpoint = `${this._VTEX_MASTERDATA_ENDPOINT}/documents/${documentId}`;\r\n\r\n    return this.httpClient_.delete(apiEndpoint).then(res => {\r\n      return res;\r\n    });\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {*} documentId\r\n   * @param {*} field\r\n   * @param {*} fileName\r\n   */\r\n  getAttachmentUrl(documentId = '', field = '', fileName = '') {\r\n    return `${this._VTEX_MASTERDATA_ENDPOINT}/documents/${documentId}/${field}/attachments/${fileName}`;\r\n  }\r\n\r\n  /**\r\n   * Get attachments\r\n   * @param {*} documentId\r\n   * @param {*} field\r\n   * @param {*} fileName\r\n   */\r\n  async getAttachment(documentId = '', field = '', fileName = '') {\r\n    // /api/dataentities/{{data_entity_name}}/documents/{{id}}/{{field}}/attachments/{{file_name}}\r\n    const apiEndpoint = this.getAttachmentUrl(documentId, field, fileName);\r\n\r\n    const res = await this.httpClient_.get(apiEndpoint);\r\n    return res;\r\n  }\r\n}\r\n\r\nexport default MasterdataRepository;\r\n","import HttpClient from './b8one.httpClient';\r\n\r\nexport default class TransporterService {\r\n  constructor() {\r\n    this.httpClient = new HttpClient();\r\n  }\r\n\r\n  /**\r\n   * This function return all active hubs from HUB Entity.\r\n   * @param  {Array|String} fields=['id', 'initialZipcode', 'finalZipcode']\r\n   */\r\n  async getALLHUBS(fields = ['id', 'initialZipcode', 'finalZipcode']) {\r\n    try {\r\n      const endpoint = `/api/dataentities/HB/search?_fields=${fields}&_where=active=true`;\r\n\r\n      return this.httpClient.get(endpoint);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * This functions get and filter the transporters by hubID property.\r\n   * @param  {String} hubID The documentID of a document from HUB Entity.\r\n   * @param  {Array|String} fields Document fields what you need\r\n   */\r\n  async getTransportersByHUB(hubID, fields) {\r\n    try {\r\n      const query = `(status=true AND idHUB=${hubID})`;\r\n\r\n      const endpoint = `/api/dataentities/TR/search?_fields=${fields}&_where=${query}`;\r\n\r\n      return this.httpClient.get(endpoint);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n}\r\n","import HttpClient from './b8one.httpClient';\r\n\r\n/**\r\n * VtexUser Abstraction class\r\n */\r\nclass VtexUser {\r\n  /**\r\n   * VtexUser constructor\r\n   */\r\n  constructor() {\r\n    this._httpClient = new HttpClient();\r\n    this._vtexCurrentUserEndpoint = '/api/vtexid/pub/authenticated/user';\r\n  }\r\n\r\n  /**\r\n   * Get current user information\r\n   * @return {Object} VTEX User Object\r\n   */\r\n  getCurrent() {\r\n    return this._httpClient.get(this._vtexCurrentUserEndpoint);\r\n  }\r\n\r\n  /**\r\n   * Open authenticate modal\r\n   * @param {*} language\r\n   * @param {*} forceReload\r\n   */\r\n  authenticateModal(\r\n    options = { language: 'pt-br', forceReload: true, forceScrollTop: false }\r\n  ) {\r\n    window.vtexid.start({\r\n      locale: options.language,\r\n      forceReload: options.forceReload,\r\n    });\r\n\r\n    if (options.forceScrollTop) {\r\n      window.scrollTo(0, 0);\r\n    }\r\n  }\r\n}\r\n\r\nexport default VtexUser;\r\n","/*\r\n  *\r\n  * Author: Enrique Mora <enriquebeta7@gmail.com>\r\n  *\r\n*/\r\n\r\nexport default class ModalComponent {\r\n\t/**\r\n\t * @param  { Element | String } modal\r\n\t * @param  { String } modalShowCLass\r\n\t * @param  { Function } openModalCallback\r\n\t * @param  { Function } closeModalCallback\r\n   * @requires modal\r\n\t */\r\n\tconstructor({\r\n\t\tmodal,\r\n\t\tmodalShowCLass,\r\n\t\topenModalCallback,\r\n\t\tcloseModalCallback,\r\n\t}) {\r\n\t\tthis.isOpen = false;\r\n\t\tthis.modalShowCLass = modalShowCLass || 'show';\r\n\t\tthis.openCallback = openModalCallback || new Function();\r\n\t\tthis.closeCallback = closeModalCallback || new Function();\r\n\t\tthis.modal =\r\n\t\t\tmodal instanceof Element ? modal : document.querySelector(modal);\r\n\t}\r\n\r\n\tshow() {\r\n\t\t!this.isOpen && this.modal.classList.add(this.modalShowCLass);\r\n\t\tthis.isOpen = true;\r\n\r\n\t\tthis.openCallback(this);\r\n\t}\r\n\r\n\tclose() {\r\n\t\tthis.isOpen && this.modal.classList.remove(this.modalShowCLass);\r\n\t\tthis.isOpen = false;\r\n\r\n\t\tthis.closeCallback(this);\r\n\t}\r\n}\r\n","/**\r\n * Ensure Abstraction class\r\n */\r\nclass Ensure {\r\n  /**\r\n   * Ensure value is Undefined\r\n   * @param {*} value Value to be validated\r\n   * @return {boolean}\r\n   */\r\n  static isUndefined(value = undefined) {\r\n    return typeof value === 'undefined' ||\r\n      value === null ||\r\n      value === '' ||\r\n      value === {} ||\r\n      value === [];\r\n    // || JSON.stringify(value) === JSON.stringify({});\r\n  }\r\n\r\n  /**\r\n   * Ensure Input validity\r\n   * @param {*} input to validate\r\n   * @return {boolean} true if is valid\r\n   */\r\n  static isInputValid(input) {\r\n    return !this.isUndefined(input) && input.checkValidity();\r\n  }\r\n\r\n  /**\r\n   * Verify if object has properties\r\n   * @param {Object} object - Object to be verified\r\n   * @param {Array} props - properties to search on object\r\n   * @return {Boolean} True if object has all properties\r\n   */\r\n  static hasProps(object, props) {\r\n    const missingPropsResult = this.getMissingProps(object, props);\r\n    return missingPropsResult.length <= 0;\r\n  }\r\n\r\n  /**\r\n   * Get Object missing properties\r\n   * @param {Object} object - Object to be verified\r\n   * @param {Array} props - properties to search on object\r\n   * @return {Array} missing properties\r\n   */\r\n  static getMissingProps(object, props) {\r\n    let missingProps = [];\r\n    [...props].forEach((prop) => {\r\n      const result = prop in object;\r\n      if (!result) {\r\n        missingProps.push(prop);\r\n      }\r\n    });\r\n\r\n    return missingProps;\r\n  }\r\n}\r\n\r\nexport default Ensure;\r\n","/* eslint-disable max-len */\r\nimport { Logger } from './';\r\n\r\n/**\r\n * Helper Abstraction class\r\n */\r\nclass Helper {\r\n  /**\r\n   * Helper constructor\r\n   * @param {*} props\r\n   */\r\n  constructor(props) {\r\n    this._logger = new Logger('Ensure');\r\n    this.props = props || {\r\n      language: navigator.language || navigator.userLanguage,\r\n      currency: 'BRL',\r\n      currencyLocale: 'pt-br',\r\n      minimumFractionDigits: 2,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * format currency\r\n   * @param {*} value\r\n   * @param {*} minimumFractionDigits\r\n   * @return {*}\r\n   */\r\n  formatPrice(value) {\r\n    value = value / 100;\r\n    value = (value * 1).toFixed(\r\n      Math.max(0, ~~this.props.minimumFractionDigits)\r\n    );\r\n\r\n    return new Intl.NumberFormat(this.props.currencyLocale, {\r\n      style: 'currency',\r\n      currency: this.props.currency,\r\n      minimumFractionDigits: this.props.minimumFractionDigits,\r\n    }).format(value);\r\n  }\r\n\r\n  static getParents(elem, selector) {\r\n    // Element.matches() polyfill\r\n    if (!Element.prototype.matches) {\r\n      Element.prototype.matches =\r\n        Element.prototype.matchesSelector ||\r\n        Element.prototype.mozMatchesSelector ||\r\n        Element.prototype.msMatchesSelector ||\r\n        Element.prototype.oMatchesSelector ||\r\n        Element.prototype.webkitMatchesSelector ||\r\n        function(s) {\r\n          let matches = (this.document || this.ownerDocument).querySelectorAll(\r\n              s\r\n            ),\r\n            i = matches.length;\r\n\r\n          while (--i >= 0 && matches.item(i) !== this) {}\r\n\r\n          return i > -1;\r\n        };\r\n    }\r\n\r\n    // Set up a parent array\r\n    let parents = [];\r\n\r\n    // Push each parent element to the array\r\n    for (; elem && elem !== document; elem = elem.parentNode) {\r\n      if (selector) {\r\n        if (elem.matches(selector)) {\r\n          parents.push(elem);\r\n        }\r\n\r\n        continue;\r\n      }\r\n\r\n      parents.push(elem);\r\n    }\r\n\r\n    // Return our parent array\r\n    return parents;\r\n  }\r\n\r\n  static serializeForm(form) {\r\n    // Setup our serialized data\r\n    let serialized = [];\r\n\r\n    // Loop through each field in the form\r\n    for (let i = 0; i < form.elements.length; i++) {\r\n      let field = form.elements[i];\r\n\r\n      // Don't serialize fields without a name, submits, buttons, file and reset inputs, and disabled fields\r\n      if (\r\n        !field.name ||\r\n        field.disabled ||\r\n        field.type === 'file' ||\r\n        field.type === 'reset' ||\r\n        field.type === 'submit' ||\r\n        field.type === 'button'\r\n      )\r\n        continue;\r\n\r\n      // If a multi-select, get all selections\r\n      if (field.type === 'select-multiple') {\r\n        for (let n = 0; n < field.options.length; n++) {\r\n          if (!field.options[n].selected) continue;\r\n\r\n          serialized.push(\r\n            encodeURIComponent(field.name) +\r\n              '=' +\r\n              encodeURIComponent(field.options[n].value)\r\n          );\r\n        }\r\n      }\r\n\r\n      // Convert field data to a query string\r\n      else if (\r\n        (field.type !== 'checkbox' && field.type !== 'radio') ||\r\n        field.checked\r\n      ) {\r\n        serialized.push(\r\n          encodeURIComponent(field.name) + '=' + encodeURIComponent(field.value)\r\n        );\r\n      }\r\n    }\r\n\r\n    return serialized.join('&');\r\n  }\r\n\r\n  static getFormData(form) {\r\n    // Setup our serialized data\r\n    let data = {};\r\n\r\n    // Loop through each field in the form\r\n    for (let i = 0; i < form.elements.length; i++) {\r\n      let field = form.elements[i];\r\n\r\n      // Don't serialize fields without a name, submits, buttons, file and reset inputs, and disabled fields\r\n      if (\r\n        !field.name ||\r\n        field.disabled ||\r\n        field.type === 'file' ||\r\n        field.type === 'reset' ||\r\n        field.type === 'submit' ||\r\n        field.type === 'button'\r\n      )\r\n        continue;\r\n\r\n      // If a multi-select, get all selections\r\n      if (field.type === 'select-multiple') {\r\n        for (let n = 0; n < field.options.length; n++) {\r\n          if (!field.options[n].selected) continue;\r\n\r\n          data[field.name] = field.options[n].value;\r\n        }\r\n      }\r\n\r\n      // Convert field data to a query string\r\n      else if (\r\n        (field.type !== 'checkbox' && field.type !== 'radio') ||\r\n        field.checked\r\n      ) {\r\n        data[field.name] = field.value;\r\n      }\r\n    }\r\n\r\n    return data;\r\n  }\r\n\r\n  static getRandomID() {\r\n    // Generate unique IDs for use as pseudo-private/protected names.\r\n    // Similar in concept to\r\n    // <http://wiki.ecmascript.org/doku.php?id=strawman:names>.\r\n    //\r\n    // The goals of this function are twofold:\r\n    //\r\n    // * Provide a way to generate a string guaranteed to be unique when compared\r\n    //   to other strings generated by this function.\r\n    // * Make the string complex enough that it is highly unlikely to be\r\n    //   accidentally duplicated by hand (this is key if you're using `ID`\r\n    //   as a private/protected name on an object).\r\n    //\r\n    // Use:\r\n    //\r\n    //     var privateName = ID();\r\n    //     var o = { 'public': 'foo' };\r\n    //     o[privateName] = 'bar';\r\n\r\n    // Math.random should be unique because of its seeding algorithm.\r\n    // Convert it to base 36 (numbers + letters), and grab the first 9 characters\r\n    // after the decimal.\r\n\r\n    return (\r\n      '_' +\r\n      Math.random()\r\n        .toString(36)\r\n        .substr(2, 9)\r\n    );\r\n  }\r\n\r\n  static setCookie(cname, cvalue, exdays) {\r\n    const date = new Date();\r\n\r\n    date.setTime(date.getTime() + exdays * 24 * 60 * 60 * 1000);\r\n\r\n    const expires = 'expires=' + date.toUTCString();\r\n\r\n    document.cookie = `${cname}=${cvalue};${expires};path=/`;\r\n  }\r\n\r\n  static getCookie(cname) {\r\n    const decodedCookie = decodeURIComponent(document.cookie);\r\n\r\n    const cookie = decodedCookie\r\n      .split(';')\r\n      .filter(cookie => cookie.includes(cname))[0];\r\n\r\n    return cookie || '';\r\n  }\r\n\r\n  static isInViewport(element) {\r\n    const heightViewport =\r\n      window.innerHeight || document.documentElement.clientHeight;\r\n\r\n    const widthViewport =\r\n      window.innerWidth || document.documentElement.clientWidth;\r\n\r\n    const { top, right, bottom, left } = element.getBoundingClientRect();\r\n\r\n    return (\r\n      top >= 0 &&\r\n      left >= 0 &&\r\n      bottom <= heightViewport &&\r\n      right <= widthViewport\r\n    );\r\n  }\r\n\r\n  static removeAccents(str) {\r\n    const mapAccents = {\r\n      a: 'á|à|ã|â|À|Á|Ã|Â',\r\n      e: 'é|è|ê|É|È|Ê',\r\n      i: 'í|ì|î|Í|Ì|Î',\r\n      o: 'ó|ò|ô|õ|Ó|Ò|Ô|Õ',\r\n      u: 'ú|ù|û|ü|Ú|Ù|Û|Ü',\r\n      c: 'ç|Ç',\r\n      n: 'ñ|Ñ',\r\n    };\r\n\r\n    for (let pattern in mapAccents) {\r\n      str = str.replace(new RegExp(mapAccents[pattern], 'g'), pattern);\r\n    }\r\n\r\n    return str;\r\n  }\r\n}\r\n\r\nexport default Helper;\r\n","/* eslint no-console: 0 */\r\n\r\n/**\r\n * Logger Abstraction class\r\n */\r\nclass Logger {\r\n  /**\r\n   * Logger constructor\r\n   * @param {string} logName Application name to log\r\n   */\r\n  constructor(logName = 'B8ONE Logger Component') {\r\n    this.logName = logName;\r\n  }\r\n\r\n  /**\r\n   * Log error message\r\n   * @param {*} message - Message text\r\n   * @param {*} errorObj - Message object\r\n   */\r\n  error(message = '', errorObj = {}) {\r\n    console.error(message, errorObj);\r\n  }\r\n\r\n  /**\r\n   * Log information message\r\n   * @param {*} message - Message text\r\n   */\r\n  info(message = '') {\r\n    console.info(message);\r\n  }\r\n\r\n  /**\r\n   * Log warning message\r\n   * @param {*} message - Message text\r\n   */\r\n  warning(message = '') {\r\n    console.warn(this.logName, message);\r\n  }\r\n\r\n  /**\r\n   * Generic log\r\n   * @param {String} message - log's message\r\n   */\r\n  log(message = '') {\r\n    console.log(message);\r\n  }\r\n\r\n  /**\r\n   * Generic log\r\n   * @param {String} message - log's message\r\n   * @param {*} object - object to be logged\r\n   */\r\n  log(message = '', object = {}) {\r\n    console.log(message, object);\r\n  }\r\n}\r\n\r\nexport default Logger;\r\n","/* eslint-disable max-len */\r\n\r\nimport { Ensure, Logger } from '../common';\r\nimport HttpClient from './b8one.httpClient';\r\n\r\n/**\r\n * Cart Abstraction class\r\n */\r\nclass CartService {\r\n  /**\r\n   * Cart constructor\r\n   */\r\n  constructor() {\r\n    this._VTEX_API_ENDPOINT = '/api/checkout/pub/orderForm';\r\n\r\n    this._logger = new Logger('Cart service');\r\n    this._httpClient = new HttpClient();\r\n  }\r\n\r\n  /**\r\n   * Get current cart\r\n   * @return {*} Cart object\r\n   */\r\n  async getCurrent() {\r\n    return await this._httpClient.get(this._VTEX_API_ENDPOINT);\r\n  }\r\n\r\n  /**\r\n   * Add item to cart\r\n   * @param {*} skuId - Product sku Id (SKU)\r\n   * @param {*} productQuantity - Product Quantity\r\n   * @param {*} sellerId - Seller id\r\n   */\r\n  async add(skuId, productQuantity, sellerId = 1) {\r\n    // const payload = this._payloadFactory(skuId, productQuantity, sellerId);\r\n\r\n    if (!Ensure.isUndefined(skuId)) {\r\n      const current = await this.getCurrent();\r\n      const indexFound = current.items.findIndex(x => x.id === skuId);\r\n\r\n      if (indexFound > -1) {\r\n        productQuantity =\r\n          parseInt(productQuantity) +\r\n          parseInt(current.items[indexFound].quantity);\r\n      }\r\n\r\n      const endpointUrl = `${this._VTEX_API_ENDPOINT}/${current.orderFormId}/items`;\r\n\r\n      const payload = {\r\n        orderItems: [\r\n          {\r\n            seller: sellerId.toString(),\r\n            quantity: parseInt(productQuantity),\r\n            id: skuId.toString(),\r\n          },\r\n        ],\r\n      };\r\n\r\n      return this._httpClient.patch(endpointUrl, payload);\r\n    }\r\n  }\r\n\r\n  async checkoutCRUD(skus) {\r\n    let { items } = await window.vtexjs.checkout.getOrderForm();\r\n\r\n    const skusCustomProducts = this.getCustomProducts(skus);\r\n\r\n    skus = skus.filter(sku => !sku.isCustom);\r\n    skus = [...skus, ...skusCustomProducts];\r\n\r\n    const skuToIgnore = [19, 698, 25, 26];\r\n\r\n    const indexToRemove = items.reduce((indexList, item, index) => {\r\n      const customProductSKUs = [25, 26];\r\n\r\n      if (customProductSKUs.includes(parseInt(item.id))) {\r\n        return [...indexList, index];\r\n      }\r\n\r\n      return indexList;\r\n    }, []);\r\n\r\n    if (indexToRemove.length > 0) {\r\n      const response = await this.removeMoreProducts(indexToRemove);\r\n\r\n      response && (items = response.items);\r\n    }\r\n\r\n    const productsToAdd = skus\r\n      .filter(sku => sku.quantity > 0)\r\n      .filter(sku => {\r\n        let index = items.findIndex(\r\n          item => parseInt(item.productId) === parseInt(sku.productId)\r\n        );\r\n\r\n        return index === -1 && sku.quantity > 0;\r\n      })\r\n      .map(sku => ({\r\n        quantity: sku.quantity,\r\n        seller: 1,\r\n        id: sku.skuId || sku.id,\r\n      }));\r\n\r\n    console.log('productsToAdd', productsToAdd);\r\n\r\n    const productsToUpdate = skus\r\n      .filter(sku => sku.quantity > 0)\r\n      .filter(sku => {\r\n        const id = sku.skuId || sku.id;\r\n\r\n        let index = items.findIndex(item => parseInt(item.id) === parseInt(id));\r\n\r\n        if (index !== -1) {\r\n          const sameSku = parseInt(items[index].id) === parseInt(sku.id);\r\n          const diffQuantity =\r\n            parseInt(items[index].quantity) !== parseInt(sku.quantity);\r\n\r\n          return sameSku && diffQuantity && sku.quantity > 0;\r\n        }\r\n\r\n        return false;\r\n      })\r\n      .map(sku => {\r\n        const id = sku.skuId || sku.id;\r\n\r\n        let index = items.findIndex(item => parseInt(item.id) === parseInt(id));\r\n\r\n        return {\r\n          index,\r\n          quantity: sku.quantity,\r\n        };\r\n      });\r\n\r\n    console.log('productsToUpdate', productsToUpdate);\r\n\r\n    const productsToReplaceSKU = skus\r\n      .filter(\r\n        sku =>\r\n          sku.quantity > 0 &&\r\n          !skuToIgnore.includes(parseInt(sku.skuId || sku.id))\r\n      )\r\n      .filter(sku => {\r\n        const index = items.findIndex(\r\n          item => parseInt(item.productId) === parseInt(sku.productId)\r\n        );\r\n\r\n        if (index !== -1) {\r\n          const diffSku = parseInt(items[index].id) !== parseInt(sku.skuId);\r\n\r\n          return diffSku;\r\n        }\r\n\r\n        return false;\r\n      })\r\n      .map(sku => {\r\n        const index = items.findIndex(\r\n          item => parseInt(item.productId) === parseInt(sku.productId)\r\n        );\r\n\r\n        const oldSKU = {\r\n          index,\r\n          seller: 1,\r\n          quantity: 0,\r\n        };\r\n\r\n        const newSKU = {\r\n          seller: 1,\r\n          id: sku.skuId,\r\n          quantity: sku.quantity,\r\n        };\r\n\r\n        return [oldSKU, newSKU];\r\n      })\r\n      .reduce((itemsList, current) => {\r\n        const [oldSKU, newSKU] = current;\r\n\r\n        return [...itemsList, oldSKU, newSKU];\r\n      }, []);\r\n\r\n    console.log('productsToReplaceSKU', productsToReplaceSKU);\r\n\r\n    const productsToRemove = skus\r\n      .filter(sku => sku.quantity < 1)\r\n      .filter(sku => {\r\n        const id = sku.skuId || sku.id;\r\n\r\n        let index = items.findIndex(item => parseInt(item.id) === parseInt(id));\r\n\r\n        if (index !== -1) {\r\n          return sku.quantity == 0;\r\n        }\r\n\r\n        return false;\r\n      })\r\n      .map(sku => {\r\n        const id = sku.skuId || sku.id;\r\n\r\n        let index = items.findIndex(item => parseInt(item.id) === parseInt(id));\r\n\r\n        return {\r\n          index,\r\n          quantity: 0,\r\n        };\r\n      });\r\n\r\n    console.log('productsToRemove', productsToRemove);\r\n\r\n    if (productsToUpdate[0]) {\r\n      await window.vtexjs.checkout.updateItems(productsToUpdate, null, false);\r\n    }\r\n\r\n    if (productsToReplaceSKU[0]) {\r\n      await window.vtexjs.checkout.replaceSKU(productsToReplaceSKU);\r\n    }\r\n\r\n    if (productsToRemove[0]) {\r\n      await window.vtexjs.checkout.removeItems(productsToRemove);\r\n    }\r\n\r\n    if (productsToAdd[0]) {\r\n      await window.vtexjs.checkout.addToCart(productsToAdd, null);\r\n    }\r\n  }\r\n\r\n  getCustomProducts(skus) {\r\n    const customProducts = {};\r\n\r\n    skus\r\n      .filter(({ isCustom }) => isCustom === true)\r\n      .forEach(({ skuId, quantity, customProductItem }) => {\r\n        let currentCustomProduct = customProducts[skuId];\r\n\r\n        const customProductQuantity =\r\n          parseInt(customProductItem.quantity) * parseInt(quantity);\r\n\r\n        if (currentCustomProduct) {\r\n          const newQuantity =\r\n            parseInt(currentCustomProduct.quantity) + customProductQuantity;\r\n\r\n          currentCustomProduct = {\r\n            ...currentCustomProduct,\r\n            quantity: newQuantity,\r\n          };\r\n        } else {\r\n          currentCustomProduct = {\r\n            ...customProductItem,\r\n            quantity: customProductQuantity,\r\n            isCustom: true,\r\n          };\r\n        }\r\n\r\n        customProducts[skuId] = currentCustomProduct;\r\n      });\r\n\r\n    return Object.values(customProducts);\r\n  }\r\n\r\n  async getProductIndexInOrderForm(productId) {\r\n    const { items } = await this.getCurrent();\r\n\r\n    const index = items.findIndex(item => item.productId == productId);\r\n\r\n    if (index !== -1) return index;\r\n\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * Remove item to cart\r\n   * @param {JSON} itemIndex - Product item index to be removed\r\n   */\r\n  async remove(itemIndex) {\r\n    const current = await this.getCurrent();\r\n    const endpointUrl = `${this._VTEX_API_ENDPOINT}/${current.orderFormId}/items`;\r\n    const payload = {\r\n      orderItems: [\r\n        {\r\n          index: itemIndex,\r\n          quantity: 0,\r\n        },\r\n      ],\r\n      expectedOrderFormSections: ['items'],\r\n      noSplitItem: true,\r\n    };\r\n\r\n    await this._httpClient.patch(endpointUrl, payload);\r\n  }\r\n\r\n  /**\r\n   * Remove items of cart\r\n   * @param {Array} itemsIndex - Products items index to be removed\r\n   */\r\n  async removeMoreProducts(itemsIndex) {\r\n    const current = await this.getCurrent();\r\n    const endpointUrl = `${this._VTEX_API_ENDPOINT}/${current.orderFormId}/items`;\r\n    const payload = {\r\n      orderItems: itemsIndex.map(index => ({\r\n        index,\r\n        quantity: 0,\r\n      })),\r\n      expectedOrderFormSections: ['items'],\r\n      noSplitItem: true,\r\n    };\r\n\r\n    return await this._httpClient.patch(endpointUrl, payload);\r\n  }\r\n\r\n  async updateProduct(skuId, quantity, seller = 1) {\r\n    const newSKU = {\r\n      seller,\r\n      quantity,\r\n      id: skuId,\r\n    };\r\n\r\n    return await this.updateProducts([newSKU]);\r\n  }\r\n\r\n  async updateProducts(skus) {\r\n    const { items, orderFormId } = await this.getCurrent();\r\n\r\n    skus = skus\r\n      .map(({ id, quantity, seller }) => {\r\n        const index = items.findIndex(\r\n          item => parseInt(item.id) === parseInt(id)\r\n        );\r\n\r\n        return {\r\n          id,\r\n          index,\r\n          quantity,\r\n          seller: seller || 1,\r\n        };\r\n      })\r\n      .filter(sku => sku.index !== -1);\r\n\r\n    if (skus.length > 0) {\r\n      const payload = {\r\n        orderItems: skus,\r\n      };\r\n\r\n      return await this._httpClient.patch(\r\n        `/api/checkout/pub/orderForm/${orderFormId}/items`,\r\n        payload\r\n      );\r\n    }\r\n  }\r\n\r\n  async simulateOrderForm(postalCode, country = 'BRA') {\r\n    try {\r\n      await vtexjs.checkout.getOrderForm();\r\n\r\n      const orderForm = await vtexjs.checkout.calculateShipping({\r\n        postalCode,\r\n        country,\r\n      });\r\n\r\n      return orderForm;\r\n    } catch (error) {\r\n      console.error('Error in simulateOrderForm', error);\r\n    }\r\n  }\r\n\r\n  async simulateShipping(items, postalCode, country = 'BRA') {\r\n    const orderFormSimulated = await vtexjs.checkout.simulateShipping(\r\n      items,\r\n      postalCode,\r\n      country\r\n    );\r\n\r\n    return orderFormSimulated;\r\n  }\r\n\r\n  async updateCheckoutTransporterSLA(logisticsInfo) {\r\n    await vtexjs.checkout.getOrderForm();\r\n\r\n    const { shippingData } = vtexjs.checkout.orderForm;\r\n\r\n    shippingData.logisticsInfo = logisticsInfo;\r\n\r\n    await vtexjs.checkout.sendAttachment('shippingData', shippingData);\r\n  }\r\n\r\n  async updateCheckoutAddress(address) {\r\n    console.log(address);\r\n    await vtexjs.checkout.getOrderForm();\r\n\r\n    const { shippingData } = vtexjs.checkout.orderForm;\r\n\r\n    shippingData.availableAddresses = [\r\n      {\r\n        ...shippingData.address,\r\n        ...address,\r\n      },\r\n    ];\r\n\r\n    shippingData.selectedAddresses = [\r\n      {\r\n        ...shippingData.address,\r\n        ...address,\r\n      },\r\n    ];\r\n\r\n    shippingData.address = {\r\n      ...shippingData.address,\r\n      ...address,\r\n    };\r\n\r\n    return await vtexjs.checkout.sendAttachment('shippingData', shippingData);\r\n  }\r\n\r\n  async setMultipleCustomDataFields(appName, fields) {\r\n    const { orderFormId } = await this.getCurrent();\r\n\r\n    const endpoint = `/api/checkout/pub/orderForm/${orderFormId}/customData/${appName}`;\r\n\r\n    try {\r\n      return await this._httpClient.put(endpoint, fields);\r\n    } catch (error) {\r\n      console.error('setMultipleCustomDataFields', error);\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  async setSingleCustomDataField(appName, appFieldName, appFieldValue) {\r\n    const { orderFormId } = await this.getCurrent();\r\n\r\n    const endpoint = `/api/checkout/pub/orderForm/${orderFormId}/customData/${appName}/${appFieldName}`;\r\n\r\n    const payload = { value: appFieldValue };\r\n\r\n    try {\r\n      return await this._httpClient.put(endpoint, payload);\r\n    } catch (error) {\r\n      console.error('setSingleCustomDataField', error);\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  async removeSingleCustomDataField(appName, appFieldName) {\r\n    const { orderFormId } = await this.getCurrent();\r\n\r\n    const endpoint = `/api/checkout/pub/orderForm/${orderFormId}/customData/${appName}/${appFieldName}`;\r\n\r\n    const payload = { value: null };\r\n\r\n    try {\r\n      return await this._httpClient.delete(endpoint, payload);\r\n    } catch (error) {\r\n      console.error('removeSingleCustomDataField', error);\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * Cart's payload method factory\r\n   * @param {*} skuId - Product Id (SKU)\r\n   * @param {*} productQuantity - Product Quantity\r\n   * @param {*} sellerId - Seller id\r\n   * @return {JSON} cart paylod\r\n   */\r\n  _payloadFactory(skuId, productQuantity, sellerId = 1) {\r\n    return {\r\n      id: skuId,\r\n      quantity: productQuantity,\r\n      seller: sellerId,\r\n    };\r\n  }\r\n}\r\n\r\nexport default CartService;\r\n","// Dependencies\nimport IMask from 'imask';\nimport flatpickr from 'flatpickr';\nimport { Portuguese } from 'flatpickr/dist/l10n/pt.js';\n\n// Componentes\nimport ModalComponent from 'Components/b8one.modalComponent.js';\n\n// Commons\nimport { Helper } from 'Commons';\n\n// Services\nimport CartService from 'Services/b8one.cartService';\nimport GoogleMapsService from 'Services/b8one.GoogleMapsService';\nimport TransporterService from 'Services/b8one.transporterService';\nimport VtexUser from 'Services/b8one.vtexUser';\n\n// Repositories\nimport MoveListSaveRepository from 'Repositories/b8one.moveListSaveRepository';\n\nclass Home {\n  constructor() {\n    this.calendar;\n    this.customSelect;\n    this.addressData = {};\n    this.moveListSaveData = [];\n    this.moveListSaveSelected = null;\n    this.userMoveSaveLists = [];\n\n    this.addressFromFormatted = null;\n    this.addressToFormatted = null;\n\n    this.cartService = new CartService();\n    this.googleMapsService = new GoogleMapsService();\n    this.transporterService = new TransporterService();\n    this.moveListSaveRepository = new MoveListSaveRepository();\n    this.vtexUser = new VtexUser();\n\n    window.Home = this;\n\n    this.modalInstance = null;\n    this.modalInstance2 = null;\n    this.modalMoveToRioDeJaneiroInstance = null;\n    this.modalMoveListErrorInstance = null;\n\n    this.init();\n  }\n\n  async init() {\n    // const moveListSaveData = await this.getListTemplates();\n\n    // this.moveListSaveData = moveListSaveData;\n\n    // this.updateMoveListSaveSelectElement(this.moveListSaveData);\n\n    // this.addUserMoveSaveListsToDOM();\n    // this.setMoveListSaveListeners();\n    this.initDeliveryModal();\n    this.initDeliveryModal2();\n    // this.initModalMoveListError();\n    this.setCalendar();\n    this.setHandledFormSubmit();\n    this.setHandledInputsChange();\n    this.setHandleFormFieldsChanges();\n    this.initMoveToRioDeJaneiroModal();\n\n    this.initAutocomplete('#move-from', 0);\n    this.initAutocomplete('#move-to', 1);\n  }\n\n  initMoveToRioDeJaneiroModal() {\n    const modal = document.querySelector('.modal-move-to-rio-de-janeiro');\n\n    if (!modal) return;\n\n    this.modalMoveToRioDeJaneiroInstance = new ModalComponent({\n      modal: modal,\n      modalShowCLass: 'wrapper-modal--show',\n    });\n\n    setTimeout(() => this.modalMoveToRioDeJaneiroInstance.show(), 1000);\n\n    modal.addEventListener('click', () =>\n      this.modalMoveToRioDeJaneiroInstance.close()\n    );\n  }\n\n  initDeliveryModal() {\n    const modal = document.querySelector('.delivery-modal');\n    const btn = modal.querySelector('.modal__button');\n\n    this.modalInstance = new ModalComponent({\n      modal: modal,\n      modalShowCLass: 'wrapper-modal--show',\n    });\n\n    btn.addEventListener('click', () => this.modalInstance.close());\n  }\n\n  initDeliveryModal2() {\n    const modal = document.querySelector('.delivery-modal-2');\n    const btn = modal.querySelector('.modal__button');\n\n    this.modalInstance2 = new ModalComponent({\n      modal: modal,\n      modalShowCLass: 'wrapper-modal--show',\n    });\n\n    btn.addEventListener('click', () => this.modalInstance2.close());\n  }\n\n  initModalMoveListError() {\n    const modal = document.querySelector('.modal-move-list-error');\n    const btn = modal.querySelector('.modal__button');\n\n    this.modalMoveListErrorInstance = new ModalComponent({\n      modal: modal,\n      modalShowCLass: 'wrapper-modal--show',\n    });\n\n    btn.addEventListener('click', () =>\n      this.modalMoveListErrorInstance.close()\n    );\n  }\n\n  setCalendar() {\n    const inputMoveDate = document.querySelector('.js-calender #move-date');\n\n    const inputMaskedDate = IMask(inputMoveDate, {\n      mask: Date,\n      lazy: false,\n      pattern: 'd/m/Y',\n      // and other common options\n      overwrite: true, // defaults to `false`\n      blocks: {\n        d: {\n          mask: IMask.MaskedRange,\n          from: 1,\n          to: 31,\n          maxLength: 2,\n        },\n        m: {\n          mask: IMask.MaskedRange,\n          from: 1,\n          to: 12,\n          maxLength: 2,\n        },\n        Y: {\n          mask: IMask.MaskedRange,\n          from: new Date().getFullYear(),\n          to: 9999,\n          maxLength: 4,\n        },\n      },\n      // define date -> str convertion\n      format(date) {\n        let day = date.getDate();\n        let month = date.getMonth() + 1;\n        let year = date.getFullYear();\n\n        if (day < 10) day = '0' + day;\n        if (month < 10) month = '0' + month;\n\n        return [day, month, year].join('/');\n      },\n      // define str -> date convertion\n      parse(str) {\n        const yearMonthDay = str.split('/');\n\n        return new Date(yearMonthDay[2], yearMonthDay[1] - 1, yearMonthDay[0]);\n      },\n      min: (() => {\n        const dateInstance = new Date();\n\n        return new Date(\n          dateInstance.getFullYear(),\n          dateInstance.getMonth(),\n          dateInstance.getDate()\n        ).fp_incr(7);\n      })(),\n      commit(value, masked) {\n        const isValid = masked.isComplete;\n        const formGroup = Helper.getParents(inputMoveDate, '.form__group')[0];\n\n        if (formGroup && isValid) {\n          formGroup.classList.add('form__group--valid');\n        } else {\n          formGroup.classList.remove('form__group--valid');\n        }\n      },\n    });\n\n    const calendar = flatpickr('.js-calender', {\n      dateFormat: 'd/m/Y',\n      wrap: true,\n      minDate: new Date().fp_incr(7),\n      position: 'below',\n      allowInput: true,\n      locale: Portuguese,\n      appendTo: document.querySelector('.js-calender'),\n      prevArrow: '<i class=\"fas fa-caret-left next-month-icon-left\"></i>',\n      nextArrow: '<i class=\"fas fa-caret-right next-month-icon-right\"></i>',\n      onChange(selectedDates, dateStr, instance) {\n        inputMaskedDate.updateValue(dateStr);\n      },\n      disable: [\n        function(date) {\n          return date.getDay() === 0 || date.getDay() === 6;\n        },\n      ],\n    });\n\n    this.calendar = calendar;\n  }\n\n  checkAndFixZipcode(zipcode) {\n    const zipcodeUnmasked = zipcode.replace('-', '');\n    const zipcodeUnmaskedLength = zipcodeUnmasked.length;\n\n    if (zipcodeUnmaskedLength < 8) {\n      const total = zipcodeUnmaskedLength;\n      const rest = 8 - total;\n\n      let [prefix, sufix] = zipcode.split('-');\n\n      for (let i = 0; i < rest; i++) {\n        if (sufix) {\n          sufix += '0';\n        } else {\n          sufix = '0';\n        }\n      }\n\n      zipcode = [prefix, sufix].join('-');\n    }\n\n    return zipcode;\n  }\n\n  initAutocomplete(selector, index) {\n    const inputText = document.querySelector(selector);\n    const formGroup = Helper.getParents(inputText, '.form__group')[0];\n\n    // Create the autocomplete object, restricting the search predictions to\n    // geographical location types.\n    const autocomplete = new google.maps.places.Autocomplete(inputText, {\n      types: ['geocode'],\n      componentRestrictions: {\n        country: 'br',\n      },\n    });\n\n    // Avoid paying for data that you don't need by restricting the set of\n    // place fields that are returned to just the address components.\n    autocomplete.setFields([\n      'address_component',\n      'geometry',\n      'formatted_address',\n    ]);\n\n    const addressMap = {\n      street_number: 'address-number',\n      route: 'address-name',\n      postal_code: 'address-zipcode',\n      postal_code_prefix: 'address-zipcode',\n      sublocality_level_1: 'address-county',\n      administrative_area_level_2: 'city',\n      administrative_area_level_1: 'state',\n    };\n\n    // When the user selects an address from the drop-down, populate the\n    // address fields in the form.\n    autocomplete.addListener('place_changed', async () => {\n      const place = autocomplete.getPlace();\n\n      const address = place.address_components\n        .filter(({ types }) => {\n          return addressMap.hasOwnProperty(types[0]);\n        })\n        .reduce((obj, { types, long_name, short_name }) => {\n          const key = addressMap[types[0]];\n\n          obj[key] = key === 'state' ? short_name : long_name;\n\n          return obj;\n        }, {});\n\n      inputText.setAttribute('title', place.formatted_address);\n\n      inputText.parentNode.parentNode.classList.remove(\n        'form__group--required-address'\n      );\n\n      if (!address['address-zipcode']) {\n        const { location } = place.geometry;\n        const lat = location.lat();\n        const lng = location.lng();\n\n        console.log(location);\n\n        const {\n          data: { results },\n        } = await this.googleMapsService.getPlaceWithLatLng(lat, lng);\n\n        console.log(results);\n\n        const { address_components } = results.filter(({ types }) =>\n          types.includes('postal_code')\n        )[0];\n\n        const { short_name } = address_components.filter(({ types }) =>\n          types.includes('postal_code')\n        )[0];\n\n        console.log(short_name);\n\n        address['address-zipcode'] = short_name;\n      }\n\n      address['address-zipcode'] = this.checkAndFixZipcode(\n        address['address-zipcode']\n      );\n\n      const inputID = inputText.getAttribute('id');\n\n      this.addressData[inputID] = address;\n\n      if (inputID === 'move-from') {\n        this.addressFromFormatted = place.formatted_address;\n      } else {\n        this.addressToFormatted = place.formatted_address;\n      }\n\n      formGroup && formGroup.classList.add('form__group--valid');\n    });\n\n    let inputTextFirstClick = true;\n\n    inputText.addEventListener('click', () => {\n      if (inputTextFirstClick) {\n        inputTextFirstClick = false;\n\n        const autoComplete = document.querySelectorAll('.pac-container')[index];\n\n        autoComplete.innerHTML += `\n          <div class=\"pac-container__loading\">\n            <div class=\"loading__spinner\"></div>\n          </div>\n        `;\n\n        formGroup && formGroup.appendChild(autoComplete);\n      }\n    });\n\n    return autocomplete;\n  }\n\n  setHandleFormFieldsChanges() {\n    const form = document.querySelector('.move__form');\n\n    const fields = [...form.elements].filter(field => field.getAttribute('id'));\n\n    fields.forEach(field => {\n      field.addEventListener('change', ({ target }) => {\n        if (!field.checkValidity()) {\n          const formGroup = Helper.getParents(field, '.form__group')[0];\n\n          formGroup && formGroup.classList.remove('form__group--valid');\n        }\n      });\n    });\n  }\n\n  async handledFormSubmit(event) {\n    event.preventDefault();\n\n    const form = document.querySelector('.move__form');\n    const btn = form.querySelector('.form__submit');\n\n    btn.classList.add('js-loading');\n\n    const checkboxUserNeedStorage = document.querySelector(\n      '#move-user-need-storage'\n    );\n\n    const inputMoveFrom = document.getElementById('move-from');\n    const inputMoveTo = document.getElementById('move-to');\n\n    const haveTwoAddresses = Object.values(this.addressData).length === 2;\n\n    try {\n      if (\n        (inputMoveFrom.value !== '' || inputMoveTo.value !== '') &&\n        !haveTwoAddresses\n      ) {\n        this.modalInstance2.show();\n\n        return;\n      }\n\n      const orderInfoAddressFieldsForCustomData = Object.keys(\n        this.addressData\n      ).reduce((obj1, inputID) => {\n        const prefix = inputID.replace('move-', '');\n\n        const keys = Object.keys(this.addressData[inputID]);\n\n        const addressObj = keys.reduce((obj2, key) => {\n          const value = this.addressData[inputID][key];\n\n          key = key.replace('-', '_');\n\n          obj2[`${prefix}_${key}`] = value;\n\n          return obj2;\n        }, {});\n\n        return {\n          ...obj1,\n          ...addressObj,\n        };\n      }, {});\n\n      const formattedDate = this.calendar.formatDate(\n        this.calendar.selectedDates[0],\n        'Y/m/d'\n      );\n\n      const orderInfoCommonFields = {\n        current_step: 'Home',\n        moving_date: formattedDate,\n        // user_need_storage: checkboxUserNeedStorage.checked,\n        user_need_storage: false,\n        // moveListSaveSelected: this.moveListSaveSelected,\n      };\n\n      const orderInfoFieldsForCustomData = {\n        ...orderInfoAddressFieldsForCustomData,\n        ...orderInfoCommonFields,\n      };\n\n      const availableSLAS = await this.checkIfHaveSLASAvalible();\n\n      if (availableSLAS) {\n        await Promise.all([\n          this.cartService.setMultipleCustomDataFields(\n            'orderinfo',\n            orderInfoFieldsForCustomData\n          ),\n          new Promise((resolve, reject) => {\n            ga('send', {\n              hitType: 'event',\n              eventCategory: 'banner',\n              eventAction: 'true',\n              eventLabel: `from:${this.addressFromFormatted}||to:${this.addressToFormatted}`,\n              hitCallback: () => resolve(),\n            });\n          }),\n        ]);\n\n        window.location.assign('/mudanca');\n      }\n    } catch (error) {\n      console.error(error);\n    } finally {\n      btn.classList.remove('js-loading');\n    }\n  }\n\n  setHandledFormSubmit() {\n    const form = document.querySelector('.move__form');\n\n    form.addEventListener('submit', event => this.handledFormSubmit(event));\n  }\n\n  setHandledInputsChange() {\n    const moveForm = document.querySelector('.move__form');\n\n    moveForm.addEventListener('change', ({ target }) => {\n      target.setAttribute('title', target.value);\n\n      if (['move-from', 'move-to'].includes(target.id)) {\n        target.parentNode.parentNode.classList.remove(\n          'form__group--required-address'\n        );\n\n        if (this.addressData.hasOwnProperty(target.id)) {\n          delete this.addressData[target.id];\n        }\n      }\n    });\n\n    const moveFrom = document.querySelector('#move-from');\n    const moveTo = document.querySelector('#move-to');\n\n    const keysToIgnore = [37, 38, 39, 40];\n\n    [moveFrom, moveTo].forEach(input => {\n      let inputTimeOut;\n\n      input.addEventListener('blur', ({ target }) => {\n        if (\n          !this.addressData.hasOwnProperty(target.id) &&\n          target.value !== ''\n        ) {\n          input.parentNode.parentNode.classList.add(\n            'form__group--required-address'\n          );\n        }\n      });\n\n      input.addEventListener('keydown', ({ keyCode }) => {\n        if (!keysToIgnore.includes(keyCode)) {\n          clearTimeout(inputTimeOut);\n\n          input.parentNode.parentNode\n            .querySelector('.pac-container__loading')\n            .classList.add('pac-container__loading--show');\n        }\n      });\n\n      input.addEventListener('keyup', ({ keyCode }) => {\n        if (!keysToIgnore.includes(keyCode)) {\n          inputTimeOut = setTimeout(() => {\n            input.parentNode.parentNode\n              .querySelector('.pac-container__loading')\n              .classList.remove('pac-container__loading--show');\n          }, 500);\n        }\n      });\n    });\n  }\n\n  async checkIfHaveSLASAvalible() {\n    const modal = document.querySelector('.delivery-modal');\n    const modalInnerText = modal.querySelector('.modal__paragraph');\n    const form = document.querySelector('.move__form');\n    const btn = form.querySelector('.form__submit');\n\n    const defaultItems = [\n      {\n        id: 25, // skuID product custom\n        quantity: 1,\n        seller: 1,\n      },\n    ];\n\n    const country = 'BRA';\n\n    if (Object.keys(this.addressData).length < 1) {\n      return false;\n    }\n\n    const orderFormToAddress = await vtexjs.checkout.simulateShipping(\n      defaultItems,\n      this.addressData['move-to']['address-zipcode'],\n      country\n    );\n\n    const HUBS = await this.transporterService.getALLHUBS();\n\n    const findedHUB = HUBS.find(hub =>\n      this.googleMapsService.isZipcodeValidRange(\n        this.addressData['move-from']['address-zipcode'],\n        hub.initialZipcode,\n        hub.finalZipcode\n      )\n    );\n\n    const isAddressFromValid = findedHUB;\n\n    const isAddressToValid =\n      orderFormToAddress?.logisticsInfo?.[0]?.slas?.length > 0;\n\n    switch (true) {\n      case isAddressFromValid && isAddressToValid: {\n        await this.cartService.setSingleCustomDataField(\n          'orderinfo',\n          'hubID',\n          findedHUB.id\n        );\n\n        return true;\n      }\n\n      case !isAddressFromValid && !isAddressToValid: {\n        btn.classList.toggle('js-loading');\n\n        modalInnerText.innerText = `Os endereços ${this.addressFromFormatted} e ${this.addressToFormatted} não são atendidos atualmente.`;\n\n        await new Promise((resolve, reject) => {\n          ga('send', {\n            hitType: 'event',\n            eventCategory: 'banner',\n            eventAction: 'false',\n            eventLabel: `from:${this.addressFromFormatted}||to:${this.addressToFormatted}`,\n            hitCallback: () => resolve(),\n          });\n        });\n\n        this.modalInstance.show();\n        break;\n      }\n\n      case !isAddressFromValid: {\n        btn.classList.toggle('js-loading');\n\n        modalInnerText.innerText = `O endereço ${this.addressFromFormatted} não é atendido atualmente.`;\n\n        await new Promise((resolve, reject) => {\n          ga('send', {\n            hitType: 'event',\n            eventCategory: 'banner',\n            eventAction: 'false',\n            eventLabel: `from:${this.addressFromFormatted}||to:${this.addressToFormatted}`,\n            hitCallback: () => resolve(),\n          });\n        });\n\n        this.modalInstance.show();\n        break;\n      }\n\n      case !isAddressToValid: {\n        btn.classList.toggle('js-loading');\n\n        modalInnerText.innerText = `O endereço ${this.addressToFormatted} não é atendido atualmente.`;\n\n        await new Promise((resolve, reject) => {\n          ga('send', {\n            hitType: 'event',\n            eventCategory: 'banner',\n            eventAction: 'false',\n            eventLabel: `from:${this.addressFromFormatted}||to:${this.addressToFormatted}`,\n            hitCallback: () => resolve(),\n          });\n        });\n\n        this.modalInstance.show();\n        break;\n      }\n\n      default: {\n        return false;\n      }\n    }\n  }\n\n  createMoveListSaveSelectItem({ id, listName, listExcerpt }) {\n    return `\n      <li\n        data-move-list-save-id=\"${id}\"\n        class=\"dropdown__item js-select-item\"\n      >\n        <h4 class=\"item__name\">\n          ${listName}\n        </h4>\n\n        <span class=\"item__excerpt\">\n          ${listExcerpt}\n        </span>\n      </li>\n    `;\n  }\n\n  updateMoveListSaveSelectElement(lists) {\n    const listItems = lists.map(this.createMoveListSaveSelectItem).join('');\n\n    const listItemCustom = `\n      <li class=\"dropdown__item js-select-item\">\n        <h4 class=\"item__name\">\n          Lista Personalizada\n        </h4>\n\n        <span class=\"item__excerpt\">\n          Monte sua lista de mudança\n        </span>\n      </li>\n    `;\n\n    const moveListSaveSelectElement = document.querySelector('.js-select-list');\n\n    moveListSaveSelectElement.innerHTML = `\n      ${listItemCustom}\n\n      ${listItems}\n    `;\n  }\n\n  showMoveListSaveSelectElement() {\n    const moveListSaveSelectElement = document.querySelector('.js-select-list');\n\n    moveListSaveSelectElement.classList.add('dropdown--show');\n  }\n\n  setMoveListSaveListeners() {\n    const formGroupDropdown = document.querySelector('.form__group--dropdown');\n    const moveListSaveSelectElement = document.querySelector('.js-select-list');\n    const moveListSaveSelectSelectedElement = document.querySelector(\n      '.js-select-selected'\n    );\n\n    formGroupDropdown.addEventListener('click', ({ target }) => {\n      const isMoveListSaveSelectElement = Helper.getParents(\n        target,\n        '.js-select-list'\n      )[0];\n\n      if (isMoveListSaveSelectElement) return;\n\n      this.showMoveListSaveSelectElement();\n    });\n\n    const moveListSaveSelectItemElements = [\n      ...moveListSaveSelectElement.querySelectorAll('.js-select-item'),\n    ];\n\n    moveListSaveSelectItemElements.forEach(moveListSaveSelectItemElement => {\n      moveListSaveSelectItemElement.addEventListener('click', () => {\n        const moveListSaveSelectItemNameElement = moveListSaveSelectItemElement.querySelector(\n          '.item__name'\n        );\n\n        const currentItemSelected = moveListSaveSelectElement.querySelector(\n          '.js-select-item.dropdown__item--selected'\n        );\n\n        formGroupDropdown &&\n          formGroupDropdown.classList.add('form__group--valid');\n        moveListSaveSelectElement.classList.remove('dropdown--show');\n\n        const { moveListSaveId } = moveListSaveSelectItemElement.dataset;\n\n        moveListSaveSelectSelectedElement.textContent =\n          moveListSaveSelectItemNameElement.textContent;\n\n        currentItemSelected &&\n          currentItemSelected.classList.remove('dropdown__item--selected');\n\n        moveListSaveSelectItemElement.classList.add('dropdown__item--selected');\n\n        if (moveListSaveId) {\n          const listData = this.moveListSaveData.find(\n            item => item.id === moveListSaveId\n          );\n\n          this.moveListSaveSelected = listData.id;\n        } else {\n          this.moveListSaveSelected = 'custom list';\n        }\n      });\n    });\n  }\n\n  async getListTemplates() {\n    const fields = ['id', 'listName', 'listExcerpt'];\n\n    return this.moveListSaveRepository.getAllListsTemplates(fields);\n  }\n\n  createMoveListItem({ id, listName, listDate }) {\n    return `\n      <li class=\"list__item js-move-list-item\"  data-move-list-id=\"${id}\">\n        <h5 class=\"list__name\">\n          ${listName}\n        </h5>\n\n        <span class=\"list__separator\"></span>\n\n        <span class=\"list__date\">\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" class=\"list__date-icon\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4.17188 0C3.89573 0 3.67188 0.228621 3.67188 0.510638V2.4734C3.09209 2.6859 2.67188 3.25373 2.67188 3.91489C2.67188 4.7549 3.34938 5.44681 4.17188 5.44681C4.99438 5.44681 5.67188 4.7549 5.67188 3.91489C5.67188 3.25373 5.25166 2.6859 4.67188 2.4734V0.510638C4.67188 0.228621 4.44801 0 4.17188 0ZM11.8385 0C11.5624 0 11.3385 0.228621 11.3385 0.510638V2.4734C10.7588 2.6859 10.3385 3.25373 10.3385 3.91489C10.3385 4.7549 11.016 5.44681 11.8385 5.44681C12.661 5.44681 13.3385 4.7549 13.3385 3.91489C13.3385 3.25373 12.9183 2.6859 12.3385 2.4734V0.510638C12.3385 0.228621 12.1147 0 11.8385 0ZM0 2.89894C0 1.86766 0.828742 1.02128 1.83854 1.02128H2.83333C3.09748 1.01746 3.33854 1.26211 3.33854 1.53191C3.33854 1.80172 3.09748 2.04637 2.83333 2.04255H1.83854C1.36639 2.04255 1 2.41674 1 2.89894V5.78723H15V2.89894C15 2.41674 14.6336 2.04255 14.1615 2.04255H13.1667C12.9025 2.04637 12.6615 1.80172 12.6615 1.53191C12.6615 1.26211 12.9025 1.01746 13.1667 1.02128H14.1615C15.1712 1.02128 16 1.86766 16 2.89894V14.1223C16 15.1536 15.1712 16 14.1615 16H1.83854C0.828742 16 0 15.1536 0 14.1223V2.89894ZM5.5 1.02128C5.22385 1.02128 5 1.24989 5 1.53191C5 1.81392 5.22385 2.04255 5.5 2.04255H10.5C10.7761 2.04255 11 1.81392 11 1.53191C11 1.24989 10.7761 1.02128 10.5 1.02128H5.5ZM4.67188 3.91489C4.67188 3.62683 4.45394 3.40425 4.17188 3.40425C3.88981 3.40425 3.67188 3.62683 3.67188 3.91489C3.67188 4.20296 3.88981 4.42553 4.17188 4.42553C4.45394 4.42553 4.67188 4.20296 4.67188 3.91489ZM11.8385 3.40425C12.1206 3.40425 12.3385 3.62683 12.3385 3.91489C12.3385 4.20296 12.1206 4.42553 11.8385 4.42553C11.5565 4.42553 11.3385 4.20296 11.3385 3.91489C11.3385 3.62683 11.5565 3.40425 11.8385 3.40425ZM15 6.80851H1V14.1223C1 14.6045 1.36639 14.9787 1.83854 14.9787H14.1615C14.6336 14.9787 15 14.6045 15 14.1223V6.80851Z\" fill=\"#1E2587\"></path>\n          </svg>\n        \n          ${listDate}\n        </span>\n\n        <button class=\"list__button-delete js-move-list-item-delete\">\n          deletar\n        </button>\n      </li>\n    `;\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  window.Home = new Home();\n});\n","import fetch from 'unfetch';\r\nimport { Ensure, Logger } from '../common';\r\n\r\n/**\r\n * HttpClient Abstraction class\r\n */\r\nclass HttpClient {\r\n  /**\r\n   * HttpClient constructor\r\n   */\r\n  constructor() {\r\n    this._logger = new Logger('httpClient');\r\n  }\r\n\r\n  /**\r\n   * Get\r\n   * @param {String} endpointUrl\r\n   * @return {Promise}\r\n   */\r\n  get(endpointUrl) {\r\n    if (!Ensure.isUndefined(endpointUrl)) {\r\n      return this._execute(endpointUrl, 'GET');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Delete\r\n   * @param {String} endpointUrl\r\n   * @return {Promise}\r\n   */\r\n  delete(endpointUrl) {\r\n    if (!Ensure.isUndefined(endpointUrl)) {\r\n      return this._execute(endpointUrl, 'DELETE');\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {String} endpointUrl\r\n   * @param {JSON} payload\r\n   * @return {Promise}\r\n   */\r\n  post(endpointUrl, payload = {}) {\r\n    if (!Ensure.isUndefined(endpointUrl)) {\r\n      return this._execute(endpointUrl, 'POST', payload);\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {String} endpointUrl\r\n   * @param {JSON} payload\r\n   * @return {Promise}\r\n   */\r\n  put(endpointUrl, payload) {\r\n    if (!Ensure.isUndefined(endpointUrl) && !Ensure.isUndefined(payload)) {\r\n      return this._execute(endpointUrl, 'PUT', payload);\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {String} endpointUrl\r\n   * @param {JSON} payload\r\n   * @return {Promise}\r\n   */\r\n  patch(endpointUrl, payload) {\r\n    if (!Ensure.isUndefined(endpointUrl) && !Ensure.isUndefined(payload)) {\r\n      return this._execute(endpointUrl, 'PATCH', payload);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {String} endpointUrl\r\n   * @param {String} httpVerb\r\n   * @param {Object} payload\r\n   * @return {Promise}\r\n   */\r\n  _execute(endpointUrl, httpVerb, payload) {\r\n    let header = {\r\n      method: httpVerb,\r\n      headers: {\r\n        // 'Accept': 'application/vnd.vtex.ds.v10+json',\r\n        // 'Content-Type': 'application/json',\r\n        accept: 'application/vnd.vtex.masterdata.v10+json',\r\n        'content-type': 'application/json; charset=utf-8',\r\n      },\r\n    };\r\n\r\n    if (payload) {\r\n      header['body'] = JSON.stringify(payload);\r\n    }\r\n\r\n    return fetch(endpointUrl, header)\r\n      .then(this.validateResponse)\r\n      .then(this.parseResponseToJson)\r\n      .then(data => {\r\n        return data;\r\n      })\r\n      .catch(error => {\r\n        this._logger.log('Request succeeded with JSON response', error);\r\n        return error;\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Parse response data to json object\r\n   * @param {*} response - Request response\r\n   * @return {JSON} json data\r\n   */\r\n  async parseResponseToJson(response) {\r\n    if (!response.ok) {\r\n      return response;\r\n    }\r\n\r\n    return await response.json();\r\n  }\r\n\r\n  /**\r\n   * Response validation\r\n   * @param {*} response\r\n   * @return {Promise} promise result\r\n   */\r\n  validateResponse(response) {\r\n    if (response.ok) {\r\n      return Promise.resolve(response);\r\n    } else {\r\n      return Promise.reject(new Error(response.statusText));\r\n    }\r\n  }\r\n}\r\n\r\nexport default HttpClient;\r\n","import MasterdataRepository from './b8one.masterdataRepository';\r\n\r\n/**\r\n * MoveListSaveRepository class\r\n */\r\nexport default class MoveListSaveRepository extends MasterdataRepository {\r\n  constructor() {\r\n    super('LS');\r\n  }\r\n\r\n  /**\r\n   * This function add a new document to LS entity on Master Data\r\n   * @param  {String} name\r\n   * @param  {String} email\r\n   * @param  {String} date\r\n   * @param  {Array|String} items\r\n   */\r\n  async addList(name, email, date, items) {\r\n    const apiEndpoint = `${this._VTEX_MASTERDATA_ENDPOINT}/documents`;\r\n\r\n    if (Array.isArray(items)) {\r\n      items = JSON.stringify(items);\r\n    }\r\n\r\n    return this.httpClient_.post(apiEndpoint, {\r\n      listName: name,\r\n      listDate: date,\r\n      listEmail: email,\r\n      listItems: items,\r\n    });\r\n  }\r\n\r\n  async getListByQuery(\r\n    query,\r\n    fields = [\r\n      'id',\r\n      'listName',\r\n      'listEmail',\r\n      'homeType',\r\n      'homeSize',\r\n      'listDate',\r\n      'listItems',\r\n      'isTemplate',\r\n    ]\r\n  ) {\r\n    const params = new URLSearchParams();\r\n\r\n    params.append('_where', query);\r\n    params.append('_fields', `${fields}`);\r\n\r\n    console.log(params);\r\n\r\n    return this.search(params);\r\n  }\r\n\r\n  /**\r\n   * This function get the documents of LS entity on Master Data by email field\r\n   * @param  {String} email\r\n   * @param  {Array|String} fields=['id', 'listName', 'listEmail', 'listDate', 'listItems', 'isTemplate']\r\n   */\r\n  async getAllListsByEmail(\r\n    email,\r\n    fields = [\r\n      'id',\r\n      'listName',\r\n      'listEmail',\r\n      'listDate',\r\n      'homeType',\r\n      'homeSize',\r\n      'listItems',\r\n      'isTemplate',\r\n    ]\r\n  ) {\r\n    const params = new URLSearchParams();\r\n\r\n    params.append('_where', `(listEmail=${email} AND isTemplate=false)`);\r\n    params.append('_fields', `${fields}`);\r\n\r\n    return this.search(params);\r\n  }\r\n\r\n  /**\r\n   * This function get the lists templates of LS entity on Master Data\r\n   * @param  {Array|String} ['id', 'listName', 'listRooms', 'listExcerpt', 'listDescription']\r\n   */\r\n  async getAllListsTemplates(\r\n    fields = ['id', 'listName', 'listRooms', 'listExcerpt', 'listDescription']\r\n  ) {\r\n    const params = new URLSearchParams();\r\n\r\n    params.append('_where', `isTemplate=true`);\r\n    params.append('_fields', `${fields}`);\r\n\r\n    return this.search(params);\r\n  }\r\n\r\n  /**\r\n   * This function get the documents of LS entity on Master Data by DocumentId\r\n   * @param  {String} DocumentId\r\n   * @param  {Array|String} fields=['id', 'listName', 'listDate', 'listItems', 'listRooms', 'listExcerpt', 'listDescription', 'isTemplate']\r\n   */\r\n  async getListByDocumentId(\r\n    DocumentId,\r\n    fields = [\r\n      'id',\r\n      'listName',\r\n      'listDate',\r\n      'listItems',\r\n      'listRooms',\r\n      'homeType',\r\n      'homeSize',\r\n      'listExcerpt',\r\n      'listDescription',\r\n      'isTemplate',\r\n    ]\r\n  ) {\r\n    const params = new URLSearchParams();\r\n\r\n    params.append('_fields', `${fields}`);\r\n\r\n    return this.getByDocumentIdWithFields(DocumentId, fields);\r\n  }\r\n\r\n  /**\r\n   * @param  {String} DocumentId\r\n   */\r\n  async deleteListByDocumentId(DocumentId) {\r\n    return this.delete(DocumentId);\r\n  }\r\n}\r\n"],"sourceRoot":""}