{"version":3,"sources":["webpack:///./src/js/general/application/app.js","webpack:///./src/js/general/components/b8one.component.js","webpack:///./src/js/general/components/b8one.loginComponent.js","webpack:///./src/js/general/repositories/b8one.masterdataRepository.js","webpack:///./src/js/general/common/b8one.ensure.js","webpack:///./src/js/general/common/b8one.helper.js","webpack:///./src/js/general/common/b8one.logger.js","webpack:///./src/js/general/components/b8one.navComponent.js","webpack:///./src/js/store/mobile/index.js","webpack:///./src/js/general/services/b8one.cartService.js","webpack:///./src/js/general/services/b8one.httpClient.js"],"names":["Application","this","props","language","navigator","userLanguage","currency","currencyLocale","minimumFractionDigits","storeId","Component","app_","logger_","Logger","ensure_","Ensure","_contentContainerSelector","_htmlToRender","element","document","querySelector","String","innerHTML","info","elementSelector","elements","forEach","selector","elementFound","push","querySelectorAll","LoginComponent","VTEX_LOGOUT_URL","VTEX_ACCOUNT_URL","VTEX_ORDERS_URL","LOGOUT_LABEL","isUserDefined","isMobile","window","innerWidth","loginContainerSelector","loginActionSelector","render","eventHandlerBinds","loginButtonElement","getElement","$","get","user","loginActionElement","IsUserDefined","console","log","FirstName","insertAdjacentHTML","href","vtexid","start","locale","forceReload","userObj","isUndefined","Email","split","this_","addEventListener","event","userLogin","MasterdataRepository","entityCode","entityCode_","httpClient_","HttpClient","_VTEX_MASTERDATA_ENDPOINT","entityPayload","apiEndpoint","put","then","res","error","patch","params","documentId","fields","delete","field","fileName","getAttachmentUrl","value","undefined","input","checkValidity","object","getMissingProps","length","missingProps","prop","Helper","_logger","elem","Element","prototype","matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","s","ownerDocument","i","item","parents","parentNode","form","serialized","name","disabled","type","n","options","selected","encodeURIComponent","checked","join","data","Math","random","toString","substr","cname","cvalue","exdays","date","Date","setTime","getTime","expires","toUTCString","cookie","decodeURIComponent","filter","includes","heightViewport","innerHeight","documentElement","clientHeight","widthViewport","clientWidth","getBoundingClientRect","top","right","bottom","left","str","pattern","mapAccents","a","e","o","u","c","replace","RegExp","toFixed","max","Intl","NumberFormat","style","format","logName","message","errorObj","warn","NavComponent","navDadClass","navItemClass","navContentElement","navBackDadElement","navBackElement","activeNaModal","map","dad","_event","preventDefault","target","_activeNavModal","nav","dataName","dataset","navName","_changeAllActivities","el","parentElement","elClassName","classList","parentClassName","_setActiveClass","modalElement","navItemInitialClass","modalElementInitialClass","className","toggle","backNavElement","backDadNavElement","parentsElement","parentsClassName","parentsSiblings","previousElementSibling","parentsSiblingsActiveClass","remove","handlerNavDad","handlerItem","backHandler","nav_","login_","cartService","CartService","loadScreenElement","loadScreenBarElement","barProgress","setProgress","setInterval","clearInterval","add","width","click","next","slideToggle","headerSticky","componentBuilder","setHandledButtonPageBackClick","menuActions","addCSSPropertyVH","setHandledWindowResize","cancelAction","setHandledInitSaveCustomDataEvent","setHandledEndSaveCustomDataEvent","load","createInitSaveCustomDataEvent","createEndSaveCustomDataEvent","key","location","pathname","assign","endereco","seguro","resumo","buttonPageBack","handledButtonPageBackClick","toogleMenu","icon","headerButtonMenu","children","contains","body","headerWrapperMenu","link","subMenu","subList","tooltip","vh","setProperty","header","scrollingElement","scrollTop","initSaveCustomDataEvent","createEvent","initEvent","endSaveCustomDataEvent","buttonSaveIcon","setTimeout","handledInitSaveCustomDataEvent","handledEndSaveCustomDataEvent","_VTEX_API_ENDPOINT","_httpClient","skuId","productQuantity","sellerId","getCurrent","current","indexFound","items","findIndex","x","id","parseInt","quantity","endpointUrl","orderFormId","payload","orderItems","seller","skus","vtexjs","checkout","getOrderForm","skusCustomProducts","getCustomProducts","sku","isCustom","skuToIgnore","indexToRemove","reduce","indexList","index","removeMoreProducts","response","productsToAdd","productId","productsToUpdate","sameSku","diffQuantity","productsToReplaceSKU","itemsList","oldSKU","newSKU","productsToRemove","updateItems","replaceSKU","removeItems","addToCart","customProducts","customProductItem","currentCustomProduct","customProductQuantity","newQuantity","Object","values","itemIndex","expectedOrderFormSections","noSplitItem","itemsIndex","updateProducts","postalCode","country","calculateShipping","orderForm","simulateShipping","orderFormSimulated","logisticsInfo","shippingData","sendAttachment","address","availableAddresses","selectedAddresses","appName","endpoint","appFieldName","appFieldValue","_execute","httpVerb","method","headers","accept","JSON","stringify","fetch","validateResponse","parseResponseToJson","catch","ok","json","Promise","resolve","reject","Error","statusText"],"mappings":"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","file":"js/b8one.mobile.general.js","sourcesContent":["class Application {\n    constructor() {\n        this.props = {\n            language: navigator.language || navigator.userLanguage,\n            currency: 'BRL',\n            currencyLocale: 'pt-br',\n            minimumFractionDigits: 2,\n            storeId: 'autosuperstore',\n        };\n    }\n}\n\nexport default Application;\n","/* eslint-disable max-len */\nimport { Logger, Ensure } from '../common';\nimport { Application } from '../application';\n\n/**\n * Base Component class\n */\nclass Component {\n  /**\n   * Base Component constructor\n   * @param {Object} props Component's properties.\n   */\n  constructor() {\n    this.app_ = new Application();\n    this.logger_ = new Logger();\n    this.ensure_ = Ensure;\n\n    // TODO: Remover esse ponto após alterar nos demais componentes que usam essa propriedade apartir..\n    this.props = this.app_.props;\n  }\n\n  /**\n   * Component rendering\n   * @param {String} _contentContainerSelector - Content's Conatainer selector.\n   * @param {String} _htmlToRender - HTML to be render.\n   */\n  render(_contentContainerSelector, _htmlToRender) {\n    const element = document.querySelector(String(_contentContainerSelector));\n\n    if (element) {\n      element.innerHTML = String(_htmlToRender);\n    } else {\n      this.logger_.info(`element '${_contentContainerSelector}' not found on page!`);\n    }\n  }\n\n  /**\n   * Get element by selector\n   * @param {*} elementSelector \n   */\n  getElement(elementSelector = '') {\n    return document.querySelector(String(elementSelector));\n  }\n\n  /**\n   * Get elements by selectors\n   * @param {*} elementSelector \n   */\n  getElements(elementSelectors = []) {\n    let elements = [];\n    [...elementSelectors].forEach((selector) => {\n      const elementFound = document.querySelector(String(selector));\n\n      if (elementFound) {\n        elements.push(elementFound);\n      }\n    });\n\n    return elements;\n  }\n\n  /**\n   * Get all elements by selector\n   * @param {*} elementSelector \n   */\n  getAllElements(elementSelector = '') {\n    return document.querySelectorAll(String(elementSelector));\n  }\n}\n\nexport default Component;\n","/* eslint-disable max-len, no-undef */\nimport Component from './b8one.component';\nimport $ from 'jquery';\n// import VtexUser from '../services/b8one.vtexUser';\n\n/**\n * LoginComponent Abstraction class\n */\nclass LoginComponent extends Component {\n  /**\n   * constructor\n   */\n  constructor() {\n    super();\n\n    this.VTEX_LOGOUT_URL = '/no-cache/user/logout';\n    this.VTEX_ACCOUNT_URL = '/_secure/account#/profile';\n    this.VTEX_ORDERS_URL = '/_secure/account#/orders';\n    this.LOGOUT_LABEL = 'Sair';\n    this.isUserDefined = false;\n    this.isMobile = window.innerWidth < 1024;\n    // this._vtexUser = new VtexUser();\n    this.loginContainerSelector = '.js-login--container';\n    this.loginActionSelector = '.js-login--action';\n  }\n\n  /**\n   * load component\n   */\n  load() {\n    this.render();\n    this.eventHandlerBinds();\n  }\n\n  /**\n   * Component's render method\n   */\n  async render() {\n    const loginButtonElement = this.getElement(this.loginContainerSelector);\n\n    if (loginButtonElement) {\n      // this._vtexUser.getCurrent().then((user) => {\n      const user = await $.get('/no-cache/profileSystem/getProfile');\n      const loginActionElement = loginButtonElement.querySelector(\n        this.loginActionSelector\n      );\n\n      this.isUserDefined = user.IsUserDefined;\n\n      console.log(this.isUserDefined);\n\n      if (this.isUserDefined) {\n        console.log('loginActionElement', loginActionElement);\n\n        if (loginActionElement) {\n          console.log('loginButtonElement', loginButtonElement);\n\n          if (!this.isMobile) {\n            loginActionElement.innerHTML = user.FirstName\n              ? `Olá, ${user.FirstName}`\n              : `Olá`;\n          }\n\n          // <li class=\"User__Item\" ><a class=\"User__Link\" href=\"/mudanca?showMyLists=true\">Minhas listas</a></li>\n\n          loginButtonElement.insertAdjacentHTML(\n            'beforeend',\n            `\n            <ul class=\"User__Dropdown\">  \n              <li class=\"User__Item\" ><a class=\"User__Link\" href=\"${this.VTEX_ACCOUNT_URL}\">Minha Conta</a></li>\n              <li class=\"User__Item\" ><a class=\"User__Link\" href=\"${this.VTEX_ORDERS_URL}\">Minhas mudanças</a></li>\n              <li class=\"User__Item\" ><a class=\"User__Link\" href=\"${this.VTEX_LOGOUT_URL}\">Sair</a></li>\n            </ul>\n          `\n          );\n\n          if (!this.isMobile) {\n            loginButtonElement.href = this.VTEX_ACCOUNT_URL;\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * Open user login modal\n   */\n  userLogin() {\n    vtexid.start({\n      locale: this.props.language,\n      forceReload: true,\n    });\n  }\n\n  /**\n   * Get User's display name\n   * @param {*} userObj - Vtex User JSON Object\n   * @return {String} User's display name\n   */\n  getUserDisplayName(userObj) {\n    return Ensure.isUndefined(userObj.FirstName)\n      ? userObj.Email.split('@')[0].split('.')[0]\n      : userObj.FirstName;\n  }\n\n  /**\n   * Event binds\n   */\n  eventHandlerBinds() {\n    // loginButton.addEventListener('click', (event) => {\n    //   _this.userLogin();\n    // }, false);\n    const this_ = this;\n    const loginButtonElement = this.getElement(this.loginContainerSelector);\n\n    if (loginButtonElement) {\n      loginButtonElement.addEventListener(\n        'click',\n        event => {\n          // event.preventDefault();\n\n          if (!this.isUserDefined) {\n            this_.userLogin();\n          }\n        },\n        false\n      );\n    }\n  }\n}\n\nexport default LoginComponent;\n","import HttpClient from '../services/b8one.httpClient';\n\n/**\n * Masterdata Base Repository\n */\nclass MasterdataRepository {\n  /**\n   * Masterdata Repository constructor\n   * @param {*} entityCode\n   */\n  constructor(entityCode) {\n    const STORE_ID = 'TR';\n\n    this.entityCode_ = entityCode;\n    this.httpClient_ = new HttpClient();\n\n    // this._VTEX_MASTERDATA_ENDPOINT = `//api.vtexcrm.com.br/${STORE_ID}/dataentities/${entityCode}`;\n    this._VTEX_MASTERDATA_ENDPOINT = `/api/dataentities/${entityCode}`;\n  }\n\n  /**\n   * add\n   * @param {*} entityPayload\n   * @return {*}\n   */\n  add(entityPayload) {\n    const apiEndpoint = `${this._VTEX_MASTERDATA_ENDPOINT}/documents`;\n\n    return this.httpClient_.put(apiEndpoint, entityPayload).then(\n      res => {\n        return res;\n      },\n      error => {\n        return error;\n      }\n    );\n  }\n\n  /**\n   * update..\n   * @param {*} entityPayload\n   * @return {*}\n   */\n  update(entityPayload) {\n    const apiEndpoint = `${this._VTEX_MASTERDATA_ENDPOINT}/documents`;\n\n    return this.httpClient_.patch(apiEndpoint, entityPayload).then(\n      res => {\n        return res;\n      },\n      error => error\n    );\n  }\n\n  /**\n   * search\n   * @param {*} params\n   * @return {*}\n   */\n  search(params) {\n    const apiEndpoint = `${this._VTEX_MASTERDATA_ENDPOINT}/search?${params}`;\n\n    return this.httpClient_.get(apiEndpoint).then(res => {\n      return res;\n    });\n  }\n\n  /**\n   * Get Document by document ID\n   * @param {GUID} documentId Document Id\n   */\n  async getByDocumentId(documentId) {\n    const apiEndpoint = `${this._VTEX_MASTERDATA_ENDPOINT}/documents/${documentId}`;\n\n    const res = await this.httpClient_.get(apiEndpoint);\n    return res;\n  }\n\n  async getByDocumentIdWithFields(documentId, fields) {\n    const apiEndpoint = `${this._VTEX_MASTERDATA_ENDPOINT}/documents/${documentId}?_fields=${fields}`;\n\n    const res = await this.httpClient_.get(apiEndpoint);\n    return res;\n  }\n  /**\n   * delete\n   * @param {*} documentId\n   * @return {*}\n   */\n  delete(documentId) {\n    const apiEndpoint = `${this._VTEX_MASTERDATA_ENDPOINT}/documents/${documentId}`;\n\n    return this.httpClient_.delete(apiEndpoint).then(res => {\n      return res;\n    });\n  }\n\n  /**\n   *\n   * @param {*} documentId\n   * @param {*} field\n   * @param {*} fileName\n   */\n  getAttachmentUrl(documentId = '', field = '', fileName = '') {\n    return `${this._VTEX_MASTERDATA_ENDPOINT}/documents/${documentId}/${field}/attachments/${fileName}`;\n  }\n\n  /**\n   * Get attachments\n   * @param {*} documentId\n   * @param {*} field\n   * @param {*} fileName\n   */\n  async getAttachment(documentId = '', field = '', fileName = '') {\n    // /api/dataentities/{{data_entity_name}}/documents/{{id}}/{{field}}/attachments/{{file_name}}\n    const apiEndpoint = this.getAttachmentUrl(documentId, field, fileName);\n\n    const res = await this.httpClient_.get(apiEndpoint);\n    return res;\n  }\n}\n\nexport default MasterdataRepository;\n","/**\n * Ensure Abstraction class\n */\nclass Ensure {\n  /**\n   * Ensure value is Undefined\n   * @param {*} value Value to be validated\n   * @return {boolean}\n   */\n  static isUndefined(value = undefined) {\n    return typeof value === 'undefined' ||\n      value === null ||\n      value === '' ||\n      value === {} ||\n      value === [];\n    // || JSON.stringify(value) === JSON.stringify({});\n  }\n\n  /**\n   * Ensure Input validity\n   * @param {*} input to validate\n   * @return {boolean} true if is valid\n   */\n  static isInputValid(input) {\n    return !this.isUndefined(input) && input.checkValidity();\n  }\n\n  /**\n   * Verify if object has properties\n   * @param {Object} object - Object to be verified\n   * @param {Array} props - properties to search on object\n   * @return {Boolean} True if object has all properties\n   */\n  static hasProps(object, props) {\n    const missingPropsResult = this.getMissingProps(object, props);\n    return missingPropsResult.length <= 0;\n  }\n\n  /**\n   * Get Object missing properties\n   * @param {Object} object - Object to be verified\n   * @param {Array} props - properties to search on object\n   * @return {Array} missing properties\n   */\n  static getMissingProps(object, props) {\n    let missingProps = [];\n    [...props].forEach((prop) => {\n      const result = prop in object;\n      if (!result) {\n        missingProps.push(prop);\n      }\n    });\n\n    return missingProps;\n  }\n}\n\nexport default Ensure;\n","/* eslint-disable max-len */\nimport { Logger } from './';\n\n/**\n * Helper Abstraction class\n */\nclass Helper {\n  /**\n   * Helper constructor\n   * @param {*} props\n   */\n  constructor(props) {\n    this._logger = new Logger('Ensure');\n    this.props = props || {\n      language: navigator.language || navigator.userLanguage,\n      currency: 'BRL',\n      currencyLocale: 'pt-br',\n      minimumFractionDigits: 2,\n    };\n  }\n\n  /**\n   * format currency\n   * @param {*} value\n   * @param {*} minimumFractionDigits\n   * @return {*}\n   */\n  formatPrice(value) {\n    value = value / 100;\n    value = (value * 1).toFixed(\n      Math.max(0, ~~this.props.minimumFractionDigits)\n    );\n\n    return new Intl.NumberFormat(this.props.currencyLocale, {\n      style: 'currency',\n      currency: this.props.currency,\n      minimumFractionDigits: this.props.minimumFractionDigits,\n    }).format(value);\n  }\n\n  static getParents(elem, selector) {\n    // Element.matches() polyfill\n    if (!Element.prototype.matches) {\n      Element.prototype.matches =\n        Element.prototype.matchesSelector ||\n        Element.prototype.mozMatchesSelector ||\n        Element.prototype.msMatchesSelector ||\n        Element.prototype.oMatchesSelector ||\n        Element.prototype.webkitMatchesSelector ||\n        function(s) {\n          let matches = (this.document || this.ownerDocument).querySelectorAll(\n              s\n            ),\n            i = matches.length;\n\n          while (--i >= 0 && matches.item(i) !== this) {}\n\n          return i > -1;\n        };\n    }\n\n    // Set up a parent array\n    let parents = [];\n\n    // Push each parent element to the array\n    for (; elem && elem !== document; elem = elem.parentNode) {\n      if (selector) {\n        if (elem.matches(selector)) {\n          parents.push(elem);\n        }\n\n        continue;\n      }\n\n      parents.push(elem);\n    }\n\n    // Return our parent array\n    return parents;\n  }\n\n  static serializeForm(form) {\n    // Setup our serialized data\n    let serialized = [];\n\n    // Loop through each field in the form\n    for (let i = 0; i < form.elements.length; i++) {\n      let field = form.elements[i];\n\n      // Don't serialize fields without a name, submits, buttons, file and reset inputs, and disabled fields\n      if (\n        !field.name ||\n        field.disabled ||\n        field.type === 'file' ||\n        field.type === 'reset' ||\n        field.type === 'submit' ||\n        field.type === 'button'\n      )\n        continue;\n\n      // If a multi-select, get all selections\n      if (field.type === 'select-multiple') {\n        for (let n = 0; n < field.options.length; n++) {\n          if (!field.options[n].selected) continue;\n\n          serialized.push(\n            encodeURIComponent(field.name) +\n              '=' +\n              encodeURIComponent(field.options[n].value)\n          );\n        }\n      }\n\n      // Convert field data to a query string\n      else if (\n        (field.type !== 'checkbox' && field.type !== 'radio') ||\n        field.checked\n      ) {\n        serialized.push(\n          encodeURIComponent(field.name) + '=' + encodeURIComponent(field.value)\n        );\n      }\n    }\n\n    return serialized.join('&');\n  }\n\n  static getFormData(form) {\n    // Setup our serialized data\n    let data = {};\n\n    // Loop through each field in the form\n    for (let i = 0; i < form.elements.length; i++) {\n      let field = form.elements[i];\n\n      // Don't serialize fields without a name, submits, buttons, file and reset inputs, and disabled fields\n      if (\n        !field.name ||\n        field.disabled ||\n        field.type === 'file' ||\n        field.type === 'reset' ||\n        field.type === 'submit' ||\n        field.type === 'button'\n      )\n        continue;\n\n      // If a multi-select, get all selections\n      if (field.type === 'select-multiple') {\n        for (let n = 0; n < field.options.length; n++) {\n          if (!field.options[n].selected) continue;\n\n          data[field.name] = field.options[n].value;\n        }\n      }\n\n      // Convert field data to a query string\n      else if (\n        (field.type !== 'checkbox' && field.type !== 'radio') ||\n        field.checked\n      ) {\n        data[field.name] = field.value;\n      }\n    }\n\n    return data;\n  }\n\n  static getRandomID() {\n    // Generate unique IDs for use as pseudo-private/protected names.\n    // Similar in concept to\n    // <http://wiki.ecmascript.org/doku.php?id=strawman:names>.\n    //\n    // The goals of this function are twofold:\n    //\n    // * Provide a way to generate a string guaranteed to be unique when compared\n    //   to other strings generated by this function.\n    // * Make the string complex enough that it is highly unlikely to be\n    //   accidentally duplicated by hand (this is key if you're using `ID`\n    //   as a private/protected name on an object).\n    //\n    // Use:\n    //\n    //     var privateName = ID();\n    //     var o = { 'public': 'foo' };\n    //     o[privateName] = 'bar';\n\n    // Math.random should be unique because of its seeding algorithm.\n    // Convert it to base 36 (numbers + letters), and grab the first 9 characters\n    // after the decimal.\n\n    return (\n      '_' +\n      Math.random()\n        .toString(36)\n        .substr(2, 9)\n    );\n  }\n\n  static setCookie(cname, cvalue, exdays) {\n    const date = new Date();\n\n    date.setTime(date.getTime() + exdays * 24 * 60 * 60 * 1000);\n\n    const expires = 'expires=' + date.toUTCString();\n\n    document.cookie = `${cname}=${cvalue};${expires};path=/`;\n  }\n\n  static getCookie(cname) {\n    const decodedCookie = decodeURIComponent(document.cookie);\n\n    const cookie = decodedCookie\n      .split(';')\n      .filter(cookie => cookie.includes(cname))[0];\n\n    return cookie || '';\n  }\n\n  static isInViewport(element) {\n    const heightViewport =\n      window.innerHeight || document.documentElement.clientHeight;\n\n    const widthViewport =\n      window.innerWidth || document.documentElement.clientWidth;\n\n    const { top, right, bottom, left } = element.getBoundingClientRect();\n\n    return (\n      top >= 0 &&\n      left >= 0 &&\n      bottom <= heightViewport &&\n      right <= widthViewport\n    );\n  }\n\n  static removeAccents(str) {\n    const mapAccents = {\n      a: 'á|à|ã|â|À|Á|Ã|Â',\n      e: 'é|è|ê|É|È|Ê',\n      i: 'í|ì|î|Í|Ì|Î',\n      o: 'ó|ò|ô|õ|Ó|Ò|Ô|Õ',\n      u: 'ú|ù|û|ü|Ú|Ù|Û|Ü',\n      c: 'ç|Ç',\n      n: 'ñ|Ñ',\n    };\n\n    for (let pattern in mapAccents) {\n      str = str.replace(new RegExp(mapAccents[pattern], 'g'), pattern);\n    }\n\n    return str;\n  }\n}\n\nexport default Helper;\n","/* eslint no-console: 0 */\n\n/**\n * Logger Abstraction class\n */\nclass Logger {\n  /**\n   * Logger constructor\n   * @param {string} logName Application name to log\n   */\n  constructor(logName = 'B8ONE Logger Component') {\n    this.logName = logName;\n  }\n\n  /**\n   * Log error message\n   * @param {*} message - Message text\n   * @param {*} errorObj - Message object\n   */\n  error(message = '', errorObj = {}) {\n    console.error(message, errorObj);\n  }\n\n  /**\n   * Log information message\n   * @param {*} message - Message text\n   */\n  info(message = '') {\n    console.info(message);\n  }\n\n  /**\n   * Log warning message\n   * @param {*} message - Message text\n   */\n  warning(message = '') {\n    console.warn(this.logName, message);\n  }\n\n  /**\n   * Generic log\n   * @param {String} message - log's message\n   */\n  log(message = '') {\n    console.log(message);\n  }\n\n  /**\n   * Generic log\n   * @param {String} message - log's message\n   * @param {*} object - object to be logged\n   */\n  log(message = '', object = {}) {\n    console.log(message, object);\n  }\n}\n\nexport default Logger;\n","export default class NavComponent {\n  constructor() {\n    this.navDadClass = '.js-nav-dad';\n    this.navItemClass = '.js-nav-item';\n    this.navContentElement = '.js-nav-content';\n\n    this.navBackDadElement = '.js-nav-dad-back';\n    this.navBackElement = '.js-nav-back';\n\n    this.activeNaModal = '';\n  }\n\n  handlerNavDad() {\n    const navDadItem = document.querySelectorAll(this.navDadClass);\n\n    [...navDadItem].map(dad => {\n      dad.addEventListener('click', _event => {\n        _event.preventDefault();\n\n        const element = _event.target;\n        \n        this._activeNavModal(element);\n      }); \n    });\n  }\n\n  handlerItem() {\n    const navItem = document.querySelectorAll(this.navItemClass);\n    \n    [...navItem].map(nav => {\n      nav.addEventListener('click', _event => {\n        _event.preventDefault();\n\n        const element = _event.target;\n        \n        const dataName = element.dataset.navName;\n\n        this.activeNaModal = dataName;\n        \n        this._changeAllActivities(dataName);\n      });\n    });\n  }\n\n  _activeNavModal(el) {\n    const { parentElement } = el;\n    const elClassName = el.classList[0];\n    const parentClassName = parentElement.parentElement.classList[0];\n\n    this._setActiveClass(el, elClassName);\n    this._setActiveClass(parentElement.parentElement, parentClassName);\n  }\n\n  _changeAllActivities(navName) {\n    const navItemClass = document.querySelector(`[data-nav-name=\"${navName}\"]`)\n    const modalElement = document.querySelector(`[data-nav-content=\"${navName}\"]`);\n\n    const navItemInitialClass = navItemClass.classList[0];\n    const modalElementInitialClass = modalElement.classList[0];\n\n    this._setActiveClass(navItemClass, navItemInitialClass);\n    this._setActiveClass(modalElement, modalElementInitialClass);\n  }\n\n  _setActiveClass(element, className) {\n    element.classList.toggle(`${className}--active`);\n  }\n\n  backHandler() {\n    const backNavElement = document.querySelectorAll(this.navBackElement);\n    const backDadNavElement = document.querySelectorAll(this.navBackDadElement);\n\n    [...backNavElement].map(element => {\n      element.addEventListener('click', _event => {\n        _event.preventDefault();\n        \n        this._changeAllActivities(this.activeNaModal);\n      });\n    });\n    \n    [...backDadNavElement].map(element => {\n      element.addEventListener('click', _event => {\n        const parentsElement = _event.target.parentElement.parentElement.parentElement.parentElement;\n\n        const parentsClassName = parentsElement.classList[1];\n        const parentsSiblings = _event.target.parentElement.parentElement.previousElementSibling;\n        const parentsSiblingsActiveClass = parentsSiblings.classList[2];\n        \n        parentsSiblings.classList.remove(parentsSiblingsActiveClass);\n        parentsElement.classList.remove(parentsClassName);\n      });\n    });\n  }\n\n  load() {\n    this.handlerNavDad();\n    this.handlerItem();\n    this.backHandler();\n  }\n}","import NavComponent from './../../general/components/b8one.navComponent';\nimport LoginComponent from './../../general/components/b8one.loginComponent';\nimport CartService from 'Services/b8one.cartService.js';\n\nclass General {\n  constructor() {\n    this.nav_ = new NavComponent();\n    this.login_ = new LoginComponent();\n\n    this.cartService = new CartService();\n\n    this.eventHandlerBinds();\n  }\n\n  loadscreen() {\n    const loadScreenElement = document.querySelector('.js-loadscreen');\n    const loadScreenBarElement = document.querySelector('.js-bar-status');\n\n    let barProgress = 1;\n\n    const setProgress = setInterval(() => {\n      if (barProgress >= 100) {\n        clearInterval(setProgress);\n\n        loadScreenElement.classList.add('loadscreen--disabled');\n      } else {\n        barProgress++;\n        loadScreenBarElement.style.width = barProgress + '%';\n      }\n    }, 25);\n  }\n\n  accordion() {\n    $('.js-footer-expand').click(function (e) {\n      $(this)\n        .next()\n        .slideToggle();\n    });\n  }\n\n  eventHandlerBinds() {\n    // Page's DOM content is loaded\n    document.addEventListener('DOMContentLoaded', event => {\n      // this.loadscreen();\n      // this.accordion();\n      this.headerSticky();\n      this.componentBuilder();\n      this.setHandledButtonPageBackClick();\n      this.menuActions();\n      this.addCSSPropertyVH();\n      this.setHandledWindowResize();\n      this.cancelAction();\n\n      this.setHandledInitSaveCustomDataEvent();\n      this.setHandledEndSaveCustomDataEvent();\n    });\n  }\n\n  componentBuilder() {\n    this.login_.load();\n    this.nav_.load();\n\n    this.createInitSaveCustomDataEvent();\n    this.createEndSaveCustomDataEvent();\n  }\n\n  handledButtonPageBackClick() {\n    const URLs = {\n      'empresa-de-mudanca': '/mudanca',\n      endereco: '/empresa-de-mudanca',\n      'seguro-info': '/endereco',\n      seguro: '/seguro-info',\n      resumo: '/seguro',\n    };\n\n    const { pathname } = window.location;\n\n    const key = pathname.replace('/', '');\n\n    window.location.assign(URLs[key]);\n  }\n\n  setHandledButtonPageBackClick() {\n    const buttonPageBack = document.querySelector('.js-button-page-back');\n\n    buttonPageBack &&\n      buttonPageBack.addEventListener('click', e =>\n        this.handledButtonPageBackClick()\n      );\n  }\n\n  menuActions() {\n    const headerButtonMenu = document.querySelector('.header__button-menu');\n    const headerWrapperMenu = document.querySelector('.header__wrapper--menu');\n\n    const toogleMenu = () => {\n      const icon = headerButtonMenu.children[0];\n\n      if (icon.classList.contains('fa-bars')) {\n        icon.classList.replace('fa-bars', 'fa-times');\n        document.body.classList.add('without-scroll');\n        headerWrapperMenu.classList.add('header__wrapper--menu-show');\n      } else {\n        icon.classList.replace('fa-times', 'fa-bars');\n        document.body.classList.remove('without-scroll');\n        headerWrapperMenu.classList.remove('header__wrapper--menu-show');\n      }\n    };\n\n    headerButtonMenu.addEventListener('click', toogleMenu);\n\n    const navigationLinks = document.querySelectorAll(\n      '.navigation__list > .navigation__link'\n    );\n\n    [...navigationLinks].forEach(link => {\n      link.addEventListener('click', event => {\n        toogleMenu();\n      });\n    });\n\n    const subMenus = document.querySelectorAll('.navigation__list .list__item');\n\n    [...subMenus].forEach(subMenu => {\n      const subList = subMenu.querySelector('.navigation__sublist');\n      const navigationLink = subMenu.querySelector('.navigation__link');\n\n      navigationLink.addEventListener('click', ({ target }) => {\n        subList && subList.classList.add('navigation__sublist--show');\n      });\n\n      const buttonBack = subList.querySelector('.header__button-back');\n\n      buttonBack.addEventListener('click', event => {\n        subList && subList.classList.remove('navigation__sublist--show');\n      });\n    });\n  }\n\n  cancelAction() {\n    const tooltip = document.querySelector('button.tooltip');\n\n    tooltip &&\n      tooltip.addEventListener('click', e => {\n        e.preventDefault();\n      });\n  }\n\n  /*\n    This function adds a custom css property to fix the viewport unit problem in mobile.\n    see more in https://css-tricks.com/the-trick-to-viewport-units-on-mobile/\n  */\n  addCSSPropertyVH() {\n    // First we get the viewport height and we multiple it by 1% to get a value for a vh unit\n    let vh = window.innerHeight * 0.01;\n\n    // Then we set the value in the --vh custom property to the root of the document\n    document.documentElement.style.setProperty('--vh', `${vh}px`);\n  }\n\n  setHandledWindowResize() {\n    window.addEventListener('resize', event => {\n      this.addCSSPropertyVH();\n    });\n  }\n\n  headerSticky() {\n    const header = document.querySelector('.header');\n\n    window.addEventListener(\n      'scroll',\n      e => {\n        const scrollElement =\n          document.scrollingElement || document.documentElement;\n\n        if (scrollElement.scrollTop >= 20) {\n          header.classList.add('header--sticky');\n        } else {\n          header.classList.remove('header--sticky');\n        }\n      },\n      true\n    );\n  }\n\n  createInitSaveCustomDataEvent() {\n    const initSaveCustomDataEvent = document.createEvent('Event');\n\n    initSaveCustomDataEvent.initEvent('initSaveCustomData', true, true);\n\n    window.initSaveCustomDataEvent = initSaveCustomDataEvent;\n  }\n\n  createEndSaveCustomDataEvent() {\n    const endSaveCustomDataEvent = document.createEvent('Event');\n\n    endSaveCustomDataEvent.initEvent('endSaveCustomData', true, true);\n\n    window.endSaveCustomDataEvent = endSaveCustomDataEvent;\n  }\n\n  handledInitSaveCustomDataEvent() {\n    const buttonSaveIcon = document.querySelector('.js-button-save');\n\n    if (buttonSaveIcon) {\n      buttonSaveIcon.classList.add('fa-pulse');\n      buttonSaveIcon.classList.replace('fa-save', 'fa-spinner-third');\n    }\n  }\n\n  handledEndSaveCustomDataEvent() {\n    const buttonSaveIcon = document.querySelector('.js-button-save');\n\n    if (buttonSaveIcon) {\n      buttonSaveIcon.classList.remove('fa-pulse');\n      buttonSaveIcon.classList.replace('fa-spinner-third', 'fa-check-circle');\n\n      setTimeout(() => {\n        buttonSaveIcon.classList.remove('button--success');\n        buttonSaveIcon.classList.replace('fa-check-circle', 'fa-save');\n      }, 1000);\n    }\n  }\n\n  setHandledInitSaveCustomDataEvent() {\n    document.addEventListener(\n      'initSaveCustomData',\n      this.handledInitSaveCustomDataEvent\n    );\n  }\n\n  setHandledEndSaveCustomDataEvent() {\n    document.addEventListener(\n      'endSaveCustomData',\n      this.handledEndSaveCustomDataEvent\n    );\n  }\n}\n\nnew General();\n","/* eslint-disable max-len */\n\nimport { Ensure, Logger } from '../common';\nimport HttpClient from './b8one.httpClient';\n\n/**\n * Cart Abstraction class\n */\nclass CartService {\n  /**\n   * Cart constructor\n   */\n  constructor() {\n    this._VTEX_API_ENDPOINT = '/api/checkout/pub/orderForm';\n\n    this._logger = new Logger('Cart service');\n    this._httpClient = new HttpClient();\n  }\n\n  /**\n   * Get current cart\n   * @return {*} Cart object\n   */\n  async getCurrent() {\n    return await this._httpClient.get(this._VTEX_API_ENDPOINT);\n  }\n\n  /**\n   * Add item to cart\n   * @param {*} skuId - Product sku Id (SKU)\n   * @param {*} productQuantity - Product Quantity\n   * @param {*} sellerId - Seller id\n   */\n  async add(skuId, productQuantity, sellerId = 1) {\n    // const payload = this._payloadFactory(skuId, productQuantity, sellerId);\n\n    if (!Ensure.isUndefined(skuId)) {\n      const current = await this.getCurrent();\n      const indexFound = current.items.findIndex(x => x.id === skuId);\n\n      if (indexFound > -1) {\n        productQuantity =\n          parseInt(productQuantity) +\n          parseInt(current.items[indexFound].quantity);\n      }\n\n      const endpointUrl = `${this._VTEX_API_ENDPOINT}/${current.orderFormId}/items`;\n\n      const payload = {\n        orderItems: [\n          {\n            seller: sellerId.toString(),\n            quantity: parseInt(productQuantity),\n            id: skuId.toString(),\n          },\n        ],\n      };\n\n      return this._httpClient.patch(endpointUrl, payload);\n    }\n  }\n\n  async checkoutCRUD(skus) {\n    let { items } = await window.vtexjs.checkout.getOrderForm();\n\n    const skusCustomProducts = this.getCustomProducts(skus);\n\n    skus = skus.filter(sku => !sku.isCustom);\n    skus = [...skus, ...skusCustomProducts];\n\n    const skuToIgnore = [19, 698, 25, 26];\n\n    const indexToRemove = items.reduce((indexList, item, index) => {\n      const customProductSKUs = [25, 26];\n\n      if (customProductSKUs.includes(parseInt(item.id))) {\n        return [...indexList, index];\n      }\n\n      return indexList;\n    }, []);\n\n    if (indexToRemove.length > 0) {\n      const response = await this.removeMoreProducts(indexToRemove);\n\n      response && (items = response.items);\n    }\n\n    const productsToAdd = skus\n      .filter(sku => sku.quantity > 0)\n      .filter(sku => {\n        let index = items.findIndex(\n          item => parseInt(item.productId) === parseInt(sku.productId)\n        );\n\n        return index === -1 && sku.quantity > 0;\n      })\n      .map(sku => ({\n        quantity: sku.quantity,\n        seller: 1,\n        id: sku.skuId || sku.id,\n      }));\n\n    console.log('productsToAdd', productsToAdd);\n\n    const productsToUpdate = skus\n      .filter(sku => sku.quantity > 0)\n      .filter(sku => {\n        const id = sku.skuId || sku.id;\n\n        let index = items.findIndex(item => parseInt(item.id) === parseInt(id));\n\n        if (index !== -1) {\n          const sameSku = parseInt(items[index].id) === parseInt(sku.id);\n          const diffQuantity =\n            parseInt(items[index].quantity) !== parseInt(sku.quantity);\n\n          return sameSku && diffQuantity && sku.quantity > 0;\n        }\n\n        return false;\n      })\n      .map(sku => {\n        const id = sku.skuId || sku.id;\n\n        let index = items.findIndex(item => parseInt(item.id) === parseInt(id));\n\n        return {\n          index,\n          quantity: sku.quantity,\n        };\n      });\n\n    console.log('productsToUpdate', productsToUpdate);\n\n    const productsToReplaceSKU = skus\n      .filter(\n        sku =>\n          sku.quantity > 0 &&\n          !skuToIgnore.includes(parseInt(sku.skuId || sku.id))\n      )\n      .filter(sku => {\n        const index = items.findIndex(\n          item => parseInt(item.productId) === parseInt(sku.productId)\n        );\n\n        if (index !== -1) {\n          const diffSku = parseInt(items[index].id) !== parseInt(sku.skuId);\n\n          return diffSku;\n        }\n\n        return false;\n      })\n      .map(sku => {\n        const index = items.findIndex(\n          item => parseInt(item.productId) === parseInt(sku.productId)\n        );\n\n        const oldSKU = {\n          index,\n          seller: 1,\n          quantity: 0,\n        };\n\n        const newSKU = {\n          seller: 1,\n          id: sku.skuId,\n          quantity: sku.quantity,\n        };\n\n        return [oldSKU, newSKU];\n      })\n      .reduce((itemsList, current) => {\n        const [oldSKU, newSKU] = current;\n\n        return [...itemsList, oldSKU, newSKU];\n      }, []);\n\n    console.log('productsToReplaceSKU', productsToReplaceSKU);\n\n    const productsToRemove = skus\n      .filter(sku => sku.quantity < 1)\n      .filter(sku => {\n        const id = sku.skuId || sku.id;\n\n        let index = items.findIndex(item => parseInt(item.id) === parseInt(id));\n\n        if (index !== -1) {\n          return sku.quantity == 0;\n        }\n\n        return false;\n      })\n      .map(sku => {\n        const id = sku.skuId || sku.id;\n\n        let index = items.findIndex(item => parseInt(item.id) === parseInt(id));\n\n        return {\n          index,\n          quantity: 0,\n        };\n      });\n\n    console.log('productsToRemove', productsToRemove);\n\n    if (productsToUpdate[0]) {\n      await window.vtexjs.checkout.updateItems(productsToUpdate, null, false);\n    }\n\n    if (productsToReplaceSKU[0]) {\n      await window.vtexjs.checkout.replaceSKU(productsToReplaceSKU);\n    }\n\n    if (productsToRemove[0]) {\n      await window.vtexjs.checkout.removeItems(productsToRemove);\n    }\n\n    if (productsToAdd[0]) {\n      await window.vtexjs.checkout.addToCart(productsToAdd, null);\n    }\n  }\n\n  getCustomProducts(skus) {\n    const customProducts = {};\n\n    skus\n      .filter(({ isCustom }) => isCustom === true)\n      .forEach(({ skuId, quantity, customProductItem }) => {\n        let currentCustomProduct = customProducts[skuId];\n\n        const customProductQuantity =\n          parseInt(customProductItem.quantity) * parseInt(quantity);\n\n        if (currentCustomProduct) {\n          const newQuantity =\n            parseInt(currentCustomProduct.quantity) + customProductQuantity;\n\n          currentCustomProduct = {\n            ...currentCustomProduct,\n            quantity: newQuantity,\n          };\n        } else {\n          currentCustomProduct = {\n            ...customProductItem,\n            quantity: customProductQuantity,\n            isCustom: true,\n          };\n        }\n\n        customProducts[skuId] = currentCustomProduct;\n      });\n\n    return Object.values(customProducts);\n  }\n\n  async getProductIndexInOrderForm(productId) {\n    const { items } = await this.getCurrent();\n\n    const index = items.findIndex(item => item.productId == productId);\n\n    if (index !== -1) return index;\n\n    return;\n  }\n\n  /**\n   * Remove item to cart\n   * @param {JSON} itemIndex - Product item index to be removed\n   */\n  async remove(itemIndex) {\n    const current = await this.getCurrent();\n    const endpointUrl = `${this._VTEX_API_ENDPOINT}/${current.orderFormId}/items`;\n    const payload = {\n      orderItems: [\n        {\n          index: itemIndex,\n          quantity: 0,\n        },\n      ],\n      expectedOrderFormSections: ['items'],\n      noSplitItem: true,\n    };\n\n    await this._httpClient.patch(endpointUrl, payload);\n  }\n\n  /**\n   * Remove items of cart\n   * @param {Array} itemsIndex - Products items index to be removed\n   */\n  async removeMoreProducts(itemsIndex) {\n    const current = await this.getCurrent();\n    const endpointUrl = `${this._VTEX_API_ENDPOINT}/${current.orderFormId}/items`;\n    const payload = {\n      orderItems: itemsIndex.map(index => ({\n        index,\n        quantity: 0,\n      })),\n      expectedOrderFormSections: ['items'],\n      noSplitItem: true,\n    };\n\n    return await this._httpClient.patch(endpointUrl, payload);\n  }\n\n  async updateProduct(skuId, quantity, seller = 1) {\n    const newSKU = {\n      seller,\n      quantity,\n      id: skuId,\n    };\n\n    return await this.updateProducts([newSKU]);\n  }\n\n  async updateProducts(skus) {\n    const { items, orderFormId } = await this.getCurrent();\n\n    skus = skus\n      .map(({ id, quantity, seller }) => {\n        const index = items.findIndex(\n          item => parseInt(item.id) === parseInt(id)\n        );\n\n        return {\n          id,\n          index,\n          quantity,\n          seller: seller || 1,\n        };\n      })\n      .filter(sku => sku.index !== -1);\n\n    if (skus.length > 0) {\n      const payload = {\n        orderItems: skus,\n      };\n\n      return await this._httpClient.patch(\n        `/api/checkout/pub/orderForm/${orderFormId}/items`,\n        payload\n      );\n    }\n  }\n\n  async simulateOrderForm(postalCode, country = 'BRA') {\n    try {\n      await vtexjs.checkout.getOrderForm();\n\n      const orderForm = await vtexjs.checkout.calculateShipping({\n        postalCode,\n        country,\n      });\n\n      return orderForm;\n    } catch (error) {\n      console.error('Error in simulateOrderForm', error);\n    }\n  }\n\n  async simulateShipping(items, postalCode, country = 'BRA') {\n    const orderFormSimulated = await vtexjs.checkout.simulateShipping(\n      items,\n      postalCode,\n      country\n    );\n\n    return orderFormSimulated;\n  }\n\n  async updateCheckoutTransporterSLA(logisticsInfo) {\n    await vtexjs.checkout.getOrderForm();\n\n    const { shippingData } = vtexjs.checkout.orderForm;\n\n    shippingData.logisticsInfo = logisticsInfo;\n\n    await vtexjs.checkout.sendAttachment('shippingData', shippingData);\n  }\n\n  async updateCheckoutAddress(address) {\n    console.log(address);\n    await vtexjs.checkout.getOrderForm();\n\n    const { shippingData } = vtexjs.checkout.orderForm;\n\n    shippingData.availableAddresses = [\n      {\n        ...shippingData.address,\n        ...address,\n      },\n    ];\n\n    shippingData.selectedAddresses = [\n      {\n        ...shippingData.address,\n        ...address,\n      },\n    ];\n\n    shippingData.address = {\n      ...shippingData.address,\n      ...address,\n    };\n\n    return await vtexjs.checkout.sendAttachment('shippingData', shippingData);\n  }\n\n  async setMultipleCustomDataFields(appName, fields) {\n    const { orderFormId } = await this.getCurrent();\n\n    const endpoint = `/api/checkout/pub/orderForm/${orderFormId}/customData/${appName}`;\n\n    try {\n      return await this._httpClient.put(endpoint, fields);\n    } catch (error) {\n      console.error('setMultipleCustomDataFields', error);\n    }\n\n    return;\n  }\n\n  async setSingleCustomDataField(appName, appFieldName, appFieldValue) {\n    const { orderFormId } = await this.getCurrent();\n\n    const endpoint = `/api/checkout/pub/orderForm/${orderFormId}/customData/${appName}/${appFieldName}`;\n\n    const payload = { value: appFieldValue };\n\n    try {\n      return await this._httpClient.put(endpoint, payload);\n    } catch (error) {\n      console.error('setSingleCustomDataField', error);\n    }\n\n    return;\n  }\n\n  async removeSingleCustomDataField(appName, appFieldName) {\n    const { orderFormId } = await this.getCurrent();\n\n    const endpoint = `/api/checkout/pub/orderForm/${orderFormId}/customData/${appName}/${appFieldName}`;\n\n    const payload = { value: null };\n\n    try {\n      return await this._httpClient.delete(endpoint, payload);\n    } catch (error) {\n      console.error('removeSingleCustomDataField', error);\n    }\n\n    return;\n  }\n\n  /**\n   * Cart's payload method factory\n   * @param {*} skuId - Product Id (SKU)\n   * @param {*} productQuantity - Product Quantity\n   * @param {*} sellerId - Seller id\n   * @return {JSON} cart paylod\n   */\n  _payloadFactory(skuId, productQuantity, sellerId = 1) {\n    return {\n      id: skuId,\n      quantity: productQuantity,\n      seller: sellerId,\n    };\n  }\n}\n\nexport default CartService;\n","import fetch from 'unfetch';\nimport { Ensure, Logger } from '../common';\n\n/**\n * HttpClient Abstraction class\n */\nclass HttpClient {\n  /**\n   * HttpClient constructor\n   */\n  constructor() {\n    this._logger = new Logger('httpClient');\n  }\n\n  /**\n   * Get\n   * @param {String} endpointUrl\n   * @return {Promise}\n   */\n  get(endpointUrl) {\n    if (!Ensure.isUndefined(endpointUrl)) {\n      return this._execute(endpointUrl, 'GET');\n    }\n  }\n\n  /**\n   * Delete\n   * @param {String} endpointUrl\n   * @return {Promise}\n   */\n  delete(endpointUrl) {\n    if (!Ensure.isUndefined(endpointUrl)) {\n      return this._execute(endpointUrl, 'DELETE');\n    }\n  }\n\n  /**\n   *\n   * @param {String} endpointUrl\n   * @param {JSON} payload\n   * @return {Promise}\n   */\n  post(endpointUrl, payload = {}) {\n    if (!Ensure.isUndefined(endpointUrl)) {\n      return this._execute(endpointUrl, 'POST', payload);\n    }\n  }\n\n  /**\n   *\n   * @param {String} endpointUrl\n   * @param {JSON} payload\n   * @return {Promise}\n   */\n  put(endpointUrl, payload) {\n    if (!Ensure.isUndefined(endpointUrl) && !Ensure.isUndefined(payload)) {\n      return this._execute(endpointUrl, 'PUT', payload);\n    }\n  }\n\n  /**\n   *\n   * @param {String} endpointUrl\n   * @param {JSON} payload\n   * @return {Promise}\n   */\n  patch(endpointUrl, payload) {\n    if (!Ensure.isUndefined(endpointUrl) && !Ensure.isUndefined(payload)) {\n      return this._execute(endpointUrl, 'PATCH', payload);\n    }\n  }\n\n  /**\n   * @param {String} endpointUrl\n   * @param {String} httpVerb\n   * @param {Object} payload\n   * @return {Promise}\n   */\n  _execute(endpointUrl, httpVerb, payload) {\n    let header = {\n      method: httpVerb,\n      headers: {\n        // 'Accept': 'application/vnd.vtex.ds.v10+json',\n        // 'Content-Type': 'application/json',\n        accept: 'application/vnd.vtex.masterdata.v10+json',\n        'content-type': 'application/json; charset=utf-8',\n      },\n    };\n\n    if (payload) {\n      header['body'] = JSON.stringify(payload);\n    }\n\n    return fetch(endpointUrl, header)\n      .then(this.validateResponse)\n      .then(this.parseResponseToJson)\n      .then(data => {\n        return data;\n      })\n      .catch(error => {\n        this._logger.log('Request succeeded with JSON response', error);\n        return error;\n      });\n  }\n\n  /**\n   * Parse response data to json object\n   * @param {*} response - Request response\n   * @return {JSON} json data\n   */\n  async parseResponseToJson(response) {\n    if (!response.ok) {\n      return response;\n    }\n\n    return await response.json();\n  }\n\n  /**\n   * Response validation\n   * @param {*} response\n   * @return {Promise} promise result\n   */\n  validateResponse(response) {\n    if (response.ok) {\n      return Promise.resolve(response);\n    } else {\n      return Promise.reject(new Error(response.statusText));\n    }\n  }\n}\n\nexport default HttpClient;\n"],"sourceRoot":""}