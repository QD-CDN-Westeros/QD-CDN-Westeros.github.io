(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{20:function(e,t,r){r("kswJ"),e.exports=r("B5w8")},"8/Qm":function(e,t,r){"use strict";r("ma9I"),r("07d7"),r("5s+n"),r("ls82");var s=r("x9ji");function c(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function u(s){return function(){var e=this,i=arguments;return new Promise(function(t,r){var n=s.apply(e,i);function a(e){c(n,t,r,a,o,"next",e)}function o(e){c(n,t,r,a,o,"throw",e)}a(void 0)})}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);this.entityCode_=e,this.httpClient_=new s.a,this._VTEX_MASTERDATA_ENDPOINT="/api/dataentities/".concat(e)}var e,r,n,a,o,i;return e=t,(r=[{key:"add",value:function(e){var t="".concat(this._VTEX_MASTERDATA_ENDPOINT,"/documents");return this.httpClient_.put(t,e).then(function(e){return e},function(e){return e})}},{key:"update",value:function(e){var t="".concat(this._VTEX_MASTERDATA_ENDPOINT,"/documents");return this.httpClient_.patch(t,e).then(function(e){return e},function(e){return e})}},{key:"search",value:function(e){e="".concat(this._VTEX_MASTERDATA_ENDPOINT,"/search?").concat(e);return this.httpClient_.get(e).then(function(e){return e})}},{key:"getByDocumentId",value:(i=u(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(this._VTEX_MASTERDATA_ENDPOINT,"/documents/").concat(t),e.next=3,this.httpClient_.get(r);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"getByDocumentIdWithFields",value:(o=u(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this._VTEX_MASTERDATA_ENDPOINT,"/documents/").concat(t,"?_fields=").concat(r),e.next=3,this.httpClient_.get(n);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)})),function(e,t){return o.apply(this,arguments)})},{key:"delete",value:function(e){e="".concat(this._VTEX_MASTERDATA_ENDPOINT,"/documents/").concat(e);return this.httpClient_.delete(e).then(function(e){return e})}},{key:"getAttachmentUrl",value:function(e,t,r){e=0<arguments.length&&void 0!==e?e:"",t=1<arguments.length&&void 0!==t?t:"",r=2<arguments.length&&void 0!==r?r:"";return"".concat(this._VTEX_MASTERDATA_ENDPOINT,"/documents/").concat(e,"/").concat(t,"/attachments/").concat(r)}},{key:"getAttachment",value:(a=u(regeneratorRuntime.mark(function e(){var t,r,n,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<a.length&&void 0!==a[0]?a[0]:"",r=1<a.length&&void 0!==a[1]?a[1]:"",n=2<a.length&&void 0!==a[2]?a[2]:"",n=this.getAttachmentUrl(t,r,n),e.next=6,this.httpClient_.get(n);case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})}])&&l(e.prototype,r),n&&l(e,n),t}();t.a=r},"80eB":function(e,t,r){"use strict";r.d(t,"a",function(){return n});var t=r("ma9I"),t=r("07d7"),t=r("5s+n"),t=r("ls82"),i=r("x9ji");function c(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function s(s){return function(){var e=this,i=arguments;return new Promise(function(t,r){var n=s.apply(e,i);function a(e){c(n,t,r,a,o,"next",e)}function o(e){c(n,t,r,a,o,"throw",e)}a(void 0)})}}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.httpClient=new i.a}var t,r,n,a,o;return t=e,(r=[{key:"getALLHUBS",value:(o=s(regeneratorRuntime.mark(function e(){var t,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<r.length&&void 0!==r[0]?r[0]:["id","initialZipcode","finalZipcode"],e.prev=1,t="/api/dataentities/HB/search?_fields=".concat(t,"&_where=active=true"),e.abrupt("return",this.httpClient.get(t));case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:case"end":return e.stop()}},e,this,[[1,6]])})),function(){return o.apply(this,arguments)})},{key:"getTransportersByHUB",value:(a=s(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="(status=true AND idHUB=".concat(t,")"),n="/api/dataentities/TR/search?_fields=".concat(r,"&_where=").concat(n,"&v=123"),e.abrupt("return",this.httpClient.get(n));case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}},e,this,[[0,6]])})),function(e,t){return a.apply(this,arguments)})}])&&u(t.prototype,r),n&&u(t,n),e}()},B5w8:function(e,t){},DCbZ:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.d(t,"a",function(){return a});var a=function(){function a(e){var t=e.accordion,r=e.accordionHeader,n=e.openAccordionCallback,e=e.closeAccordionCallback;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.isOpen=!1,this.openCallback=n||new Function,this.closeCallback=e||new Function,this.accordion=t instanceof Element?t:document.querySelector(t),this.accordionHeader=r instanceof Element?r:document.querySelector(r),this.setHandleClick()}var e,t,r;return e=a,(t=[{key:"setHandleClick",value:function(){var e=this;this.accordionHeader.addEventListener("click",function(){e.isOpen?e.closeCallback(e):e.openCallback(e),e.isOpen=!e.isOpen})}}])&&n(e.prototype,t),r&&n(e,r),a}()},JbUL:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.d(t,"a",function(){return a});var a=function(){function a(e){var t=e.modal,r=e.modalShowCLass,n=e.openModalCallback,e=e.closeModalCallback;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.isOpen=!1,this.modalShowCLass=r||"show",this.openCallback=n||new Function,this.closeCallback=e||new Function,this.modal=t instanceof Element?t:document.querySelector(t)}var e,t,r;return e=a,(t=[{key:"show",value:function(){this.isOpen||this.modal.classList.add(this.modalShowCLass),this.isOpen=!0,this.openCallback(this)}},{key:"close",value:function(){this.isOpen&&this.modal.classList.remove(this.modalShowCLass),this.isOpen=!1,this.closeCallback(this)}}])&&n(e.prototype,t),r&&n(e,r),a}()},RDzO:function(e,t,r){"use strict";var n=r("pNMO"),n=r("4Brf"),n=r("0oug"),n=r("QWBl"),n=r("pjDv"),n=r("4mDm"),n=r("+2oP"),n=r("sMBO"),n=r("07d7"),n=r("JfAA"),n=r("PKPk"),n=r("FZtP"),n=r("3bBZ");function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"isUndefined",value:function(e){e=0<arguments.length&&void 0!==e?e:void 0;return null==e||""===e||e==={}||e===[]}},{key:"isInputValid",value:function(e){return!this.isUndefined(e)&&e.checkValidity()}},{key:"hasProps",value:function(e,t){return this.getMissingProps(e,t).length<=0}},{key:"getMissingProps",value:function(t,e){var r=[];return a(e).forEach(function(e){e in t||r.push(e)}),r}}],(r=null)&&i(t.prototype,r),n&&i(t,n),e}();t.a=n},bJim:function(e,t,r){"use strict";r.d(t,"a",function(){return i});t=r("pNMO"),t=r("4Brf"),t=r("0oug"),t=r("QWBl"),t=r("pjDv"),t=r("yq1k"),t=r("4mDm"),t=r("+2oP"),t=r("sMBO"),t=r("07d7"),t=r("JfAA"),t=r("JTJg"),t=r("PKPk"),t=r("SYor"),t=r("FZtP"),t=r("3bBZ");function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function c(e){var t=e.selectElement,r=e.customSelectList,n=e.customSelectSelected,a=e.customSelectListItemClassName,o=e.customSelectListItemClassNameActive,i=e.selectChangeCallback,s=e.selectOpenCallback,e=e.selectCloseCallback;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),this.isOpen=!1,this.selectElement=t instanceof Element?t:document.querySelector(t),this.customSelectList=r instanceof Element?r:document.querySelector(r),this.customSelectSelected=n instanceof Element?n:document.querySelector(n),this.selectChangeCallback=i||new Function,this.selectOpenCallback=s||new Function,this.selectCloseCallback=e||new Function,this.customSelectListItemClassName=a||"",this.customSelectListItemClassNameActive=o||"",this.setCurrentSelectedItem(),this.createSelectList(),this.setListenerForCurrentSelected()}var e,t,r;return e=c,(t=[{key:"setCurrentSelectedItem",value:function(){var e=this.selectElement,t=e.options,e=e.selectedIndex;this.customSelectSelected.textContent=t[e].textContent}},{key:"handleSelectChange",value:function(e){var t=this.selectElement.value,r=e.dataset.value,n=this.customSelectList.querySelector(".".concat(this.customSelectListItemClassNameActive));n&&n.classList.remove(this.customSelectListItemClassNameActive),e.classList.add(this.customSelectListItemClassNameActive),this.close(),t!==r&&this.changeOption(r)}},{key:"createSelectList",value:function(){var r=this;n(this.selectElement).forEach(function(e){var t=document.createElement("li");t.setAttribute("class",r.customSelectListItemClassName),t.dataset.value=e.value,t.textContent=e.textContent.trim(),t.addEventListener("click",function(e){e=e.target;return r.handleSelectChange(e)}),r.customSelectList.append(t)})}},{key:"setListenerForCurrentSelected",value:function(){var t=this;this.customSelectSelected.addEventListener("click",function(){t.open(),document.body.addEventListener("click",function(e){e.target.className.includes("custom-select")||t.close()})})}},{key:"open",value:function(e){e=0<arguments.length&&void 0!==e?e:null;this.isOpen=!0,this.selectOpenCallback(e),this.customSelectList.classList.add("open")}},{key:"close",value:function(){this.isOpen=!1,this.selectCloseCallback(),this.customSelectList.classList.remove("open")}},{key:"changeOption",value:function(e){this.selectElement.value=e;var t=new Event("change",{bubbles:!0});this.selectElement.dispatchEvent(t),this.setCurrentSelectedItem(),this.selectChangeCallback({value:e})}}])&&o(e.prototype,t),r&&o(e,r),c}()},jmbs:function(e,t,r){"use strict";r.d(t,"a",function(){return n.a}),r.d(t,"b",function(){return o}),r.d(t,"c",function(){return s});var n=r("RDzO");r("ma9I"),r("TeQF"),r("yq1k"),r("oVuX"),r("sMBO"),r("toAj"),r("07d7"),r("TWNs"),r("rB9j"),r("JfAA"),r("JTJg"),r("UxlC"),r("EnZy");function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._logger=new s("Ensure"),this.props=e||{language:navigator.language||navigator.userLanguage,currency:"BRL",currencyLocale:"pt-br",minimumFractionDigits:2}}var e,r,n;return e=t,n=[{key:"getParents",value:function(e,t){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),r=t.length;0<=--r&&t.item(r)!==this;);return-1<r});for(var r=[];e&&e!==document;e=e.parentNode)(!t||e.matches(t))&&r.push(e);return r}},{key:"serializeForm",value:function(e){for(var t=[],r=0;r<e.elements.length;r++){var n=e.elements[r];if(n.name&&!n.disabled&&"file"!==n.type&&"reset"!==n.type&&"submit"!==n.type&&"button"!==n.type)if("select-multiple"===n.type)for(var a=0;a<n.options.length;a++)n.options[a].selected&&t.push(encodeURIComponent(n.name)+"="+encodeURIComponent(n.options[a].value));else("checkbox"!==n.type&&"radio"!==n.type||n.checked)&&t.push(encodeURIComponent(n.name)+"="+encodeURIComponent(n.value))}return t.join("&")}},{key:"getFormData",value:function(e){for(var t={},r=0;r<e.elements.length;r++){var n=e.elements[r];if(n.name&&!n.disabled&&"file"!==n.type&&"reset"!==n.type&&"submit"!==n.type&&"button"!==n.type)if("select-multiple"===n.type)for(var a=0;a<n.options.length;a++)n.options[a].selected&&(t[n.name]=n.options[a].value);else("checkbox"!==n.type&&"radio"!==n.type||n.checked)&&(t[n.name]=n.value)}return t}},{key:"getRandomID",value:function(){return"_"+Math.random().toString(36).substr(2,9)}},{key:"setCookie",value:function(e,t,r){var n=new Date;n.setTime(n.getTime()+24*r*60*60*1e3);n="expires="+n.toUTCString();document.cookie="".concat(e,"=").concat(t,";").concat(n,";path=/")}},{key:"getCookie",value:function(t){return decodeURIComponent(document.cookie).split(";").filter(function(e){return e.includes(t)})[0]||""}},{key:"isInViewport",value:function(e){var t=window.innerHeight||document.documentElement.clientHeight,r=window.innerWidth||document.documentElement.clientWidth,n=e.getBoundingClientRect(),a=n.top,o=n.right,e=n.bottom,n=n.left;return 0<=a&&0<=n&&e<=t&&o<=r}},{key:"removeAccents",value:function(e){var t,r={a:"á|à|ã|â|À|Á|Ã|Â",e:"é|è|ê|É|È|Ê",i:"í|ì|î|Í|Ì|Î",o:"ó|ò|ô|õ|Ó|Ò|Ô|Õ",u:"ú|ù|û|ü|Ú|Ù|Û|Ü",c:"ç|Ç",n:"ñ|Ñ"};for(t in r)e=e.replace(new RegExp(r[t],"g"),t);return e}}],(r=[{key:"formatPrice",value:function(e){return e=(+(e/=100)).toFixed(Math.max(0,~~this.props.minimumFractionDigits)),new Intl.NumberFormat(this.props.currencyLocale,{style:"currency",currency:this.props.currency,minimumFractionDigits:this.props.minimumFractionDigits}).format(e)}}])&&a(e.prototype,r),n&&a(e,n),t}();function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"B8ONE Logger Component";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.logName=e}var e,r,n;return e=t,(r=[{key:"error",value:function(e,t){e=0<arguments.length&&void 0!==e?e:"",t=1<arguments.length&&void 0!==t?t:{};console.error(e,t)}},{key:"info",value:function(e){e=0<arguments.length&&void 0!==e?e:"";console.info(e)}},{key:"warning",value:function(e){e=0<arguments.length&&void 0!==e?e:"";console.warn(this.logName,e)}},{key:"log",value:function(e){e=0<arguments.length&&void 0!==e?e:"";console.log(e)}},{key:"log",value:function(e,t){e=0<arguments.length&&void 0!==e?e:"",t=1<arguments.length&&void 0!==t?t:{};console.log(e,t)}}])&&i(e.prototype,r),n&&i(e,n),t}()},kswJ:function(e,t,r){"use strict";r.r(t);var t=r("pNMO"),t=r("4Brf"),t=r("0oug"),t=r("ma9I"),t=r("TeQF"),t=r("fbCW"),t=r("x0AG"),t=r("QWBl"),t=r("pjDv"),t=r("yq1k"),t=r("4mDm"),t=r("oVuX"),t=r("2B1R"),t=r("E9XD"),t=r("+2oP"),t=r("ToJy"),t=r("sMBO"),t=r("5DmW"),t=r("27RR"),t=r("tkto"),t=r("07d7"),t=r("5s+n"),t=r("rB9j"),t=r("JfAA"),t=r("YGK4"),t=r("JTJg"),t=r("PKPk"),t=r("UxlC"),t=r("EnZy"),t=r("FZtP"),t=r("3bBZ"),t=r("ls82"),h=r("jmbs"),m=r("JbUL"),v=r("bJim"),y=r("DCbZ"),g=r("8/Qm"),b=r("rdEv"),k=r("80eB");function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function C(n){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach(function(e){var t,r;t=n,e=a[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))})}return n}function S(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function _(s){return function(){var e=this,i=arguments;return new Promise(function(t,r){var n=s.apply(e,i);function a(e){c(n,t,r,a,o,"next",e)}function o(e){c(n,t,r,a,o,"throw",e)}a(void 0)})}}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modalCompare=null,this.addressCep=null,this.transporterSelected=null,this.transporters=[],this.logisticsInfo=[],this.filters=new Set,this.compareTransportersList=new Set,this.masterdataRepository=new g.a("TR"),this.cartService=new b.a,this.helper=new h.b,this.totalizers=[],this.orderForm={},this.hubID=null,this.transporterService=new k.a,(window.TransporterPage=this).init()}var t,r,n,a,o,i,s,c,u,l,p,d,f;return t=e,(r=[{key:"init",value:(f=_(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.initModalCompare(),this.initFilterAccordions(),this.setHandledButtonFilterClick(),this.setHandledButtonCloseFilterClick(),e.next=6,this.cartService.getCurrent();case 6:return this.orderForm=e.sent,e.next=9,this.setAddressCep();case 9:return this.setHubID(),e.next=12,this.fetchTransporters();case 12:return this.transporters=e.sent,e.next=15,Promise.all([this.getDeliveryTypes(),this.setLogoUrlInTransportes()]);case 15:this.orderTransportersByLessPrice(),this.addTransportersToDOM(),this.setHandledFiltersChange(),this.handledCompareButtonFooterClick(),this.setHandledScheduleChangeButtonsClick(),this.setHandledButtonSaveClick();case 21:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"initModalCompare",value:function(){var t=this;this.modalCompare=new m.a({modal:".modal-compare",modalShowCLass:"wrapper-modal--show"}),document.querySelector(".modal-compare .modal__close").addEventListener("click",function(e){t.modalCompare.close()})}},{key:"initFilterAccordions",value:function(){S(document.querySelectorAll(".js-accordion-filter")).forEach(function(e){var t=e.querySelector(".filter__header");new y.a({accordion:e,accordionHeader:t,openAccordionCallback:function(){e.classList.add("filter--show")},closeAccordionCallback:function(e){e.accordion.classList.remove("filter--show")}}).isOpen=!0})}},{key:"setHandledButtonFilterClick",value:function(){var e=document.querySelector("#button-filter"),t=document.querySelector(".compare-transporter__filters");e.addEventListener("click",function(e){t.classList.add("compare-transporter__filters--show")})}},{key:"setHandledButtonCloseFilterClick",value:function(){var t=document.querySelector(".compare-transporter__filters");t.querySelector(".modal__close").addEventListener("click",function(e){t.classList.remove("compare-transporter__filters--show")})}},{key:"setHandledFiltersChange",value:function(){var r=this;S(document.querySelectorAll(".filter__item")).forEach(function(t){return t.addEventListener("change",function(e){return r.handledFilterChange(e,t)})})}},{key:"setHandledsToTransporterElement",value:function(){var a=this;S(document.querySelectorAll(".compare-transporter__list .transporter")).forEach(function(n){var t=n.getAttribute("id"),r=n.querySelector(".transporter__compare-button");r.addEventListener("click",function(e){a.handledTransporterCompareButtonClick(r,t)}),S(n.querySelectorAll(".price")).forEach(function(r){r.addEventListener("change",function(e){var t=document.querySelector(".price--active");t&&(t.classList.remove("price--active"),t.querySelector('input[type="checkbox"]').checked=!1),r.classList.add("price--active"),r.querySelector('input[type="checkbox"]').checked=!0;t=r.dataset.transporterDeliveryType;n.setAttribute("data-transporter-delivery-type-selected",t)})})})}},{key:"setHandledScheduleChangeButtonsClick",value:function(){var r=this;S(document.querySelectorAll(".js-button-schedule-change")).forEach(function(t){t.addEventListener("click",function(e){return r.handledScheduleChangeButtonClick(t)})})}},{key:"setHandledButtonSaveClick",value:function(){var e=this;document.querySelector(".fa-save").addEventListener("click",function(){return e.handledButtonSaveClick()})}},{key:"handledFilterChange",value:function(e,t){var n=this,e=e.target,t=t.dataset.filter;e.checked?this.filters.add(t):this.filters.delete(t),this.transporters.forEach(function(t){var e=document.querySelector('[id="'.concat(t.id,'"]')),r=S(n.filters).map(function(e){return!!t[e]});e&&(r.includes(!1)?e.classList.add("hide"):e.classList.remove("hide"))})}},{key:"handledTransporterCompareButtonClick",value:function(e,t){e.classList.toggle("transporter__compare-button--active"),e.classList.contains("transporter__compare-button--active")?this.compareTransportersList.add(t):this.compareTransportersList.delete(t),this.updateTransporterFooter()}},{key:"handledCompareButtonFooterClick",value:function(){var n=this;document.querySelector(".compare-transporter__footer .button").addEventListener("click",function(e){var t=S(n.compareTransportersList).map(function(e){return n.createCompareTableColumn(e)}).join(""),r=document.querySelector(".modal-compare .compare__table");r.innerHTML=r.children[0].outerHTML,r.innerHTML+=t,n.setHandledScheduleChangeButtonsClick(),n.createTransportersCustomSelects(),n.modalCompare.show()})}},{key:"handledScheduleChangeButtonClick",value:(d=_(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=h.b.getParents(t,".transporter")[0]).dataset.transporterDeliveryTypeSelected){e.next=3;break}return e.abrupt("return");case 3:return this.setTransporterSelected(r),e.next=6,this.saveData();case 6:this.transporterSelected&&window.location.assign("/endereco");case 7:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})},{key:"handledButtonSaveClick",value:(p=_(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.querySelector(".price--active"))return t=h.b.getParents(t,".transporter")[0],this.setTransporterSelected(t),document.dispatchEvent(window.initSaveCustomDataEvent),e.next=7,this.saveData();e.next=8;break;case 7:document.dispatchEvent(window.endSaveCustomDataEvent);case 8:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"createTransportersCustomSelects",value:function(){S(document.querySelectorAll(".transporter__select-custom")).forEach(function(e){var t=e.querySelector(".select__native"),r=e.querySelector(".select__custom"),n=e.querySelector(".select__list"),a=e.querySelector(".select__custom-selected"),o=h.b.getParents(e,".transporter")[0];new v.a({selectElement:t,customSelectList:n,customSelectSelected:a,customSelectListItemClassName:"",customSelectListItemClassNameActive:"active",selectOpenCallback:function(){var e=n.offsetHeight;r.classList.add("select__custom--open"),r.style.maxHeight="".concat(e,"px")},selectCloseCallback:function(){r.classList.remove("select__custom--open"),r.style.maxHeight=0},selectChangeCallback:function(e){e=e.value;o.setAttribute("data-transporter-delivery-type-selected",e)}})})}},{key:"createCompareTableColumn",value:function(t){var e=this.transporters.filter(function(e){return e.id===t})[0],r=(e.id,e.nome,e.logoURL,e.armazenagem,e.tempoMercado,e.certificacao,e.deliveryTypes);e.equipeFeminina,r.filter(function(e){return"Compartilhado"===e.type})[0],r.filter(function(e){return"Exclusivo"===e.type})[0];return'\n      <div class="price" data-transporter-delivery-type="'.concat(item.type,'">\n        <div class="price__row">\n          <div class="price__container price__container--flex">\n            <label for="').concat(item.id,'">\n              <div class="checkbox">\n                <input\n                  type="checkbox"\n                  id="').concat(item.id,'"\n                />\n              </div>\n            </label>\n          </div>\n\n          <div class="price__container price__container--right">\n            <span class="price__total">R$ <span>').concat(StrongPrice,"</span>").concat(decimals,"</span>\n          </div>\n        </div>\n\n        ").concat("Compartilhado"===item.type?'\n          <p class="price__paragraph price__paragraph--text-orange">\n            * Prazo de entrega: em até 45 dias da data da embalagem.\n          </p>\n        ':"","\n      </div>\n    ")}},{key:"createTransporterPriceElement",value:function(e){var t=e.priceFormatted,r=t.substring(0,t.length-3).replace("R$ ",""),t=t.replace("R$ ".concat(r),"");return'\n      <div class="price" data-transporter-delivery-type="'.concat(e.type,'">\n        <div class="price__row">\n          <div class="price__container price__container--flex">\n            <label for="').concat(e.id,'">\n              <div class="checkbox">\n                <input\n                  type="checkbox"\n                  id="').concat(e.id,'"\n                />\n              </div>\n            </label>\n          </div>\n\n          <div class="price__container price__container--right">\n            <span class="price__total">R$ <span>').concat(r,"</span>").concat(t,"</span>\n          </div>\n        </div>\n\n        ").concat("Compartilhado"===e.type?'\n          <p class="price__paragraph price__paragraph--text-orange">\n            * Prazo de entrega: em até 45 dias da data da embalagem.\n          </p>\n        ':"","\n      </div>\n    ")}},{key:"createTransporterElement",value:function(e){var t=this,r=e.id,n=e.nome,a=(e.logoURL,e.features),o=e.descricao,i=e.deliveryTypes;if(!i)return"";o.length;i=i.map(function(e){return t.createTransporterPriceElement(e)}).join("");return'\n      <li\n        class="transporter"\n        id="'.concat(r,'"\n        data-transporter-id="').concat(r,'"\n        data-transporter-name="').concat(e.deliveryTypes[0].slaName,'"\n        data-transporter-delivery-type-selected="Exclusivo"\n      >\n        <div class="transporter__details" transporter-name="').concat(n,'">\n          <div class="transporter__row">\n            <h3 class="transporter__name">').concat(n,'</h3>\n          </div>\n\n          <div class="transporter__description">\n            <p class="description__paragraph">\n              ').concat(o,'\n            </p>\n            <p class="description__price">\n              ').concat(i,"\n            </p>\n\n            ").concat("",'\n          </div>\n\n          <div class="transporter__row">\n            <strong>Serviços inclusos:</strong>\n            <ul class="transporter__benefits">\n              ').concat(a.split(";").map(function(e){return'\n                    <li class="benefit">\n                      <i class="far fa-check benefit__icon"></i>\n\n                      <p class="benefit__text">\n                        '.concat(e,"\n                      </p>\n                    </li>\n                  ")}).join(""),'\n            </ul>\n          </div>\n        </div>\n\n        <div class="transporter__prices">\n          <hr/>\n          <button class="button button--primary js-button-schedule-change">\n            AGENDAR\n          </button>\n        </div>\n      </li>\n    ')}},{key:"fetchTransporters",value:(l=_(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=1,this.hubID)return e.next=5,this.transporterService.getTransportersByHUB(this.hubID,"armazenagem,certificacao,courierIds,descricao,equipeFeminina,features,frota,logo,nome,status,tempoMercado,id,tipoEmbalabem");e.next=6;break;case 5:return e.abrupt("return",e.sent);case 6:throw new Error("The hubID is undefined");case 9:e.prev=9,e.t0=e.catch(1),window.bugsnagClient.notify(new Error(e.t0));case 12:case"end":return e.stop()}},e,this,[[1,9]])})),function(){return l.apply(this,arguments)})},{key:"fetchTransporterLogoURL",value:(u=_(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.masterdataRepository.getAttachmentUrl(t,"logo",r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return u.apply(this,arguments)})},{key:"updateTransporterFooter",value:function(){var e=document.querySelector(".compare-transporter__footer"),t=e.querySelector(".footer__paragraph"),r=e.querySelector(".button");0<this.compareTransportersList.size?e.classList.add("compare-transporter__footer--show"):e.classList.remove("compare-transporter__footer--show"),this.compareTransportersList.size<2?(t.innerHTML='\n      Selecione <span class="footer__paragraph--orange">2 ou mais empresas de mudança </span>para comparar\n    ',r.classList.add("button--disabled")):(t.innerHTML='\n      Você selecionou <span class="footer__paragraph--orange">'.concat(this.compareTransportersList.size," empresas de mudança</span>\n    "),r.classList.remove("button--disabled"))}},{key:"setTransporterSelected",value:function(e){var e=e.dataset,t=e.transporterId,e=(e.transporterDeliveryTypeSelected,this.transporters.findIndex(function(e){return e.id===t}));this.transporterSelected=this.transporters[e],this.transporterSelected.deliveryTypeSelected=this.transporters[e].deliveryTypes[0]}},{key:"updateSelectedSLA",value:function(){var t="Exclusivo".slaName;this.logisticsInfo=this.logisticsInfo.map(function(e){return C(C({},e),{},{selectedSla:t})})}},{key:"saveData",value:(c=_(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.updateSelectedSLA(),e.next=4,Promise.all([this.cartService.updateCheckoutTransporterSLA(this.logisticsInfo),this.cartService.setSingleCustomDataField("selectedcourier","courier_data",JSON.stringify(this.transporterSelected)),this.cartService.setSingleCustomDataField("orderinfo","current_step","transporter")]);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("saveData",e.t0);case 9:case"end":return e.stop()}},e,this,[[0,6]])})),function(){return c.apply(this,arguments)})},{key:"setLogoUrlInTransportes",value:(s=_(regeneratorRuntime.mark(function e(){var a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.transporters.map(function(){var t=_(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,n=t.logo,e.next=3,a.fetchTransporterLogoURL(r,n);case 3:return n=e.sent,t.logoURL=n,e.abrupt("return",t);case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()));case 2:this.transporters=e.sent;case 3:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"getTransporterVariations",value:function(e){var n={};return e.forEach(function(e){e.slas.forEach(function(e){var t=e.id,r=e.price,e=e.name,t=t.toLowerCase().replace(/\s/g,"");n[t]?n[t].price+=r:n[t]={price:r,name:e}})}),n}},{key:"setAddressCep",value:(i=_(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cartService.getCurrent();case 2:if(t=e.sent,t=t.customData){e.next=6;break}return e.abrupt("return");case 6:t.customApps.filter(function(e){return"orderinfo"===e.id}).forEach(function(e){e=e.fields.to_address_zipcode;r.addressCep=e});case 7:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"setHubID",value:function(){var e=null===(e=this.orderForm.customData)||void 0===e?void 0:e.customApps.find(function(e){return"orderinfo"===e.id});e&&(e=e.fields.hubID,this.hubID=e)}},{key:"setTotalizers",value:function(e){this.totalizers=e}},{key:"getLogisticsInfo",value:(o=_(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cartService.simulateOrderForm(this.addressCep);case 2:r=e.sent,t=r.shippingData,r=r.totalizers,this.setTotalizers(r),this.logisticsInfo=t.logisticsInfo;case 7:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"getDeliveryTypes",value:(a=_(regeneratorRuntime.mark(function e(){var s,c,u,l=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getLogisticsInfo();case 2:s=this.orderForm.items.filter(function(e){e=e.id;return 35===parseInt(e)})[0],c=this.getTransporterVariations(this.logisticsInfo),u=this.totalizers.filter(function(e){return"Shipping"!==e.id}).reduce(function(e,t){return e+t.value},0),this.logisticsInfo[0].slas.map(function(e){var t=e.deliveryIds[0].courierId,r=l.transporters.findIndex(function(e){return e.courierIds.split(";").includes(t)});return e.transporterIndex=r,e}).filter(function(e){return-1!==e.transporterIndex}).forEach(function(e){var t=e.id,r=e.name,n=e.deliveryIds,a=e.transporterIndex,o=t.toLowerCase().replace(/\s/g,""),i=w(t.split(" - "),2),e=(i[0],i[1]),t=e.toLowerCase(),i=n[0].courierId,n=c[o].price;n+=s?u+-s.manualPrice:u;o=l.helper.formatPrice(n),a=l.transporters[a],r=[{price:n,priceFormatted:o,id:i,type:e,slaName:r}];a.deliveryTypes?a.deliveryTypes=[].concat(r,S(a.deliveryTypes)):a.deliveryTypes=r,a[t]=!0}),this.removeTransportersWithoutDeliveryType(),this.orderDeliveryTypesByLessPrice();case 8:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"removeTransportersWithoutDeliveryType",value:function(){this.transporters=this.transporters.filter(function(e){return e.hasOwnProperty("deliveryTypes")})}},{key:"orderDeliveryTypesByLessPrice",value:function(){this.transporters=this.transporters.map(function(e){return e.deliveryTypes.sort(function(e,t){return e.price-t.price}),e})}},{key:"orderTransportersByLessPrice",value:function(){this.transporters.sort(function(e,t){return e.deliveryTypes[0].price-t.deliveryTypes[0].price})}},{key:"addTransportersToDOM",value:function(){var t=this,e=document.querySelector(".compare-transporter__list"),r=this.transporters.map(function(e){return t.createTransporterElement(e)});0<r.length?(e.classList.remove("empty-list"),e.innerHTML=r.join("")):(e.classList.add("empty-list"),e.innerHTML='<li class="empty-text">Não encontramos nenhum resultado para os filtros selecionados.</li>')}}])&&x(t.prototype,r),n&&x(t,n),e}();document.addEventListener("DOMContentLoaded",function(){new i})},rdEv:function(e,t,r){"use strict";r("pNMO"),r("4Brf"),r("0oug"),r("ma9I"),r("TeQF"),r("x0AG"),r("QWBl"),r("pjDv"),r("yq1k"),r("4mDm"),r("2B1R"),r("E9XD"),r("+2oP"),r("sMBO"),r("5DmW"),r("27RR"),r("tkto"),r("07d7"),r("B6y2"),r("5s+n"),r("JfAA"),r("JTJg"),r("PKPk"),r("FZtP"),r("3bBZ"),r("ls82");var b=r("jmbs"),k=r("x9ji");function o(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function w(n){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach(function(e){var t,r;t=n,e=a[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))})}return n}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function _(s){return function(){var e=this,i=arguments;return new Promise(function(t,r){var n=s.apply(e,i);function a(e){c(n,t,r,a,o,"next",e)}function o(e){c(n,t,r,a,o,"throw",e)}a(void 0)})}}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._VTEX_API_ENDPOINT="/api/checkout/pub/orderForm",this._logger=new b.c("Cart service"),this._httpClient=new k.a}var t,r,n,a,o,i,s,c,u,l,p,d,f,h,m,v,y,g;return t=e,(r=[{key:"getCurrent",value:(g=_(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._httpClient.get(this._VTEX_API_ENDPOINT);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"add",value:(y=_(regeneratorRuntime.mark(function e(t,r){var n,a,o,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=2<i.length&&void 0!==i[2]?i[2]:1,b.a.isUndefined(t)){e.next=10;break}return e.next=4,this.getCurrent();case 4:return o=e.sent,-1<(a=o.items.findIndex(function(e){return e.id===t}))&&(r=parseInt(r)+parseInt(o.items[a].quantity)),a="".concat(this._VTEX_API_ENDPOINT,"/").concat(o.orderFormId,"/items"),o={orderItems:[{seller:n.toString(),quantity:parseInt(r),id:t.toString()}]},e.abrupt("return",this._httpClient.patch(a,o));case 10:case"end":return e.stop()}},e,this)})),function(e,t){return y.apply(this,arguments)})},{key:"checkoutCRUD",value:(v=_(regeneratorRuntime.mark(function e(t){var a,r,n,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.vtexjs.checkout.getOrderForm();case 2:if(n=e.sent,a=n.items,n=this.getCustomProducts(t),t=t.filter(function(e){return!e.isCustom}),t=[].concat(S(t),S(n)),r=[19,698,25,26],0<(n=a.reduce(function(e,t,r){return[25,26].includes(parseInt(t.id))?[].concat(S(e),[r]):e},[])).length)return e.next=12,this.removeMoreProducts(n);e.next=14;break;case 12:(i=e.sent)&&(a=i.items);case 14:if(o=t.filter(function(e){return 0<e.quantity}).filter(function(t){return-1===a.findIndex(function(e){return parseInt(e.productId)===parseInt(t.productId)})&&0<t.quantity}).map(function(e){return{quantity:e.quantity,seller:1,id:e.skuId||e.id}}),console.log("productsToAdd",o),i=t.filter(function(e){return 0<e.quantity}).filter(function(e){var t=e.skuId||e.id,r=a.findIndex(function(e){return parseInt(e.id)===parseInt(t)});if(-1===r)return!1;var n=parseInt(a[r].id)===parseInt(e.id),r=parseInt(a[r].quantity)!==parseInt(e.quantity);return n&&r&&0<e.quantity}).map(function(e){var t=e.skuId||e.id;return{index:a.findIndex(function(e){return parseInt(e.id)===parseInt(t)}),quantity:e.quantity}}),console.log("productsToUpdate",i),s=t.filter(function(e){return 0<e.quantity&&!r.includes(parseInt(e.skuId||e.id))}).filter(function(t){var e=a.findIndex(function(e){return parseInt(e.productId)===parseInt(t.productId)});return-1!==e&&parseInt(a[e].id)!==parseInt(t.skuId)}).map(function(t){return[{index:a.findIndex(function(e){return parseInt(e.productId)===parseInt(t.productId)}),seller:1,quantity:0},{seller:1,id:t.skuId,quantity:t.quantity}]}).reduce(function(e,t){var r=C(t,2),t=r[0],r=r[1];return[].concat(S(e),[t,r])},[]),console.log("productsToReplaceSKU",s),c=t.filter(function(e){return e.quantity<1}).filter(function(e){var t=e.skuId||e.id;return-1!==a.findIndex(function(e){return parseInt(e.id)===parseInt(t)})&&0==e.quantity}).map(function(e){var t=e.skuId||e.id;return{index:a.findIndex(function(e){return parseInt(e.id)===parseInt(t)}),quantity:0}}),console.log("productsToRemove",c),i[0])return e.next=25,window.vtexjs.checkout.updateItems(i,null,!1);e.next=25;break;case 25:if(s[0])return e.next=28,window.vtexjs.checkout.replaceSKU(s);e.next=28;break;case 28:if(c[0])return e.next=31,window.vtexjs.checkout.removeItems(c);e.next=31;break;case 31:if(o[0])return e.next=34,window.vtexjs.checkout.addToCart(o,null);e.next=34;break;case 34:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"getCustomProducts",value:function(e){var o={};return e.filter(function(e){return!0===e.isCustom}).forEach(function(e){var t=e.skuId,r=e.quantity,n=e.customProductItem,a=o[t],e=parseInt(n.quantity)*parseInt(r);a=a?(r=parseInt(a.quantity)+e,w(w({},a),{},{quantity:r})):w(w({},n),{},{quantity:e,isCustom:!0}),o[t]=a}),Object.values(o)}},{key:"getProductIndexInOrderForm",value:(m=_(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:if(r=e.sent,r=r.items,-1!==(r=r.findIndex(function(e){return e.productId==t})))return e.abrupt("return",r);e.next=7;break;case 7:return e.abrupt("return");case 8:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"remove",value:(h=_(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:return n=e.sent,r="".concat(this._VTEX_API_ENDPOINT,"/").concat(n.orderFormId,"/items"),n={orderItems:[{index:t,quantity:0}],expectedOrderFormSections:["items"],noSplitItem:!0},e.next=7,this._httpClient.patch(r,n);case 7:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"removeMoreProducts",value:(f=_(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:return n=e.sent,r="".concat(this._VTEX_API_ENDPOINT,"/").concat(n.orderFormId,"/items"),n={orderItems:t.map(function(e){return{index:e,quantity:0}}),expectedOrderFormSections:["items"],noSplitItem:!0},e.next=7,this._httpClient.patch(r,n);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"updateProduct",value:(d=_(regeneratorRuntime.mark(function e(t,r){var n,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={seller:2<a.length&&void 0!==a[2]?a[2]:1,quantity:r,id:t},e.next=4,this.updateProducts([n]);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e,t){return d.apply(this,arguments)})},{key:"updateProducts",value:(p=_(regeneratorRuntime.mark(function e(t){var a,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:if(n=e.sent,a=n.items,r=n.orderFormId,0<(t=t.map(function(e){var t=e.id,r=e.quantity,n=e.seller,e=a.findIndex(function(e){return parseInt(e.id)===parseInt(t)});return{id:t,index:e,quantity:r,seller:n||1}}).filter(function(e){return-1!==e.index})).length)return n={orderItems:t},e.next=10,this._httpClient.patch("/api/checkout/pub/orderForm/".concat(r,"/items"),n);e.next=11;break;case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"simulateOrderForm",value:(l=_(regeneratorRuntime.mark(function e(t){var r,n,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=1<a.length&&void 0!==a[1]?a[1]:"BRA",e.prev=1,e.next=4,vtexjs.checkout.getOrderForm();case 4:return e.next=6,vtexjs.checkout.calculateShipping({postalCode:t,country:r});case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(1),console.error("Error in simulateOrderForm",e.t0);case 13:case"end":return e.stop()}},e,null,[[1,10]])})),function(e){return l.apply(this,arguments)})},{key:"simulateShipping",value:(u=_(regeneratorRuntime.mark(function e(t,r){var n,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=2<a.length&&void 0!==a[2]?a[2]:"BRA",e.next=3,vtexjs.checkout.simulateShipping(t,r,n);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)})),function(e,t){return u.apply(this,arguments)})},{key:"updateCheckoutTransporterSLA",value:(c=_(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vtexjs.checkout.getOrderForm();case 2:return(r=vtexjs.checkout.orderForm.shippingData).logisticsInfo=t,e.next=6,vtexjs.checkout.sendAttachment("shippingData",r);case 6:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)})},{key:"updateCheckoutAddress",value:(s=_(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,vtexjs.checkout.getOrderForm();case 3:return(r=vtexjs.checkout.orderForm.shippingData).availableAddresses=[w(w({},r.address),t)],r.selectedAddresses=[w(w({},r.address),t)],r.address=w(w({},r.address),t),e.next=9,vtexjs.checkout.sendAttachment("shippingData",r);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})},{key:"setMultipleCustomDataFields",value:(i=_(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:return n=e.sent,n=n.orderFormId,n="/api/checkout/pub/orderForm/".concat(n,"/customData/").concat(t),e.prev=5,e.next=8,this._httpClient.put(n,r);case 8:return e.abrupt("return",e.sent);case 11:e.prev=11,e.t0=e.catch(5),console.error("setMultipleCustomDataFields",e.t0);case 14:return e.abrupt("return");case 15:case"end":return e.stop()}},e,this,[[5,11]])})),function(e,t){return i.apply(this,arguments)})},{key:"setSingleCustomDataField",value:(o=_(regeneratorRuntime.mark(function e(t,r,n){var a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:return a=e.sent,o=a.orderFormId,a="/api/checkout/pub/orderForm/".concat(o,"/customData/").concat(t,"/").concat(r),o={value:n},e.prev=6,e.next=9,this._httpClient.put(a,o);case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(6),console.error("setSingleCustomDataField",e.t0);case 15:return e.abrupt("return");case 16:case"end":return e.stop()}},e,this,[[6,12]])})),function(e,t,r){return o.apply(this,arguments)})},{key:"removeSingleCustomDataField",value:(a=_(regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:return n=e.sent,a=n.orderFormId,n="/api/checkout/pub/orderForm/".concat(a,"/customData/").concat(t,"/").concat(r),a={value:null},e.prev=6,e.next=9,this._httpClient.delete(n,a);case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(6),console.error("removeSingleCustomDataField",e.t0);case 15:return e.abrupt("return");case 16:case"end":return e.stop()}},e,this,[[6,12]])})),function(e,t){return a.apply(this,arguments)})},{key:"_payloadFactory",value:function(e,t,r){return{id:e,quantity:t,seller:2<arguments.length&&void 0!==r?r:1}}}])&&x(t.prototype,r),n&&x(t,n),e}();t.a=r},x9ji:function(e,t,r){"use strict";r("07d7"),r("5s+n"),r("ls82");var o=r("sEj0"),i=r("jmbs");function c(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._logger=new i.c("httpClient")}var t,r,n,s,a;return t=e,(r=[{key:"get",value:function(e){if(!i.a.isUndefined(e))return this._execute(e,"GET")}},{key:"delete",value:function(e){if(!i.a.isUndefined(e))return this._execute(e,"DELETE")}},{key:"post",value:function(e,t){t=1<arguments.length&&void 0!==t?t:{};if(!i.a.isUndefined(e))return this._execute(e,"POST",t)}},{key:"put",value:function(e,t){if(!i.a.isUndefined(e)&&!i.a.isUndefined(t))return this._execute(e,"PUT",t)}},{key:"patch",value:function(e,t){if(!i.a.isUndefined(e)&&!i.a.isUndefined(t))return this._execute(e,"PATCH",t)}},{key:"_execute",value:function(e,t,r){var n=this,t={method:t,headers:{accept:"application/vnd.vtex.masterdata.v10+json","content-type":"application/json; charset=utf-8"}};return r&&(t.body=JSON.stringify(r)),Object(o.a)(e,t).then(this.validateResponse).then(this.parseResponseToJson).then(function(e){return e}).catch(function(e){return n._logger.log("Request succeeded with JSON response",e),e})}},{key:"parseResponseToJson",value:(s=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,t.json();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}),a=function(){var e=this,i=arguments;return new Promise(function(t,r){var n=s.apply(e,i);function a(e){c(n,t,r,a,o,"next",e)}function o(e){c(n,t,r,a,o,"throw",e)}a(void 0)})},function(e){return a.apply(this,arguments)})},{key:"validateResponse",value:function(e){return e.ok?Promise.resolve(e):Promise.reject(new Error(e.statusText))}}])&&u(t.prototype,r),n&&u(t,n),e}();t.a=r}},[[20,0,2]]]);
//# sourceMappingURL=b8one.mobile.transporter.js.map