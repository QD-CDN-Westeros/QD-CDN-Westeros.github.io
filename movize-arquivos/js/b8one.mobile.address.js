(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{17:function(e,t,r){r("aiOu"),e.exports=r("IhT5")},IhT5:function(e,t){},RDzO:function(e,t,r){"use strict";var n=r("pNMO"),n=r("4Brf"),n=r("0oug"),n=r("QWBl"),n=r("pjDv"),n=r("4mDm"),n=r("+2oP"),n=r("sMBO"),n=r("07d7"),n=r("JfAA"),n=r("PKPk"),n=r("FZtP"),n=r("3bBZ");function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"isUndefined",value:function(e){e=0<arguments.length&&void 0!==e?e:void 0;return null==e||""===e||e==={}||e===[]}},{key:"isInputValid",value:function(e){return!this.isUndefined(e)&&e.checkValidity()}},{key:"hasProps",value:function(e,t){return this.getMissingProps(e,t).length<=0}},{key:"getMissingProps",value:function(t,e){var r=[];return o(e).forEach(function(e){e in t||r.push(e)}),r}}],(r=null)&&a(t.prototype,r),n&&a(t,n),e}();t.a=n},aiOu:function(e,t,r){"use strict";r.r(t);var t=r("pNMO"),t=r("4Brf"),t=r("0oug"),t=r("ma9I"),t=r("TeQF"),t=r("QWBl"),t=r("pjDv"),t=r("yq1k"),t=r("4mDm"),t=r("2B1R"),t=r("E9XD"),t=r("+2oP"),t=r("sMBO"),t=r("T63A"),t=r("5DmW"),t=r("27RR"),t=r("tkto"),t=r("07d7"),t=r("5s+n"),t=r("JfAA"),t=r("JTJg"),t=r("PKPk"),t=r("FZtP"),t=r("3bBZ"),t=r("ls82"),u=r("L+tW"),s=r("rdEv");function n(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach(function(e){h(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function p(u){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=u.apply(e,a);function o(e){f(n,t,r,o,i,"next",e)}function i(e){f(n,t,r,o,i,"throw",e)}o(void 0)})}}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"jumpToConclusions",function(){var e=t.orderForm.customData;e&&e.customApps.filter(function(e){return"selectedcourier"===e.id}).forEach(function(e){e=e.fields.courier_data,e=JSON.parse(e),e.nome.slaName;"Básico"==e.nome&&(t.basic=!0)})}),h(this,"eventHandlerBinds",function(){t.setHandledButtonSave(),t.setHandledFormsChange()}),this.cartService=new s.a,this.isToAddressUnknown=!1,this.slider=null,this.sliderAddressFooter=null,this.init()}var t,r,n,o,i,a;return t=e,(r=[{key:"init",value:(a=p(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.initSliders(),this.setHandledWindowResize(),this.setHandledButtonNext(),this.setHandledButtonsBack(),this.eventHandlerBinds(),this.setHandledButtonUnknownAddressClick(),this.jumpToConclusions(),e.next=9,this.getAddressData();case 9:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"initSliders",value:function(){this.slider=Object(u.a)({container:".address__wrapper",items:1,slideBy:"page",autoplay:!1,controls:!1,center:!0,nav:!1,loop:!1,touch:!1,autoWidth:!0}),this.sliderAddressFooter=Object(u.a)({container:".address__footer",items:1,slideBy:"page",autoplay:!1,controls:!1,center:!1,nav:!1,loop:!1,touch:!1,autoWidth:!0})}},{key:"setHandledWindowResize",value:function(){var t=this;window.addEventListener("resize",function(e){t.slider.refresh()})}},{key:"setHandledButtonNext",value:function(){var t=this,e=document.querySelector(".js-button-next"),r=document.querySelector(".js-address-from");e.addEventListener("click",function(e){t.validateForm(r)&&(t.slider.goTo("next"),t.sliderAddressFooter.goTo("next"))})}},{key:"setHandledButtonSave",value:function(){var r=this,e=l(document.querySelectorAll(".fa-save")),n=document.querySelector(".js-button-submit");e.forEach(function(e){e.addEventListener("click",function(){var t=p(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return document.dispatchEvent(window.initSaveCustomDataEvent),e.next=3,r.saveData();case 3:document.dispatchEvent(window.endSaveCustomDataEvent);case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}())}),n.addEventListener("click",function(){var t=p(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.classList.add("js-loading"),e.next=3,r.saveData();case 3:r.validateForms()&&(n.classList.remove("js-loading"),window.location.assign("/seguro-info")),n.classList.remove("js-loading");case 5:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}())}},{key:"setHandledButtonsBack",value:function(){var t=this,e=d(document.querySelectorAll(".actions__back-button"),2);e[0];e[1].addEventListener("click",function(e){t.slider.goTo("prev"),t.sliderAddressFooter.goTo("prev")})}},{key:"getAddressFieldsForOrderInfo",value:function(){var o=this,i={to_address_name:"Sem Endereço",to_address_number:"Sem Numero",to_address_county:"Sem Bairro"};return l(document.forms).filter(function(e){return e.classList.contains("address__form")}).reduce(function(e,t){var r=l(t.elements).filter(function(e){var t=e.type,r=e.classList,n=e.value,e=e.id;return(!r.contains("js-address-complement-to")||""!==n)&&(!!e&&("button"!==t&&!r.contains("js-store-items-change")))}).reduce(function(e,t){var r=t.id,n=t.value,t=t.checked;return o.isToAddressUnknown&&i.hasOwnProperty(r)&&(n=i[r]),c(c({},e),{},h({},r,t||n))},{}),t=t.classList.contains("js-address-from")?"from_address":"to_address";return c(c({},e),{},h({},t,r))},{})}},{key:"getAddressForOrderForm",value:function(e){var n=e.to_address,o={to_city:"city",to_state:"state",to_address_name:"street",to_address_complement:"complement",to_address_county:"neighborhood",to_address_number:"number",to_address_zipcode:"postalCode"};return Object.keys(n).filter(function(e){return o.hasOwnProperty(e)}).reduce(function(e,t){var r=o[t],t=n[t];return c(c({},e),{},h({},r,t))},{addressType:"residential"})}},{key:"saveData",value:(i=p(regeneratorRuntime.mark(function e(){var t,r,n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=this.getAddressFieldsForOrderInfo(),t=this.getAddressForOrderForm(i),r=l(document.querySelectorAll(".js-store-items-change")),n=document.querySelector(".js-address-from-home-type"),o=document.querySelector(".js-address-to-home-type"),o={current_step:"address",user_need_storage:r[0].checked,home_type:n.value,from_home_type:n.value,to_home_type:o.value},i=c(c({},o),i),i=Object.entries(i).reduce(function(e,t){var r=d(t,2),t=r[0],r=r[1];return e=["from_address","to_address"].includes(t)?[].concat(l(e),l(Object.entries(r))):[].concat(l(e),[[t,r]])},[]).filter(function(e){e=d(e,2),e[0];return""!==e[1]}),i=i.reduce(function(e,t){var r=d(t,2),t=r[0],r=r[1];return c(c({},e),{},h({},t,r))},{}),e.next=12,Promise.all([this.cartService.updateCheckoutAddress(t),this.cartService.setMultipleCustomDataFields("orderinfo",i)]);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 18:case"end":return e.stop()}},e,this,[[0,14]])})),function(){return i.apply(this,arguments)})},{key:"getAddressData",value:(o=p(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cartService.getCurrent();case 2:if(t=e.sent,t=t.customData){e.next=6;break}return e.abrupt("return");case 6:n=l(document.querySelectorAll(".js-store-items-change")),t.customApps.filter(function(e){return"orderinfo"===e.id}).forEach(function(e){Object.entries(e.fields).forEach(function(e){var t=d(e,2),e=t[0],r=t[1];"user_need_storage"===e?"true"==r.toLowerCase()&&n.forEach(function(e){return e.checked=r}):(e.includes("from_")||e.includes("to_"))&&(document.getElementById(e).value=r)})});case 8:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"handledFormChange",value:function(e){e.addEventListener("change",function(e){e.target.classList.remove("address__input--invalid")})}},{key:"setHandledFormsChange",value:function(){var t=this;l(document.forms).forEach(function(e){return t.handledFormChange(e)})}},{key:"validateForm",value:function(t){return 0===l(t.elements).filter(function(e){return""===e.value&&e.required}).map(function(e){return e.classList.add("address__input--invalid"),t.noValidate=!0,e}).length&&(t.noValidate=!1),t.checkValidity()&&!t.noValidate}},{key:"validateForms",value:function(){var t=this;return!l(document.forms).map(function(e){return t.validateForm(e)}).includes(!1)}},{key:"setHandledButtonUnknownAddressClick",value:function(){var i=this,a=document.querySelector(".js-address-to .address__button");a.addEventListener("click",function(e){a.classList.toggle("address__button--mini-active"),i.isToAddressUnknown=!i.isToAddressUnknown;var t=document.getElementById("to_address_name"),r=document.getElementById("to_address_zipcode"),n=document.getElementById("to_address_county"),o=document.getElementById("to_address_number");[t,n,o,r].forEach(function(e){e.parentElement.classList.toggle("address__field--required")}),[t,n,o,r].forEach(function(e){e.toggleAttribute("required"),e.toggleAttribute("disabled")})})}}])&&m(t.prototype,r),n&&m(t,n),e}();document.addEventListener("DOMContentLoaded",function(e){new a})},jmbs:function(e,t,r){"use strict";r.d(t,"a",function(){return n.a}),r.d(t,"b",function(){return i}),r.d(t,"c",function(){return u});var n=r("RDzO");r("ma9I"),r("TeQF"),r("yq1k"),r("oVuX"),r("sMBO"),r("toAj"),r("07d7"),r("TWNs"),r("rB9j"),r("JfAA"),r("JTJg"),r("UxlC"),r("EnZy");function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._logger=new u("Ensure"),this.props=e||{language:navigator.language||navigator.userLanguage,currency:"BRL",currencyLocale:"pt-br",minimumFractionDigits:2}}var e,r,n;return e=t,n=[{key:"getParents",value:function(e,t){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),r=t.length;0<=--r&&t.item(r)!==this;);return-1<r});for(var r=[];e&&e!==document;e=e.parentNode)(!t||e.matches(t))&&r.push(e);return r}},{key:"serializeForm",value:function(e){for(var t=[],r=0;r<e.elements.length;r++){var n=e.elements[r];if(n.name&&!n.disabled&&"file"!==n.type&&"reset"!==n.type&&"submit"!==n.type&&"button"!==n.type)if("select-multiple"===n.type)for(var o=0;o<n.options.length;o++)n.options[o].selected&&t.push(encodeURIComponent(n.name)+"="+encodeURIComponent(n.options[o].value));else("checkbox"!==n.type&&"radio"!==n.type||n.checked)&&t.push(encodeURIComponent(n.name)+"="+encodeURIComponent(n.value))}return t.join("&")}},{key:"getFormData",value:function(e){for(var t={},r=0;r<e.elements.length;r++){var n=e.elements[r];if(n.name&&!n.disabled&&"file"!==n.type&&"reset"!==n.type&&"submit"!==n.type&&"button"!==n.type)if("select-multiple"===n.type)for(var o=0;o<n.options.length;o++)n.options[o].selected&&(t[n.name]=n.options[o].value);else("checkbox"!==n.type&&"radio"!==n.type||n.checked)&&(t[n.name]=n.value)}return t}},{key:"getRandomID",value:function(){return"_"+Math.random().toString(36).substr(2,9)}},{key:"setCookie",value:function(e,t,r){var n=new Date;n.setTime(n.getTime()+24*r*60*60*1e3);n="expires="+n.toUTCString();document.cookie="".concat(e,"=").concat(t,";").concat(n,";path=/")}},{key:"getCookie",value:function(t){return decodeURIComponent(document.cookie).split(";").filter(function(e){return e.includes(t)})[0]||""}},{key:"isInViewport",value:function(e){var t=window.innerHeight||document.documentElement.clientHeight,r=window.innerWidth||document.documentElement.clientWidth,n=e.getBoundingClientRect(),o=n.top,i=n.right,e=n.bottom,n=n.left;return 0<=o&&0<=n&&e<=t&&i<=r}},{key:"removeAccents",value:function(e){var t,r={a:"á|à|ã|â|À|Á|Ã|Â",e:"é|è|ê|É|È|Ê",i:"í|ì|î|Í|Ì|Î",o:"ó|ò|ô|õ|Ó|Ò|Ô|Õ",u:"ú|ù|û|ü|Ú|Ù|Û|Ü",c:"ç|Ç",n:"ñ|Ñ"};for(t in r)e=e.replace(new RegExp(r[t],"g"),t);return e}}],(r=[{key:"formatPrice",value:function(e){return e=(+(e/=100)).toFixed(Math.max(0,~~this.props.minimumFractionDigits)),new Intl.NumberFormat(this.props.currencyLocale,{style:"currency",currency:this.props.currency,minimumFractionDigits:this.props.minimumFractionDigits}).format(e)}}])&&o(e.prototype,r),n&&o(e,n),t}();function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"B8ONE Logger Component";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.logName=e}var e,r,n;return e=t,(r=[{key:"error",value:function(e,t){e=0<arguments.length&&void 0!==e?e:"",t=1<arguments.length&&void 0!==t?t:{};console.error(e,t)}},{key:"info",value:function(e){e=0<arguments.length&&void 0!==e?e:"";console.info(e)}},{key:"warning",value:function(e){e=0<arguments.length&&void 0!==e?e:"";console.warn(this.logName,e)}},{key:"log",value:function(e){e=0<arguments.length&&void 0!==e?e:"";console.log(e)}},{key:"log",value:function(e,t){e=0<arguments.length&&void 0!==e?e:"",t=1<arguments.length&&void 0!==t?t:{};console.log(e,t)}}])&&a(e.prototype,r),n&&a(e,n),t}()},rdEv:function(e,t,r){"use strict";r("pNMO"),r("4Brf"),r("0oug"),r("ma9I"),r("TeQF"),r("x0AG"),r("QWBl"),r("pjDv"),r("yq1k"),r("4mDm"),r("2B1R"),r("E9XD"),r("+2oP"),r("sMBO"),r("5DmW"),r("27RR"),r("tkto"),r("07d7"),r("B6y2"),r("5s+n"),r("JfAA"),r("JTJg"),r("PKPk"),r("FZtP"),r("3bBZ"),r("ls82");var b=r("jmbs"),k=r("x9ji");function i(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function w(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function j(u){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=u.apply(e,a);function o(e){s(n,t,r,o,i,"next",e)}function i(e){s(n,t,r,o,i,"throw",e)}o(void 0)})}}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._VTEX_API_ENDPOINT="/api/checkout/pub/orderForm",this._logger=new b.c("Cart service"),this._httpClient=new k.a}var t,r,n,o,i,a,u,s,c,d,l,f,p,m,h,v,y,g;return t=e,(r=[{key:"getCurrent",value:(g=j(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._httpClient.get(this._VTEX_API_ENDPOINT);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"add",value:(y=j(regeneratorRuntime.mark(function e(t,r){var n,o,i,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=2<a.length&&void 0!==a[2]?a[2]:1,b.a.isUndefined(t)){e.next=10;break}return e.next=4,this.getCurrent();case 4:return i=e.sent,-1<(o=i.items.findIndex(function(e){return e.id===t}))&&(r=parseInt(r)+parseInt(i.items[o].quantity)),o="".concat(this._VTEX_API_ENDPOINT,"/").concat(i.orderFormId,"/items"),i={orderItems:[{seller:n.toString(),quantity:parseInt(r),id:t.toString()}]},e.abrupt("return",this._httpClient.patch(o,i));case 10:case"end":return e.stop()}},e,this)})),function(e,t){return y.apply(this,arguments)})},{key:"checkoutCRUD",value:(v=j(regeneratorRuntime.mark(function e(t){var o,r,n,i,a,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.vtexjs.checkout.getOrderForm();case 2:if(n=e.sent,o=n.items,n=this.getCustomProducts(t),t=t.filter(function(e){return!e.isCustom}),t=[].concat(I(t),I(n)),r=[19,698,25,26],0<(n=o.reduce(function(e,t,r){return[25,26].includes(parseInt(t.id))?[].concat(I(e),[r]):e},[])).length)return e.next=12,this.removeMoreProducts(n);e.next=14;break;case 12:(a=e.sent)&&(o=a.items);case 14:if(i=t.filter(function(e){return 0<e.quantity}).filter(function(t){return-1===o.findIndex(function(e){return parseInt(e.productId)===parseInt(t.productId)})&&0<t.quantity}).map(function(e){return{quantity:e.quantity,seller:1,id:e.skuId||e.id}}),console.log("productsToAdd",i),a=t.filter(function(e){return 0<e.quantity}).filter(function(e){var t=e.skuId||e.id,r=o.findIndex(function(e){return parseInt(e.id)===parseInt(t)});if(-1===r)return!1;var n=parseInt(o[r].id)===parseInt(e.id),r=parseInt(o[r].quantity)!==parseInt(e.quantity);return n&&r&&0<e.quantity}).map(function(e){var t=e.skuId||e.id;return{index:o.findIndex(function(e){return parseInt(e.id)===parseInt(t)}),quantity:e.quantity}}),console.log("productsToUpdate",a),u=t.filter(function(e){return 0<e.quantity&&!r.includes(parseInt(e.skuId||e.id))}).filter(function(t){var e=o.findIndex(function(e){return parseInt(e.productId)===parseInt(t.productId)});return-1!==e&&parseInt(o[e].id)!==parseInt(t.skuId)}).map(function(t){return[{index:o.findIndex(function(e){return parseInt(e.productId)===parseInt(t.productId)}),seller:1,quantity:0},{seller:1,id:t.skuId,quantity:t.quantity}]}).reduce(function(e,t){var r=x(t,2),t=r[0],r=r[1];return[].concat(I(e),[t,r])},[]),console.log("productsToReplaceSKU",u),s=t.filter(function(e){return e.quantity<1}).filter(function(e){var t=e.skuId||e.id;return-1!==o.findIndex(function(e){return parseInt(e.id)===parseInt(t)})&&0==e.quantity}).map(function(e){var t=e.skuId||e.id;return{index:o.findIndex(function(e){return parseInt(e.id)===parseInt(t)}),quantity:0}}),console.log("productsToRemove",s),a[0])return e.next=25,window.vtexjs.checkout.updateItems(a,null,!1);e.next=25;break;case 25:if(u[0])return e.next=28,window.vtexjs.checkout.replaceSKU(u);e.next=28;break;case 28:if(s[0])return e.next=31,window.vtexjs.checkout.removeItems(s);e.next=31;break;case 31:if(i[0])return e.next=34,window.vtexjs.checkout.addToCart(i,null);e.next=34;break;case 34:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"getCustomProducts",value:function(e){var i={};return e.filter(function(e){return!0===e.isCustom}).forEach(function(e){var t=e.skuId,r=e.quantity,n=e.customProductItem,o=i[t],e=parseInt(n.quantity)*parseInt(r);o=o?(r=parseInt(o.quantity)+e,w(w({},o),{},{quantity:r})):w(w({},n),{},{quantity:e,isCustom:!0}),i[t]=o}),Object.values(i)}},{key:"getProductIndexInOrderForm",value:(h=j(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:if(r=e.sent,r=r.items,-1!==(r=r.findIndex(function(e){return e.productId==t})))return e.abrupt("return",r);e.next=7;break;case 7:return e.abrupt("return");case 8:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"remove",value:(m=j(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:return n=e.sent,r="".concat(this._VTEX_API_ENDPOINT,"/").concat(n.orderFormId,"/items"),n={orderItems:[{index:t,quantity:0}],expectedOrderFormSections:["items"],noSplitItem:!0},e.next=7,this._httpClient.patch(r,n);case 7:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"removeMoreProducts",value:(p=j(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:return n=e.sent,r="".concat(this._VTEX_API_ENDPOINT,"/").concat(n.orderFormId,"/items"),n={orderItems:t.map(function(e){return{index:e,quantity:0}}),expectedOrderFormSections:["items"],noSplitItem:!0},e.next=7,this._httpClient.patch(r,n);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"updateProduct",value:(f=j(regeneratorRuntime.mark(function e(t,r){var n,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={seller:2<o.length&&void 0!==o[2]?o[2]:1,quantity:r,id:t},e.next=4,this.updateProducts([n]);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e,t){return f.apply(this,arguments)})},{key:"updateProducts",value:(l=j(regeneratorRuntime.mark(function e(t){var o,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:if(n=e.sent,o=n.items,r=n.orderFormId,0<(t=t.map(function(e){var t=e.id,r=e.quantity,n=e.seller,e=o.findIndex(function(e){return parseInt(e.id)===parseInt(t)});return{id:t,index:e,quantity:r,seller:n||1}}).filter(function(e){return-1!==e.index})).length)return n={orderItems:t},e.next=10,this._httpClient.patch("/api/checkout/pub/orderForm/".concat(r,"/items"),n);e.next=11;break;case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"simulateOrderForm",value:(d=j(regeneratorRuntime.mark(function e(t){var r,n,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=1<o.length&&void 0!==o[1]?o[1]:"BRA",e.prev=1,e.next=4,vtexjs.checkout.getOrderForm();case 4:return e.next=6,vtexjs.checkout.calculateShipping({postalCode:t,country:r});case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(1),console.error("Error in simulateOrderForm",e.t0);case 13:case"end":return e.stop()}},e,null,[[1,10]])})),function(e){return d.apply(this,arguments)})},{key:"simulateShipping",value:(c=j(regeneratorRuntime.mark(function e(t,r){var n,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=2<o.length&&void 0!==o[2]?o[2]:"BRA",e.next=3,vtexjs.checkout.simulateShipping(t,r,n);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)})),function(e,t){return c.apply(this,arguments)})},{key:"updateCheckoutTransporterSLA",value:(s=j(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vtexjs.checkout.getOrderForm();case 2:return(r=vtexjs.checkout.orderForm.shippingData).logisticsInfo=t,e.next=6,vtexjs.checkout.sendAttachment("shippingData",r);case 6:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})},{key:"updateCheckoutAddress",value:(u=j(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,vtexjs.checkout.getOrderForm();case 3:return(r=vtexjs.checkout.orderForm.shippingData).availableAddresses=[w(w({},r.address),t)],r.selectedAddresses=[w(w({},r.address),t)],r.address=w(w({},r.address),t),e.next=9,vtexjs.checkout.sendAttachment("shippingData",r);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)})},{key:"setMultipleCustomDataFields",value:(a=j(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:return n=e.sent,n=n.orderFormId,n="/api/checkout/pub/orderForm/".concat(n,"/customData/").concat(t),e.prev=5,e.next=8,this._httpClient.put(n,r);case 8:return e.abrupt("return",e.sent);case 11:e.prev=11,e.t0=e.catch(5),console.error("setMultipleCustomDataFields",e.t0);case 14:return e.abrupt("return");case 15:case"end":return e.stop()}},e,this,[[5,11]])})),function(e,t){return a.apply(this,arguments)})},{key:"setSingleCustomDataField",value:(i=j(regeneratorRuntime.mark(function e(t,r,n){var o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:return o=e.sent,i=o.orderFormId,o="/api/checkout/pub/orderForm/".concat(i,"/customData/").concat(t,"/").concat(r),i={value:n},e.prev=6,e.next=9,this._httpClient.put(o,i);case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(6),console.error("setSingleCustomDataField",e.t0);case 15:return e.abrupt("return");case 16:case"end":return e.stop()}},e,this,[[6,12]])})),function(e,t,r){return i.apply(this,arguments)})},{key:"removeSingleCustomDataField",value:(o=j(regeneratorRuntime.mark(function e(t,r){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:return n=e.sent,o=n.orderFormId,n="/api/checkout/pub/orderForm/".concat(o,"/customData/").concat(t,"/").concat(r),o={value:null},e.prev=6,e.next=9,this._httpClient.delete(n,o);case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(6),console.error("removeSingleCustomDataField",e.t0);case 15:return e.abrupt("return");case 16:case"end":return e.stop()}},e,this,[[6,12]])})),function(e,t){return o.apply(this,arguments)})},{key:"_payloadFactory",value:function(e,t,r){return{id:e,quantity:t,seller:2<arguments.length&&void 0!==r?r:1}}}])&&O(t.prototype,r),n&&O(t,n),e}();t.a=r},x9ji:function(e,t,r){"use strict";r("07d7"),r("5s+n"),r("ls82");var i=r("sEj0"),a=r("jmbs");function s(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._logger=new a.c("httpClient")}var t,r,n,u,o;return t=e,(r=[{key:"get",value:function(e){if(!a.a.isUndefined(e))return this._execute(e,"GET")}},{key:"delete",value:function(e){if(!a.a.isUndefined(e))return this._execute(e,"DELETE")}},{key:"post",value:function(e,t){t=1<arguments.length&&void 0!==t?t:{};if(!a.a.isUndefined(e))return this._execute(e,"POST",t)}},{key:"put",value:function(e,t){if(!a.a.isUndefined(e)&&!a.a.isUndefined(t))return this._execute(e,"PUT",t)}},{key:"patch",value:function(e,t){if(!a.a.isUndefined(e)&&!a.a.isUndefined(t))return this._execute(e,"PATCH",t)}},{key:"_execute",value:function(e,t,r){var n=this,t={method:t,headers:{accept:"application/vnd.vtex.masterdata.v10+json","content-type":"application/json; charset=utf-8"}};return r&&(t.body=JSON.stringify(r)),Object(i.a)(e,t).then(this.validateResponse).then(this.parseResponseToJson).then(function(e){return e}).catch(function(e){return n._logger.log("Request succeeded with JSON response",e),e})}},{key:"parseResponseToJson",value:(u=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,t.json();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}),o=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=u.apply(e,a);function o(e){s(n,t,r,o,i,"next",e)}function i(e){s(n,t,r,o,i,"throw",e)}o(void 0)})},function(e){return o.apply(this,arguments)})},{key:"validateResponse",value:function(e){return e.ok?Promise.resolve(e):Promise.reject(new Error(e.statusText))}}])&&c(t.prototype,r),n&&c(t,n),e}();t.a=r}},[[17,0,2]]]);
//# sourceMappingURL=b8one.mobile.address.js.map