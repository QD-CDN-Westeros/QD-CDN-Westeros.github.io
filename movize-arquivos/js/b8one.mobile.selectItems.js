(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"/mdI":function(e,t,r){"use strict";r.d(t,"a",function(){return o});r("pNMO"),r("4Brf"),r("0oug"),r("ma9I"),r("QWBl"),r("pjDv"),r("4mDm"),r("+2oP"),r("sMBO"),r("07d7"),r("5s+n"),r("JfAA"),r("PKPk"),r("FZtP"),r("3bBZ"),r("Kz25"),r("ls82");var n=r("vDqi"),c=r.n(n);function s(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t,r,n,i,o,a){try{var u=e[o](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,i)}function d(u){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=u.apply(e,a);function i(e){l(n,t,r,i,o,"next",e)}function o(e){l(n,t,r,i,o,"throw",e)}i(void 0)})}}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=c.a.create({baseURL:"".concat(e,"/api/catalog_system")})}var e,r,n,i,o,a,u;return e=t,(r=[{key:"getProductsByCategories",value:(u=d(regeneratorRuntime.mark(function e(t,r){var n,i,o,a,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=2<u.length&&void 0!==u[2]?u[2]:0,i=3<u.length&&void 0!==u[3]?u[3]:49,o=4<u.length&&void 0!==u[4]?u[4]:["OrderByNameASC"],e.prev=3,(a=new URLSearchParams).append("_to",i),a.append("_from",n),a.append("fq","C:/".concat(t,"/").concat(r)),o.forEach(function(e){return a.append("O",e)}),e.next=11,this.api.get("/pub/products/search",{params:a});case 11:return e.abrupt("return",e.sent);case 14:e.prev=14,e.t0=e.catch(3),console.error("Error in VtexCatalogService on method getProductsByCategories",e.t0);case 17:return e.abrupt("return");case 18:case"end":return e.stop()}},e,this,[[3,14]])})),function(e,t){return u.apply(this,arguments)})},{key:"getAllProductsByCategories",value:(a=d(regeneratorRuntime.mark(function e(t,r){var n,i,o,a,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=[],i=0,o=49;case 4:return e.next=7,this.getProductsByCategories(t,r,i,o);case 7:if(a=e.sent,u=a.data,c=a.status,i=o+1,o=2*o+1,n=[].concat(s(n),s(u)),200===c)return e.abrupt("break",17);e.next=15;break;case 15:e.next=4;break;case 17:return e.abrupt("return",n);case 20:e.prev=20,e.t0=e.catch(0),console.error("Error in VtexCatalogService on method getAllProductsByCategories",e.t0);case 23:return e.abrupt("return");case 24:case"end":return e.stop()}},e,this,[[0,20]])})),function(e,t){return a.apply(this,arguments)})},{key:"getAllCategories",value:(o=d(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.get("/pub/category/tree/1");case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error("Error in VtexCatalogService on method getAllCategories",e.t0);case 9:return e.abrupt("return");case 10:case"end":return e.stop()}},e,this,[[0,6]])})),function(){return o.apply(this,arguments)})},{key:"getProductVariations",value:(i=d(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.get("/pub/products/variations/".concat(t));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error("Error in VtexCatalogService on method getProductVariations",e.t0);case 9:return e.abrupt("return");case 10:case"end":return e.stop()}},e,this,[[0,6]])})),function(e){return i.apply(this,arguments)})}])&&p(e.prototype,r),n&&p(e,n),t}()},15:function(e,t,r){r("sd4k"),e.exports=r("DmiJ")},"8/Qm":function(e,t,r){"use strict";r("ma9I"),r("07d7"),r("5s+n"),r("ls82");var u=r("x9ji");function c(e,t,r,n,i,o,a){try{var u=e[o](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,i)}function s(u){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=u.apply(e,a);function i(e){c(n,t,r,i,o,"next",e)}function o(e){c(n,t,r,i,o,"throw",e)}i(void 0)})}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);this.entityCode_=e,this.httpClient_=new u.a,this._VTEX_MASTERDATA_ENDPOINT="/api/dataentities/".concat(e)}var e,r,n,i,o,a;return e=t,(r=[{key:"add",value:function(e){var t="".concat(this._VTEX_MASTERDATA_ENDPOINT,"/documents");return this.httpClient_.put(t,e).then(function(e){return e},function(e){return e})}},{key:"update",value:function(e){var t="".concat(this._VTEX_MASTERDATA_ENDPOINT,"/documents");return this.httpClient_.patch(t,e).then(function(e){return e},function(e){return e})}},{key:"search",value:function(e){var t="".concat(this._VTEX_MASTERDATA_ENDPOINT,"/search?").concat(e);return this.httpClient_.get(t).then(function(e){return e})}},{key:"getByDocumentId",value:(a=s(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(this._VTEX_MASTERDATA_ENDPOINT,"/documents/").concat(t),e.next=3,this.httpClient_.get(r);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"getByDocumentIdWithFields",value:(o=s(regeneratorRuntime.mark(function e(t,r){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this._VTEX_MASTERDATA_ENDPOINT,"/documents/").concat(t,"?_fields=").concat(r),e.next=3,this.httpClient_.get(n);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}},e,this)})),function(e,t){return o.apply(this,arguments)})},{key:"delete",value:function(e){var t="".concat(this._VTEX_MASTERDATA_ENDPOINT,"/documents/").concat(e);return this.httpClient_.delete(t).then(function(e){return e})}},{key:"getAttachmentUrl",value:function(e,t,r){var n=0<arguments.length&&void 0!==e?e:"",i=1<arguments.length&&void 0!==t?t:"",o=2<arguments.length&&void 0!==r?r:"";return"".concat(this._VTEX_MASTERDATA_ENDPOINT,"/documents/").concat(n,"/").concat(i,"/attachments/").concat(o)}},{key:"getAttachment",value:(i=s(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<a.length&&void 0!==a[0]?a[0]:"",r=1<a.length&&void 0!==a[1]?a[1]:"",n=2<a.length&&void 0!==a[2]?a[2]:"",i=this.getAttachmentUrl(t,r,n),e.next=6,this.httpClient_.get(i);case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})}])&&l(e.prototype,r),n&&l(e,n),t}();t.a=n},Cwf3:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r("cvkN"),i=r.n(n),o=function(e){return i()(e,{symbol:"R$ ",precision:2,separator:".",decimal:",",formatWithSymbol:!0})}},DmiJ:function(e,t){},JbUL:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.d(t,"a",function(){return i});var i=function(){function o(e){var t=e.modal,r=e.modalShowCLass,n=e.openModalCallback,i=e.closeModalCallback;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.isOpen=!1,this.modalShowCLass=r||"show",this.openCallback=n||new Function,this.closeCallback=i||new Function,this.modal=t instanceof Element?t:document.querySelector(t)}var e,t,r;return e=o,(t=[{key:"show",value:function(){this.isOpen||this.modal.classList.add(this.modalShowCLass),this.isOpen=!0,this.openCallback(this)}},{key:"close",value:function(){this.isOpen&&this.modal.classList.remove(this.modalShowCLass),this.isOpen=!1,this.closeCallback(this)}}])&&n(e.prototype,t),r&&n(e,r),o}()},JoMe:function(e,t,r){"use strict";t.a=[19,698,25,26,33,35,696,699]},OzKi:function(e,t,r){"use strict";r.d(t,"a",function(){return n});r("TeQF"),r("x0AG"),r("yq1k"),r("4mDm"),r("2B1R"),r("E9XD"),r("07d7"),r("5s+n"),r("JTJg"),r("PKPk"),r("3bBZ"),r("ls82");var c=r("rdEv"),s=r("/mdI"),f=r("JoMe");function l(e,t,r,n,i,o,a){try{var u=e[o](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,i)}function d(u){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=u.apply(e,a);function i(e){l(n,t,r,i,o,"next",e)}function o(e){l(n,t,r,i,o,"throw",e)}i(void 0)})}}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cartService=new c.a,this.vtexCatalogService=new s.a}var t,r,n,i,o,a,u;return t=e,(r=[{key:"getTotalStorageQuantity",value:(u=d(regeneratorRuntime.mark(function e(){var t,r,n,i,o,l=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cartService.getCurrent();case 2:return t=e.sent,r=t.items,e.next=6,Promise.all(r.filter(function(e){return!f.a.includes(parseInt(e.id))}).map(function(){var t=d(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.productId,n=t.id,i=t.quantity,e.next=3,l.vtexCatalogService.getProductVariations(r);case 3:if(o=e.sent,a=o.data,u=a.skus.filter(function(e){var t=e.sku;return parseInt(t)===parseInt(n)})[0])return c=u.measures.weight,s=c*i,e.abrupt("return",s);e.next=10;break;case 10:return e.abrupt("return",0);case 11:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()));case 6:return n=e.sent,i=Math.round(n.reduce(function(e,t){return e+t},0)),o=0<(o=Math.round(i/5))?o:1,e.abrupt("return",o);case 11:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})},{key:"addSKUStorageToOrderForm",value:(a=d(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cartService.add(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"removeSKUStorageInOrderForm",value:(o=d(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==(n=r.findIndex(function(e){return parseInt(e.id)===t})))return e.next=4,this.cartService.remove(n);e.next=5;break;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e,t){return o.apply(this,arguments)})},{key:"dispatchActionWorksWithStorageSKU",value:(i=d(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,u,c,s,l,d,p=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<p.length&&void 0!==p[0]?p[0]:1,r=33,e.next=4,this.cartService.getCurrent();case 4:if(n=e.sent,i=n.customData,o=n.items,i){e.next=9;break}return e.abrupt("return");case 9:if(a=i.customApps.filter(function(e){return"orderinfo"===e.id})[0],u=o.filter(function(e){return parseInt(e.id)===r})[0],c=o.filter(function(e){return!f.a.includes(parseInt(e.id))}).length,a){e.next=14;break}return e.abrupt("return");case 14:return e.next=16,this.getTotalStorageQuantity();case 16:if(s=e.sent,s*=t,l=a.fields.user_need_storage,u&&(d=u.quantity!==s),d&&0<c)return e.next=23,this.cartService.updateProduct(r,s);e.next=26;break;case 23:return e.abrupt("return",e.sent);case 26:if("true"===l.toLowerCase()&&0<c)return e.next=29,this.addSKUStorageToOrderForm(r,s);e.next=32;break;case 29:return e.abrupt("return",e.sent);case 32:return e.next=34,this.removeSKUStorageInOrderForm(r,o);case 34:return e.abrupt("return",e.sent);case 35:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})}])&&p(t.prototype,r),n&&p(t,n),e}()},RDzO:function(e,t,r){"use strict";r("pNMO"),r("4Brf"),r("0oug"),r("QWBl"),r("pjDv"),r("4mDm"),r("+2oP"),r("sMBO"),r("07d7"),r("JfAA"),r("PKPk"),r("FZtP"),r("3bBZ");function i(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"isUndefined",value:function(e){var t=0<arguments.length&&void 0!==e?e:void 0;return null==t||""===t||t==={}||t===[]}},{key:"isInputValid",value:function(e){return!this.isUndefined(e)&&e.checkValidity()}},{key:"hasProps",value:function(e,t){return this.getMissingProps(e,t).length<=0}},{key:"getMissingProps",value:function(t,e){var r=[];return i(e).forEach(function(e){e in t||r.push(e)}),r}}],(r=null)&&o(t.prototype,r),n&&o(t,n),e}();t.a=a},"gn+B":function(e,t,r){"use strict";r.d(t,"a",function(){return s});r("pNMO"),r("TeQF"),r("QWBl"),r("5DmW"),r("27RR"),r("tkto"),r("FZtP");var n=r("zyFE");function i(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach(function(e){a(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=Object(n.createActions)({setEmail:["email"]},{}),c=u.Types,s=u.Creators,l=a({},c.SET_EMAIL,function(e,t){return o(o({},e),{},{email:t.email})});t.b=Object(n.createReducer)({email:""},l)},jmbs:function(e,t,r){"use strict";r.d(t,"a",function(){return n.a}),r.d(t,"b",function(){return o}),r.d(t,"c",function(){return u});var n=r("RDzO");r("ma9I"),r("TeQF"),r("yq1k"),r("oVuX"),r("sMBO"),r("toAj"),r("07d7"),r("TWNs"),r("rB9j"),r("JfAA"),r("JTJg"),r("UxlC"),r("EnZy");function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._logger=new u("Ensure"),this.props=e||{language:navigator.language||navigator.userLanguage,currency:"BRL",currencyLocale:"pt-br",minimumFractionDigits:2}}var e,r,n;return e=t,n=[{key:"getParents",value:function(e,t){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),r=t.length;0<=--r&&t.item(r)!==this;);return-1<r});for(var r=[];e&&e!==document;e=e.parentNode)(!t||e.matches(t))&&r.push(e);return r}},{key:"serializeForm",value:function(e){for(var t=[],r=0;r<e.elements.length;r++){var n=e.elements[r];if(n.name&&!n.disabled&&"file"!==n.type&&"reset"!==n.type&&"submit"!==n.type&&"button"!==n.type)if("select-multiple"===n.type)for(var i=0;i<n.options.length;i++)n.options[i].selected&&t.push(encodeURIComponent(n.name)+"="+encodeURIComponent(n.options[i].value));else("checkbox"!==n.type&&"radio"!==n.type||n.checked)&&t.push(encodeURIComponent(n.name)+"="+encodeURIComponent(n.value))}return t.join("&")}},{key:"getFormData",value:function(e){for(var t={},r=0;r<e.elements.length;r++){var n=e.elements[r];if(n.name&&!n.disabled&&"file"!==n.type&&"reset"!==n.type&&"submit"!==n.type&&"button"!==n.type)if("select-multiple"===n.type)for(var i=0;i<n.options.length;i++)n.options[i].selected&&(t[n.name]=n.options[i].value);else("checkbox"!==n.type&&"radio"!==n.type||n.checked)&&(t[n.name]=n.value)}return t}},{key:"getRandomID",value:function(){return"_"+Math.random().toString(36).substr(2,9)}},{key:"setCookie",value:function(e,t,r){var n=new Date;n.setTime(n.getTime()+24*r*60*60*1e3);var i="expires="+n.toUTCString();document.cookie="".concat(e,"=").concat(t,";").concat(i,";path=/")}},{key:"getCookie",value:function(t){return decodeURIComponent(document.cookie).split(";").filter(function(e){return e.includes(t)})[0]||""}},{key:"isInViewport",value:function(e){var t=window.innerHeight||document.documentElement.clientHeight,r=window.innerWidth||document.documentElement.clientWidth,n=e.getBoundingClientRect(),i=n.top,o=n.right,a=n.bottom,u=n.left;return 0<=i&&0<=u&&a<=t&&o<=r}},{key:"removeAccents",value:function(e){var t={a:"á|à|ã|â|À|Á|Ã|Â",e:"é|è|ê|É|È|Ê",i:"í|ì|î|Í|Ì|Î",o:"ó|ò|ô|õ|Ó|Ò|Ô|Õ",u:"ú|ù|û|ü|Ú|Ù|Û|Ü",c:"ç|Ç",n:"ñ|Ñ"};for(var r in t)e=e.replace(new RegExp(t[r],"g"),r);return e}}],(r=[{key:"formatPrice",value:function(e){return e=(+(e/=100)).toFixed(Math.max(0,~~this.props.minimumFractionDigits)),new Intl.NumberFormat(this.props.currencyLocale,{style:"currency",currency:this.props.currency,minimumFractionDigits:this.props.minimumFractionDigits}).format(e)}}])&&i(e.prototype,r),n&&i(e,n),t}();function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"B8ONE Logger Component";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.logName=e}var e,r,n;return e=t,(r=[{key:"error",value:function(e,t){var r=0<arguments.length&&void 0!==e?e:"",n=1<arguments.length&&void 0!==t?t:{};console.error(r,n)}},{key:"info",value:function(e){var t=0<arguments.length&&void 0!==e?e:"";console.info(t)}},{key:"warning",value:function(e){var t=0<arguments.length&&void 0!==e?e:"";console.warn(this.logName,t)}},{key:"log",value:function(e){var t=0<arguments.length&&void 0!==e?e:"";console.log(t)}},{key:"log",value:function(e,t){var r=0<arguments.length&&void 0!==e?e:"",n=1<arguments.length&&void 0!==t?t:{};console.log(r,n)}}])&&a(e.prototype,r),n&&a(e,n),t}()},rdEv:function(e,t,r){"use strict";r("pNMO"),r("4Brf"),r("0oug"),r("ma9I"),r("TeQF"),r("x0AG"),r("QWBl"),r("pjDv"),r("yq1k"),r("4mDm"),r("2B1R"),r("E9XD"),r("+2oP"),r("sMBO"),r("5DmW"),r("27RR"),r("tkto"),r("07d7"),r("B6y2"),r("5s+n"),r("JfAA"),r("JTJg"),r("PKPk"),r("FZtP"),r("3bBZ"),r("ls82");var b=r("jmbs"),k=r("x9ji");function n(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function S(i){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?n(Object(o),!0).forEach(function(e){var t,r,n;t=i,n=o[r=e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(o,e))})}return i}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return r}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t,r,n,i,o,a){try{var u=e[o](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,i)}function _(u){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=u.apply(e,a);function i(e){c(n,t,r,i,o,"next",e)}function o(e){c(n,t,r,i,o,"throw",e)}i(void 0)})}}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._VTEX_API_ENDPOINT="/api/checkout/pub/orderForm",this._logger=new b.c("Cart service"),this._httpClient=new k.a}var t,r,n,i,o,a,u,c,s,l,d,p,f,m,h,v,g,y;return t=e,(r=[{key:"getCurrent",value:(y=_(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._httpClient.get(this._VTEX_API_ENDPOINT);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"add",value:(g=_(regeneratorRuntime.mark(function e(t,r){var n,i,o,a,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=2<c.length&&void 0!==c[2]?c[2]:1,b.a.isUndefined(t)){e.next=10;break}return e.next=4,this.getCurrent();case 4:return i=e.sent,-1<(o=i.items.findIndex(function(e){return e.id===t}))&&(r=parseInt(r)+parseInt(i.items[o].quantity)),a="".concat(this._VTEX_API_ENDPOINT,"/").concat(i.orderFormId,"/items"),u={orderItems:[{seller:n.toString(),quantity:parseInt(r),id:t.toString()}]},e.abrupt("return",this._httpClient.patch(a,u));case 10:case"end":return e.stop()}},e,this)})),function(e,t){return g.apply(this,arguments)})},{key:"checkoutCRUD",value:(v=_(regeneratorRuntime.mark(function e(t){var r,o,n,i,a,u,c,s,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.vtexjs.checkout.getOrderForm();case 2:if(r=e.sent,o=r.items,n=this.getCustomProducts(t),t=t.filter(function(e){return!e.isCustom}),t=[].concat(I(t),I(n)),i=[19,698,25,26],0<(a=o.reduce(function(e,t,r){return[25,26].includes(parseInt(t.id))?[].concat(I(e),[r]):e},[])).length)return e.next=12,this.removeMoreProducts(a);e.next=14;break;case 12:(u=e.sent)&&(o=u.items);case 14:if(c=t.filter(function(e){return 0<e.quantity}).filter(function(t){return-1===o.findIndex(function(e){return parseInt(e.productId)===parseInt(t.productId)})&&0<t.quantity}).map(function(e){return{quantity:e.quantity,seller:1,id:e.skuId||e.id}}),console.log("productsToAdd",c),s=t.filter(function(e){return 0<e.quantity}).filter(function(e){var t=e.skuId||e.id,r=o.findIndex(function(e){return parseInt(e.id)===parseInt(t)});if(-1===r)return!1;var n=parseInt(o[r].id)===parseInt(e.id),i=parseInt(o[r].quantity)!==parseInt(e.quantity);return n&&i&&0<e.quantity}).map(function(e){var t=e.skuId||e.id;return{index:o.findIndex(function(e){return parseInt(e.id)===parseInt(t)}),quantity:e.quantity}}),console.log("productsToUpdate",s),l=t.filter(function(e){return 0<e.quantity&&!i.includes(parseInt(e.skuId||e.id))}).filter(function(t){var e=o.findIndex(function(e){return parseInt(e.productId)===parseInt(t.productId)});return-1!==e&&parseInt(o[e].id)!==parseInt(t.skuId)}).map(function(t){return[{index:o.findIndex(function(e){return parseInt(e.productId)===parseInt(t.productId)}),seller:1,quantity:0},{seller:1,id:t.skuId,quantity:t.quantity}]}).reduce(function(e,t){var r=w(t,2),n=r[0],i=r[1];return[].concat(I(e),[n,i])},[]),console.log("productsToReplaceSKU",l),d=t.filter(function(e){return e.quantity<1}).filter(function(e){var t=e.skuId||e.id;return-1!==o.findIndex(function(e){return parseInt(e.id)===parseInt(t)})&&0==e.quantity}).map(function(e){var t=e.skuId||e.id;return{index:o.findIndex(function(e){return parseInt(e.id)===parseInt(t)}),quantity:0}}),console.log("productsToRemove",d),s[0])return e.next=25,window.vtexjs.checkout.updateItems(s,null,!1);e.next=25;break;case 25:if(l[0])return e.next=28,window.vtexjs.checkout.replaceSKU(l);e.next=28;break;case 28:if(d[0])return e.next=31,window.vtexjs.checkout.removeItems(d);e.next=31;break;case 31:if(c[0])return e.next=34,window.vtexjs.checkout.addToCart(c,null);e.next=34;break;case 34:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"getCustomProducts",value:function(e){var u={};return e.filter(function(e){return!0===e.isCustom}).forEach(function(e){var t,r=e.skuId,n=e.quantity,i=e.customProductItem,o=u[r],a=parseInt(i.quantity)*parseInt(n);o=o?(t=parseInt(o.quantity)+a,S(S({},o),{},{quantity:t})):S(S({},i),{},{quantity:a,isCustom:!0}),u[r]=o}),Object.values(u)}},{key:"getProductIndexInOrderForm",value:(h=_(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:if(r=e.sent,n=r.items,-1!==(i=n.findIndex(function(e){return e.productId==t})))return e.abrupt("return",i);e.next=7;break;case 7:return e.abrupt("return");case 8:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"remove",value:(m=_(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:return r=e.sent,n="".concat(this._VTEX_API_ENDPOINT,"/").concat(r.orderFormId,"/items"),i={orderItems:[{index:t,quantity:0}],expectedOrderFormSections:["items"],noSplitItem:!0},e.next=7,this._httpClient.patch(n,i);case 7:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"removeMoreProducts",value:(f=_(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:return r=e.sent,n="".concat(this._VTEX_API_ENDPOINT,"/").concat(r.orderFormId,"/items"),i={orderItems:t.map(function(e){return{index:e,quantity:0}}),expectedOrderFormSections:["items"],noSplitItem:!0},e.next=7,this._httpClient.patch(n,i);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"updateProduct",value:(p=_(regeneratorRuntime.mark(function e(t,r){var n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={seller:2<i.length&&void 0!==i[2]?i[2]:1,quantity:r,id:t},e.next=4,this.updateProducts([n]);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e,t){return p.apply(this,arguments)})},{key:"updateProducts",value:(d=_(regeneratorRuntime.mark(function e(t){var r,o,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:if(r=e.sent,o=r.items,n=r.orderFormId,0<(t=t.map(function(e){var t=e.id,r=e.quantity,n=e.seller,i=o.findIndex(function(e){return parseInt(e.id)===parseInt(t)});return{id:t,index:i,quantity:r,seller:n||1}}).filter(function(e){return-1!==e.index})).length)return i={orderItems:t},e.next=10,this._httpClient.patch("/api/checkout/pub/orderForm/".concat(n,"/items"),i);e.next=11;break;case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})},{key:"simulateOrderForm",value:(l=_(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=1<i.length&&void 0!==i[1]?i[1]:"BRA",e.prev=1,e.next=4,vtexjs.checkout.getOrderForm();case 4:return e.next=6,vtexjs.checkout.calculateShipping({postalCode:t,country:r});case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(1),console.error("Error in simulateOrderForm",e.t0);case 13:case"end":return e.stop()}},e,null,[[1,10]])})),function(e){return l.apply(this,arguments)})},{key:"simulateShipping",value:(s=_(regeneratorRuntime.mark(function e(t,r){var n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=2<o.length&&void 0!==o[2]?o[2]:"BRA",e.next=3,vtexjs.checkout.simulateShipping(t,r,n);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}},e)})),function(e,t){return s.apply(this,arguments)})},{key:"updateCheckoutTransporterSLA",value:(c=_(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vtexjs.checkout.getOrderForm();case 2:return(r=vtexjs.checkout.orderForm.shippingData).logisticsInfo=t,e.next=6,vtexjs.checkout.sendAttachment("shippingData",r);case 6:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)})},{key:"updateCheckoutAddress",value:(u=_(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,vtexjs.checkout.getOrderForm();case 3:return(r=vtexjs.checkout.orderForm.shippingData).availableAddresses=[S(S({},r.address),t)],r.selectedAddresses=[S(S({},r.address),t)],r.address=S(S({},r.address),t),e.next=9,vtexjs.checkout.sendAttachment("shippingData",r);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)})},{key:"setMultipleCustomDataFields",value:(a=_(regeneratorRuntime.mark(function e(t,r){var n,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:return n=e.sent,i=n.orderFormId,o="/api/checkout/pub/orderForm/".concat(i,"/customData/").concat(t),e.prev=5,e.next=8,this._httpClient.put(o,r);case 8:return e.abrupt("return",e.sent);case 11:e.prev=11,e.t0=e.catch(5),console.error("setMultipleCustomDataFields",e.t0);case 14:return e.abrupt("return");case 15:case"end":return e.stop()}},e,this,[[5,11]])})),function(e,t){return a.apply(this,arguments)})},{key:"setSingleCustomDataField",value:(o=_(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:return i=e.sent,o=i.orderFormId,a="/api/checkout/pub/orderForm/".concat(o,"/customData/").concat(t,"/").concat(r),u={value:n},e.prev=6,e.next=9,this._httpClient.put(a,u);case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(6),console.error("setSingleCustomDataField",e.t0);case 15:return e.abrupt("return");case 16:case"end":return e.stop()}},e,this,[[6,12]])})),function(e,t,r){return o.apply(this,arguments)})},{key:"removeSingleCustomDataField",value:(i=_(regeneratorRuntime.mark(function e(t,r){var n,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:return n=e.sent,i=n.orderFormId,o="/api/checkout/pub/orderForm/".concat(i,"/customData/").concat(t,"/").concat(r),a={value:null},e.prev=6,e.next=9,this._httpClient.delete(o,a);case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(6),console.error("removeSingleCustomDataField",e.t0);case 15:return e.abrupt("return");case 16:case"end":return e.stop()}},e,this,[[6,12]])})),function(e,t){return i.apply(this,arguments)})},{key:"_payloadFactory",value:function(e,t,r){return{id:e,quantity:t,seller:2<arguments.length&&void 0!==r?r:1}}}])&&C(t.prototype,r),n&&C(t,n),e}();t.a=a},sHwd:function(e,t,r){"use strict";r.d(t,"a",function(){return m});r("pNMO"),r("4Brf"),r("0oug"),r("TeQF"),r("QWBl"),r("pjDv"),r("yXV3"),r("4mDm"),r("E9XD"),r("+2oP"),r("sMBO"),r("T63A"),r("5DmW"),r("27RR"),r("tkto"),r("07d7"),r("JfAA"),r("PKPk"),r("FZtP"),r("3bBZ");var n,i=r("zyFE");function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach(function(e){s(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],0<=t.indexOf(r)||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}var d={},p=Object(i.createActions)({addProduct:{productId:null,skuId:null,skuIdWithBox:null,skuIdWithoutBox:null,quantity:0,liftingQuantity:0,liftingQuantityOrigin:0,liftingQuantityDestination:0,specialPackaging:!1,requiresLifting:!1,isCustom:!1,customAttributes:null,customProductItem:null,additionalWeight:!1,additionalCharges:[],requiresAssembly:!1,requiresDisassembly:!1},updateProductQuantity:["productId","quantity"],updateLiftingQuantity:{productId:null,liftingQuantity:0,liftingQuantityOrigin:0,liftingQuantityDestination:0},setRequiresLifting:["productId","requiresLifting"],setSpecialPackaging:["productId","specialPackaging"],updateSkuId:["productId","skuId"],resetProductsQuantity:"",updateRequiresDisassemblyAndAssembly:["productId","requiresAssembly","requiresDisassembly"]},{}),f=p.Types,m=p.Creators,h=(s(n={},f.ADD_PRODUCT,function(e,t){var r=0<arguments.length&&void 0!==e?e:d,n=1<arguments.length?t:void 0,i=n.productId,o=(n.type,l(n,["type"]));return c(c({},r),{},s({},i,c({},o)))}),s(n,f.UPDATE_PRODUCT_QUANTITY,function(e,t){var r=0<arguments.length&&void 0!==e?e:d,n=1<arguments.length?t:void 0,i=n.productId,o=n.quantity,a=r[i];return(parseInt(o)<0||""===o)&&(o=0),c(c({},r),{},s({},i,c(c({},a),{},{quantity:o})))}),s(n,f.UPDATE_LIFTING_QUANTITY,function(e,t){var r=0<arguments.length&&void 0!==e?e:d,n=1<arguments.length?t:void 0,i=n.productId,o=(n.type,l(n,["type"])),a=r[i];return c(c({},r),{},s({},i,c(c({},a),o)))}),s(n,f.SET_REQUIRES_LIFTING,function(e,t){var r=0<arguments.length&&void 0!==e?e:d,n=1<arguments.length?t:void 0,i=n.productId,o=n.requiresLifting,a=r[i];return c(c({},r),{},s({},i,c(c({},a),{},{requiresLifting:o})))}),s(n,f.SET_SPECIAL_PACKAGING,function(e,t){var r=0<arguments.length&&void 0!==e?e:d,n=1<arguments.length?t:void 0,i=n.productId,o=n.specialPackaging,a=r[i];return c(c({},r),{},s({},i,c(c({},a),{},{specialPackaging:o})))}),s(n,f.UPDATE_SKU_ID,function(e,t){var r=0<arguments.length&&void 0!==e?e:d,n=1<arguments.length?t:void 0,i=n.productId,o=n.skuId,a=r[i];return a.isCustom&&(a.customProductItem=c(c({},a.customProductItem),{},{id:o})),c(c({},r),{},s({},i,c(c({},a),{},{skuId:o})))}),s(n,f.RESET_PRODUCTS_QUANTITY,function(e,t){var r=0<arguments.length&&void 0!==e?e:d;return Object.entries(r).reduce(function(e,t){var r=o(t,2),n=r[0],i=r[1];return c(c({},e),{},s({},n,c(c({},i),{},{quantity:0,liftingQuantity:0,requiresLifting:!1,specialPackaging:!1,liftingQuantityOrigin:0,liftingQuantityDestination:0})))},{})}),s(n,f.UPDATE_REQUIRES_DISASSEMBLY_AND_ASSEMBLY,function(e,t){var r=0<arguments.length&&void 0!==e?e:d,n=1<arguments.length?t:void 0,i=n.productId,o=n.requiresAssembly,a=n.requiresDisassembly,u=r[i];return c(c({},r),{},s({},i,c(c({},u),{},{requiresAssembly:o,requiresDisassembly:a})))}),n);t.b=Object(i.createReducer)(d,h)},sd4k:function(e,t,r){"use strict";r.r(t);r("pNMO"),r("4Brf"),r("0oug"),r("ma9I"),r("TeQF"),r("fbCW"),r("QWBl"),r("pjDv"),r("yq1k"),r("yXV3"),r("4mDm"),r("oVuX"),r("2B1R"),r("E9XD"),r("+2oP"),r("Rfxz"),r("ToJy"),r("sMBO"),r("tl/u"),r("5DmW"),r("27RR"),r("tkto"),r("07d7"),r("B6y2"),r("5s+n"),r("rB9j"),r("JfAA"),r("JTJg"),r("PKPk"),r("UxlC"),r("hByQ"),r("EnZy"),r("FZtP"),r("3bBZ"),r("ls82");var h=r("L+tW"),v=r("jmbs"),g=r("JbUL"),y=r("8/Qm"),b=r("xcBl"),k=r("rdEv"),S=r("OzKi"),w=r("/mdI"),I=r("Cwf3"),_=r("vq04"),C=r("sHwd"),n=(r("TWNs"),r("7cfX")),d=r.n(n),c=function(e){var t=e.id,r=e.labelText,n=e.isChecked;return'\n    <label for="'.concat(t,'">\n      <div class="checkbox">\n        <input type="checkbox" id="').concat(t,'" ').concat(n?"checked":"",'/>\n\n        <i class="far fa-check checkbox__icon"></i>\n\n        <p class="checkbox__label">').concat(r,"</p>\n      </div>\n    </label>\n  ")},o=r("x7Xd"),s=function(e){var t=e.tooltipClassName,r=e.tooltipPosition,n=e.tooltipSize,i=e.tooltipText;return'\n    <button \n      aria-label="{'.concat(i,'}"\n      class="tooltip ').concat(t,'" \n      data-balloon-pos="').concat(r,'" \n      data-balloon-length="').concat(n,'"\n    >\n      ').concat(o.a,"\n    </button>\n  ")},p=function(e){var t=e.id,r=e.isChecked,n=e.labelText,i=e.tooltipText,o=e.tooltipClassName,a=e.tooltipPosition,u=e.tooltipSize;return'\n    <div class="product__container-checkbox">\n      '.concat(c({id:t,labelText:n,isChecked:r}),"\n\n      ").concat(s({tooltipText:i,tooltipClassName:o,tooltipPosition:a,tooltipSize:u}),"\n    </div>\n  ")},f=function(){return'\n    <div class="product__icon-container">\n      <i class="far fa-box product__icon"></i>\n    </div>\n  '},m=function(e,t,r){var n=1<arguments.length&&void 0!==t?t:"";return'\n    <figure class="product__figure">\n      <img \n        class="product__image '.concat(2<arguments.length&&void 0!==r?r:"",'"\n        src="').concat(e,'"\n        alt="').concat(n,'"\n      />\n    </figure>\n  ')},P=function(e){var t=e.quantity,r=void 0===t?0:t,n=e.minQuantity,i=void 0===n?0:n;return'\n    <div class="product__actions">\n      <button class="actions__button product__quantity--minus">\n        '.concat('\n  <svg width="8" height="2" viewBox="0 0 8 2" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <rect width="8" height="2" fill="#1E2587"/>\n  </svg>\n','\n      </button>\n\n      <input\n        type="number"\n        placeholder="0"\n        value="').concat(r,'"\n        min="').concat(i,'"\n        class="product__quantity"\n      />\n\n      <button class="actions__button product__quantity--add">\n        ').concat('\n  <svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M5 0H3V3H0V5H3V8H5V5H8V3H5V0Z" fill="#1E2587"/>\n  </svg>\n',"\n      </button>\n    </div>\n  ")};function i(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function x(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach(function(e){O(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function A(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e,t){var s=this,r=e.productId,n=e.productName,i=e.complementName,o=e.imageUrl,a=e.assignments,u=e.ambients,c=(e.description,e.similars),l=e.lifting;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,q),O(this,"getState",function(){return s.store.getState().products[s.productId]}),O(this,"handledAddQuantityProduct",function(e){var t=s.getState().quantity,r=C.a.updateProductQuantity(s.productId,t+1);s.store.dispatch(r)}),O(this,"handledMinusQuantityProduct",function(e){var t=s.getState().quantity,r=C.a.updateProductQuantity(s.productId,t-1);s.store.dispatch(r)}),O(this,"handledProductQuantityChange",function(e){var t=e.target.value,r=C.a.updateProductQuantity(s.productId,t);s.store.dispatch(r)}),O(this,"handledSpecialPackagingProduct",function(e){var t=e.target.checked,r=C.a.setSpecialPackaging(s.productId,t);s.store.dispatch(r)}),O(this,"handledLiftingProduct",function(e){var t=e.target.checked,r=C.a.setRequiresLifting(s.productId,t);s.store.dispatch(r)}),O(this,"handledDisassemblyAndAssembly",function(e){var t=e.target.checked,r=C.a.updateRequiresDisassemblyAndAssembly(s.productId,t,t);s.store.dispatch(r)}),O(this,"bindEvents",function(){A(document.querySelectorAll('.product[data-product-id="'.concat(s.productId,'"]'))).forEach(function(e){return s.productHandleEvents(e)})}),O(this,"productHandleEvents",function(e){var t={passive:!0},r=e.querySelector(".product__quantity--minus"),n=e.querySelector(".product__quantity--add"),i=e.querySelector('[id$="lifting"]'),o=e.querySelector('[id$="special-packaging"]'),a=e.querySelector('[id$="disassembly-and-assembly"]'),u=e.querySelector(".product__quantity");r.addEventListener("click",s.handledMinusQuantityProduct,t),n.addEventListener("click",s.handledAddQuantityProduct,t),u.addEventListener("keypress",function(e){var t=new RegExp("^[0-9]+$"),r=String.fromCharCode(e.charCode?e.charCode:e.which);if(!t.test(r))return e.preventDefault(),!1}),u.addEventListener("input",s.handledProductQuantityChange,t),i&&i.addEventListener("change",s.handledLiftingProduct,t),o&&o.addEventListener("change",s.handledSpecialPackagingProduct,t),a&&a.addEventListener("change",s.handledDisassemblyAndAssembly,t)}),O(this,"watchState",function(){var e=d()(s.store.getState,["products",s.productId]);s.store.subscribe(e(function(e,t){t.quantity!==e.quantity&&s.updateQuantity(),t.requiresLifting!==e.requiresLifting&&s.updateRequiresLifting(),t.specialPackaging!==e.specialPackaging&&s.updateSpecialPackaging(),t.requiresAssembly===e.requiresAssembly&&t.requiresDisassembly===e.requiresDisassembly||s.updateRequiresDisassemblyAndAssembly()}))}),O(this,"updateQuantity",function(){var e=s.getState(),r=e.quantity,t=e.requiresLifting;A(document.querySelectorAll('.product[data-product-id="'.concat(s.productId,'"]'))).forEach(function(e){var t=e.querySelector(".product__quantity");e.dataset.productQuantity=r,t.value=r});var n=t?+r:0,i={"içamento na origem e destino":{liftingQuantityOrigin:n,liftingQuantityDestination:n},"içamento no origem":{liftingQuantityOrigin:n},"içamento no destino":{liftingQuantityDestination:n}}[s.lifting],o=C.a.updateLiftingQuantity(x(x({},i),{},{liftingQuantity:n,productId:s.productId}));s.store.dispatch(o)}),O(this,"updateRequiresLifting",function(){var e=s.getState(),t=e.requiresLifting,r=e.quantity;A(document.querySelectorAll('.product[data-product-id="'.concat(s.productId,'"]'))).forEach(function(e){e.dataset.productLifting=t});var n=C.a.updateLiftingQuantity({productId:s.productId,liftingQuantity:t?+r:0});s.store.dispatch(n)}),O(this,"updateSpecialPackaging",function(){var e=s.getState(),t=e.specialPackaging,r=e.skuIdWithBox,n=e.skuIdWithoutBox;A(document.querySelectorAll('.product[data-product-id="'.concat(s.productId,'"]'))).forEach(function(e){e.dataset.productSpecialPackaging=t});var i=t?r:n,o=C.a.updateSkuId(s.productId,i);s.store.dispatch(o)}),O(this,"updateRequiresDisassemblyAndAssembly",function(){var e=s.getState(),t=e.requiresAssembly,r=e.requiresDisassembly;A(document.querySelectorAll('.product[data-product-id="'.concat(s.productId,'"]'))).forEach(function(e){e.dataset.productRequiresAssembly=t,e.dataset.productRequiresDisassembly=r})}),O(this,"render",function(){var e=s.getState(),t=e.isCustom,r=e.quantity,n=e.requiresLifting,i=e.specialPackaging,o=e.skuIdWithBox,a=e.skuIdWithoutBox,u=e.requiresAssembly,c=e.requiresDisassembly;return'\n      <article \n        class="product" \n        data-product-id="'.concat(s.productId,'"\n        data-product-quantity="').concat(r,'" \n        data-sku-id-with-box="').concat(o,'"\n        data-sku-id-without-box="').concat(a,'"\n        data-product-lifting="').concat(n,'"\n        data-product-special-packaging="').concat(i,'" \n        data-product-complement-name="').concat(s.complementName,'"\n        data-product-categories-ambients="').concat(s.ambients,'"\n        data-product-similars="').concat(s.similars,'"\n        data-product-requires-assembly="').concat(u,'"\n        data-product-requires-disassembly="').concat(c,'"\n      >\n        ').concat(s.assignments&&s.assignments.includes("içamento")&&p({id:"product-".concat(s.productId,"-lifting"),isChecked:n,labelText:"Requer içamento",tooltipText:"Içamento de moveis e bens em geral são necessários quando não há condições para que seus bens sejam levados por escada ou elevador. Se não tem certeza se o içamento é necessário ou não, não se preocupe. Nossos consultores o orientarão antes da mudança.",tooltipClassName:"without-padding",tooltipPosition:"left",tooltipSize:"medium"})||"","\n\n        ").concat(s.assignments&&s.assignments.includes("embalagem especial")&&p({id:"product-".concat(s.productId,"-special-packaging"),isChecked:i,labelText:"Embalagem especial",tooltipText:"Para itens frágeis como televisões, obra de arte, tampos de mesa de vidro ou de marmore, lustres, taças de cristal etc é sempre recomendado utilizar embalagens da madeira feitas sob medida para seu bem. Se não tem certeza se a embalagem especial é necessária ou não, não se preocupe. Nossos consultores o orientarão antes da mudança.",tooltipClassName:"without-padding",tooltipPosition:"left",tooltipSize:"medium"})||"","\n\n        ").concat(s.assignments&&s.assignments.includes("Adicional de desmontagem")&&p({id:"product-".concat(s.productId,"-disassembly-and-assembly"),isChecked:u&&c,labelText:"Desmontagem e montagem",tooltipText:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Velit voluptas quos doloribus nostrum, odio autem distinctio, enim rerum modi consequuntur laboriosam sapiente voluptate non, praesentium dolorem quibusdam quae reiciendis porro?",tooltipClassName:"without-padding",tooltipPosition:"left",tooltipSize:"medium"})||"","\n\n        ").concat(t?f():m(s.imageUrl,s.productName),'\n\n        <h3 class="product__name">').concat(s.productName,"</h3>\n\n        ").concat(P({quantity:r}),"\n      </article>\n    ")}),this.productId=r,this.productName=n,this.complementName=i.toLowerCase(),this.imageUrl=o,this.assignments=a,this.ambients=u,this.similars=c,this.lifting=l,this.store=t,this.watchState()}function j(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],0<=t.indexOf(r)||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function u(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function T(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach(function(e){R(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return r}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M(e,t,r,n,i,o,a){try{var u=e[o](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,i)}function N(u){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=u.apply(e,a);function i(e){M(n,t,r,i,o,"next",e)}function o(e){M(n,t,r,i,o,"throw",e)}i(void 0)})}}function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var F=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.products={},this.productInstances={},this.categories=[],this.categoriesAmbients=[],this.hoistModalInstance=null,this.addCustomProductModalInstance=null,this.cartService=new k.a,this.storageService=new S.a,this.vtexCatalogService=new w.a,this.helper=new v.b,this.masterdataRepository=new y.a("CA"),this.moveListSaveRepository=new b.a,this.orderForm=null,this.userMoveSaveList=null,this.liftingQuantity=0,this.lifting="içamento na origem e destino",this.init()}var t,r,n,i,o,a,u,c,s,l,d,p,f,m;return t=e,(r=[{key:"updateOrderForm",value:function(e){e&&(this.orderForm=e)}},{key:"init",value:(m=N(regeneratorRuntime.mark(function e(){var t,r,n,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setToggleSelectedProducts(),this.handledButtonSaveClick(),this.setHandledButtonContinueClick(),this.initModalHoist(),e.next=6,Promise.all([this.cartService.getCurrent(),this.getCategories(),this.getCategoriesAmbientsFromMasterData()]);case 6:return t=e.sent,r=L(t,3),n=r[0],i=r[1],o=r[2],this.categories=i,this.categoriesAmbients=o,this.updateOrderForm(n),this.getLiftingFromCustomData(),e.next=17,this.getProductsByCategories();case 17:if(this.categories=e.sent,this.addCategoriesAmbientToDOM(),this.setHandledAmbientButtonBackClick(),window.location.search.includes("isSavedList=true"))return e.next=23,this.getUserMoveSaveList();e.next=23;break;case 23:this.setProducts(),this.getProductstInOrderForm(),this.addProductsToState(),this.addProductComponentInstances(),this.addCustomProductsToCategories(),this.addSectionCategoriesToDOM(),this.setListenersToProducts(),this.initAddCustomProductModal(),this.categoriesCollapseSections(),this.setHandledInputSearchChange(),this.setHandledButtonCleanInputSearchClick(),this.setHandledButtonClearAllClick(),this.setHandledCategoriesAmbientClick();case 36:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"setProducts",value:function(){var r=this;this.categories.forEach(function(e){var t=(t=e.products).reduce(function(e,t){var r=t.productId,n=t.productName,i=t.assignments,o=t.items,a=t.ambients,u=t.similars,c=t.additionalCharges,s=t.additionalWeight,l=o[0],d=l.imageUrl,p=l.complementName,f=L(o,2),m=f[0],h=f[1],v=null==h?void 0:h.itemId,g=null==m?void 0:m.itemId,y=g;return T(T({},e),{},R({},r,{imageUrl:d,productId:r,productName:n,skuId:y,ambients:a,skuIdWithBox:v,skuIdWithoutBox:g,complementName:p,assignments:i,similars:u,additionalCharges:c,additionalWeight:s}))},{});r.products=T(T({},r.products),t)})}},{key:"addProductsToState",value:function(){Object.values(this.products).forEach(function(e){e.imageUrl,e.complementName,e.active;var t=E(e,["imageUrl","complementName","active"]),r=C.a.addProduct(t);_.a.dispatch(r)})}},{key:"addProductComponentInstances",value:function(){var n=this;Object.values(this.products).forEach(function(e){var t=e.productId,r=new q(T(T({},e),{},{lifting:n.lifting}),_.a);n.productInstances=T(T({},n.productInstances),{},R({},t,r))})}},{key:"addCustomProductsToCategories",value:function(){var e=this;Object.values(this.products).filter(function(e){return e.isCustom}).forEach(function(r){var n=r.customAttributes["product-category"];e.categories=e.categories.map(function(e){if(e.idHTML!==n)return e;var t=e.products;return T(T({},e),{},{products:[].concat(j(t),[r])})})})}},{key:"setListenersToProducts",value:function(){Object.values(this.productInstances).forEach(function(e){e.bindEvents()})}},{key:"initAddCustomProductModal",value:function(){var s,e,t,l,d=this,r=document.querySelector(".product-custom-modal");r&&(e=document.querySelector(".js-input-custom-product-name"),this.addCustomProductModalInstance=new g.a({modal:r,modalShowCLass:"wrapper-modal--show",openModalCallback:function(){setTimeout(function(){return e.focus()},500)}}),j(document.querySelectorAll(".product--add-custom .button")).forEach(function(e){e.addEventListener("click",function(){d.addCustomProductModalInstance.show(),s=v.b.getParents(e,".section__products")[0]})}),t=r.querySelector(".modal__close"),l=r.querySelector(".modal__form"),t.addEventListener("click",function(){d.addCustomProductModalInstance.close(),l.reset()}),l.addEventListener("submit",function(e){e.preventDefault();var t=v.b.getFormData(l),r=null===s||void 0===s?void 0:s.parentElement,n=null==r?void 0:r.getAttribute("id");t["product-category"]=n;var i,o,a=d.convertCM3ToM3(parseInt(t["product-height"]),parseInt(t["product-width"]),parseInt(t["product-depth"])),u=d.getCustomsProducts(a),c=d.createCustomProduct({customAttributes:t,customProductItem:u});s?s.lastElementChild.insertAdjacentHTML("beforebegin",c.render()):(i=document.querySelector(".products-category .category__section .section__products"),o=document.querySelector(".search-results__products"),i.lastElementChild.insertAdjacentHTML("beforebegin",c.render()),o.lastElementChild.insertAdjacentHTML("beforebegin",c.render())),c.bindEvents(),d.addCustomProductModalInstance.close(),l.reset()}))}},{key:"initModalHoist",value:function(){var r=this,e=document.querySelector(".hoist-modal"),n=e.querySelector(".modal__button"),t=e.querySelectorAll(".modal__input");t.forEach(function(t){t.addEventListener("click",function(){var e=document.querySelector(".modal__input--active");e&&e.classList.remove("modal__input--active"),t.querySelector("input").checked=!0,t.classList.add("modal__input--active"),t.querySelector("input").checked&&(r.lifting=t.querySelector("input").value,n.disabled=!1)})}),this.hoistModalInstance=new g.a({modal:e,modalShowCLass:"wrapper-modal--show"}),n.addEventListener("click",N(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.classList.add("js-loading"),t.forEach(function(e){!0===e.querySelector("input").checked&&r.cartService.setSingleCustomDataField("orderinfo","lifting",r.lifting)}),e.next=4,r.handledButtonContinueClick(n);case 4:r.hoistModalInstance.close();case 5:case"end":return e.stop()}},e)})))}},{key:"getLiftingFromCustomData",value:function(){var e,t,r=this.orderForm.customData;r&&(!(e=r.customApps.find(function(e){return"orderinfo"===e.id}))||(t=e.lifting)&&(this.lifting=t))}},{key:"setToggleSelectedProducts",value:function(){var r=this;document.querySelector("#show-select-products").addEventListener("change",function(e){var t=e.target.checked;return r.handledToggleSelectedProducts(t)})}},{key:"handledToggleSelectedProducts",value:function(t){var e,r,n,i;0<window.pageYOffset&&window.scrollTo(0,0),""!==document.querySelector(".js-input-search").value&&this.clearInputSearch(),t&&(e=document.querySelector(".ambient"),r=document.querySelector(".products-category"),n=document.querySelector(".page__categories"),i=document.querySelector(".js-search-results-ambient"),e.classList.add("hide"),r.classList.remove("hide"),n.classList.remove("hide"),i.classList.add("hide"),this.clearResultsProducts(".js-search-results-ambient"));var o=document.querySelectorAll('.product[data-product-quantity="0"]'),a=document.querySelectorAll(".product--add-custom"),u=document.querySelectorAll(".category__section"),c=j(u).filter(function(e){var t=j(e.querySelectorAll(".product[data-product-id]")).reduce(function(e,t){var r=t.dataset.productQuantity;return e+(r=parseInt(r))},0);return console.log(t),0===t}),s=j(u).filter(function(e){var t=j(e.querySelectorAll(".product[data-product-id]")).reduce(function(e,t){var r=t.dataset.productQuantity;return e+(r=parseInt(r))},0);return console.log(t),0!==t});[].concat(j(o),j(a),j(c)).forEach(function(e){t?e.classList.add("hidden"):e.classList.remove("hidden")}),j(s).forEach(function(e){e.classList.add("category__section--show")}),this.toggleNotProductsSelectedMessage(t)}},{key:"toggleNotProductsSelectedMessage",value:function(e){var t=0<arguments.length&&void 0!==e&&e,r=document.querySelector(".products-category"),n=j(r.children).filter(function(e){return e.classList.contains("hidden")});t&&n.length===r.children.length?r.classList.add("without-products"):r.classList.remove("without-products")}},{key:"createCustomProduct",value:function(e){var t=(t=e.productId)||v.b.getRandomID(),r=e.customAttributes["product-name"];e=T(T({},e),{},{productId:t,productName:r,quantity:1,skuId:25,skuIdWithBox:26,skuIdWithoutBox:25,isCustom:!0,assignments:["içamento","embalagem especial"]});var n=C.a.addProduct(e);_.a.dispatch(n);var i=new q(T(T({},e),{},{productId:t,complementName:r}));return this.products[t]=T(T({},e),{},{productId:t,complementName:r}),this.productInstances[t]=i}},{key:"categoriesCollapseSections",value:function(){j(document.querySelectorAll(".category__section")).forEach(function(o){var e=o.querySelector(".section__container"),a=o.querySelector(".category__button-toggle"),u=a.querySelector(".button-toggle__icon");e.addEventListener("click",function(e){var t,r,n=document.querySelector(".category__section--show"),i=o.classList.contains("category__section--show");n&&(r=(t=n.querySelector(".category__button-toggle")).querySelector(".button-toggle__icon"),n.classList.remove("category__section--show"),t.classList.remove("category__button-toggle--open"),r.classList.replace("fa-minus","fa-plus")),i||(o.classList.add("category__section--show"),a.classList.add("category__button-toggle--open"),u.classList.replace("fa-plus","fa-minus"))})})}},{key:"getLiftingSKUs",value:function(){var e=_.a.getState().products;this.getLiftingQuantity();var t="içamento na origem e destino"===this.lifting?this.liftingQuantity/2:this.liftingQuantity,r=[];return"içamento na origem e destino"!==this.lifting&&"içamento no origem"!==this.lifting||(r.push({id:19,skuId:19,seller:1,productId:10,quantity:t}),Object.values(e).forEach(function(e){var t;0<e.quantity&&e.requiresLifting&&(t=C.a.updateLiftingQuantity({productId:e.productId,liftingQuantityOrigin:e.liftingQuantity}),_.a.dispatch(t))})),"içamento na origem e destino"!==this.lifting&&"içamento no destino"!==this.lifting||(r.push({id:698,skuId:698,seller:1,productId:10,quantity:t}),Object.values(e).forEach(function(e){var t;0<e.quantity&&e.requiresLifting&&(t=C.a.updateLiftingQuantity({productId:e.productId,liftingQuantityDestination:e.liftingQuantity}),_.a.dispatch(t))})),r}},{key:"getLiftingQuantity",value:function(){var e=_.a.getState().products;this.liftingQuantity=Object.values(e).filter(function(e){return 0<e.quantity}).reduce(function(e,t){return e+t.liftingQuantity},0),this.liftingQuantity*="içamento na origem e destino"===this.lifting?2:1}},{key:"saveData",value:(f=N(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=_.a.getState(),r=t.products,e.next=4,window.vtexjs.checkout.removeAllItems();case 4:return n=this.getLiftingSKUs(),i=Object.values(r).filter(function(e){return 0!==e.quantity}),o=this.getAdditionalWeightSKU(i),a=this.getDisassemblyAndAssemblySKU(i),r=i.map(function(e){return T(T({},e),{},{seller:1,id:e.skuId})}),e.next=11,this.cartService.checkoutCRUD([].concat(j(r),j(n),[o,a]));case 11:return e.next=13,Promise.all([this.cartService.setSingleCustomDataField("selecteditems","products_data",JSON.stringify(i)),this.cartService.setSingleCustomDataField("orderinfo","current_step","select-items"),this.updateCustomAppInsurance(),this.updateCustomAppSelectedCourier()]);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("saveData",e.t0);case 18:case"end":return e.stop()}},e,this,[[0,15]])})),function(){return f.apply(this,arguments)})},{key:"setHandledButtonContinueClick",value:function(){var o=this,a=document.querySelector(".js-button-continue");a.addEventListener("click",function(e){e.preventDefault();var t=_.a.getState().products,r=Object.values(t);a.classList.add("js-loading");var n=r.some(function(e){return e.requiresLifting}),i=r.some(function(e){return 0<e.quantity});n&&i?o.hoistModalInstance.show():o.handledButtonContinueClick(a)})}},{key:"handledButtonContinueClick",value:(p=N(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.blockProducts(),t.classList.add("button--disabled"),e.next=4,this.saveData();case 4:r=_.a.getState(),n=r.products,0<Object.values(n).filter(function(e){return 0<e.quantity}).length?window.location.assign("/empresa-de-mudanca"):(t.classList.remove("js-loading"),t.classList.remove("button--disabled"),this.unlockProducts(),this.showButtonContinueTooltip(),setTimeout(this.hideButtonContinueTooltip,4e3));case 7:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"showButtonContinueTooltip",value:function(){var e=document.querySelector(".js-button-continue");e.setAttribute("data-balloon-pos","up"),e.setAttribute("data-balloon-visible",!0),e.setAttribute("data-balloon-length","fit"),e.setAttribute("aria-label","Para continuar com a mudança é necessario ter pelo menos 1 item selecionado")}},{key:"hideButtonContinueTooltip",value:function(){var e=document.querySelector(".js-button-continue");e.removeAttribute("aria-label"),e.removeAttribute("data-balloon-pos"),e.removeAttribute("data-balloon-visible"),e.removeAttribute("data-balloon-length")}},{key:"handledButtonSaveClick",value:function(){var r=this,e=document.querySelector(".js-button-save"),n=document.querySelector(".js-button-save-icon"),i=document.querySelector(".js-button-save-icon-loading"),o=document.querySelector(".js-button-continue");e.addEventListener("click",function(){var t=N(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return document.dispatchEvent(window.initSaveCustomDataEvent),r.blockProducts(),n.classList.add("hide"),i.classList.remove("hide"),o.classList.add("button--disabled"),e.next=7,r.saveData();case 7:document.dispatchEvent(window.endSaveCustomDataEvent),r.unlockProducts(),o.classList.remove("button--disabled"),n.classList.remove("hide"),i.classList.add("hide");case 12:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}())}},{key:"blockProducts",value:function(){j(document.querySelectorAll(".section__products")).forEach(function(e){e.classList.add("section__products--locked")})}},{key:"unlockProducts",value:function(){j(document.querySelectorAll(".section__products")).forEach(function(e){e.classList.remove("section__products--locked")})}},{key:"getCategories",value:(d=N(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vtexCatalogService.getAllCategories();case 2:return t=e.sent,r=t.data,n=L(r,1),i=n[0],o=[22],a=i.children.filter(function(e){var t=e.id;return!o.includes(t)}).map(function(e){var t=e.id,r=e.name,n=e.url,i=n.split("/").slice(-1)[0];return{id:t,name:r,url:n,idHTML:i,products:[]}}),e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})},{key:"getProductsByCategories",value:(l=N(regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(this.categories.map(function(){var t=N(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.vtexCatalogService.getAllProductsByCategories(1,t.id);case 2:return r=(r=e.sent).map(function(e){var t=e.productName,r=e.productId,n=e.items,i=e.description,o=e.Features,a=e.Ambientes,u=void 0===a?[]:a,c=e.similar,s=void 0===c?[]:c,l=E(e,["productName","productId","items","description","Features","Ambientes","similar"]),n=n.map(function(e){var t=e.itemId,r=e.images;return{itemId:t,complementName:e.complementName,imageUrl:r[0].imageUrl}}),d=u.map(function(e){return v.b.removeAccents(e).toLowerCase().replace(/\s/g,"-")}),p=s.map(function(e){return v.b.removeAccents(e).toLowerCase().replace(/\s/g,"-")}),f=l["Cobranças Adicionais"]||[];return{items:n,ambients:d,productId:r,productName:t,description:i,assignments:o,similars:p,additionalCharges:f,additionalWeight:f.includes("Peso Adicional")}}),e.abrupt("return",T(T({},t),{},{products:r}));case 5:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}())));case 1:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"createAddCustomProductElement",value:function(){return'\n      <article class="product product--add-custom">\n        <div class="product__container">\n          <i class="fa-question fal product__icon"></i>\n\n          <h2 class="product__title">Não encontrou um item?</h2>\n\n          <p class="product__paragraph">Clique no botão e adicione manualmente.</p>\n        </div>\n\n        <button class="button button--secondary">Adicionar item</button>\n      </article>\n    '}},{key:"createProducts",value:function(e){var r=this;return e=e.map(function(e){var t=e.productId;return r.productInstances[t].render()}).join(""),e+=this.createAddCustomProductElement()}},{key:"createSectionCategories",value:function(){var o=this;return this.categories.map(function(e,t){var r=e.name,n=e.idHTML,i=e.products;return'\n          <section class="category__section '.concat(0===t?"category__section--show":"",'" id="').concat(n,'">\n            <div class="section__container">\n              <h2 class="category__name">').concat(r,'</h2>\n\n              <button class="category__button-toggle ').concat(0===t?"category__button-toggle--open":"",'">\n                <i class="fas button-toggle__icon ').concat(0===t?"fa-minus":"fa-plus",'"></i>\n                \n                <span class="button-toggle__text">\n                  ver menos\n                </span>\n              </button>\n            </div>\n\n            <div class="section__products">\n              ').concat(o.createProducts(i),"\n            </div>\n          </section>\n        ")}).join("")}},{key:"addSectionCategoriesToDOM",value:function(){document.querySelector(".products-category").innerHTML=this.createSectionCategories()}},{key:"getProductstInOrderForm",value:function(){var e,t,c=this,r=this.orderForm.customData;!r||(e=r.customApps.find(function(e){return"selecteditems"===e.id}))&&(t=JSON.parse(e.fields.products_data).reduce(function(e,t){var r,n,i,o={},a=t.productId,u=a in c.products?c.products[a]:{};return t.isCustom&&(r=c.categories[0],n=t.customAttributes["product-name"],i=t.customAttributes["product-category"]||r.idHTML,t.customAttributes["product-category"]=i,o={productName:n,complementName:n,assignments:["içamento","embalagem especial"]}),T(T({},e),{},R({},a,T(T(T({},u),t),o)))},{}),this.products=T(T({},this.products),t))}},{key:"convertCM3ToM3",value:function(e,t,r){return e*t*r/1e6}},{key:"setHandledInputSearchChange",value:function(){var t,o=this,e=document.querySelector(".js-input-search"),r=document.querySelector(".js-button-clear-input-search"),n=document.querySelector(".page__categories"),a=document.querySelector(".ambient"),u=document.querySelector(".js-search-results"),c=u.querySelector(".js-search-query"),s=document.querySelector(".js-search-results-suggestions"),l=document.querySelector(".js-search-results-ambient"),d=document.querySelector(".products-category");e.addEventListener("input",function(e){var i=e.target.value;t&&clearTimeout(t),o.clearResultsProducts(),o.clearResultsSuggestionsProducts(),0<window.scrollY&&window.scrollTo(0,0),""!==i&&1<i.length?(d.classList.add("hide"),n.classList.add("hide"),r.classList.add("search__button-clear--show"),a.classList.add("hide"),u.classList.remove("hide"),l.classList.add("hide"),s.classList.add("hide"),c.textContent="“".concat(i,"”"),t=setTimeout(function(){var e,r,n=Object.values(o.products).filter(function(e){return e.complementName.toLowerCase().includes(i.toLowerCase())}),t=[];0<n.length&&((e=n.find(function(e){return e.similars[0]}))&&(r=e.similars,t=Object.values(o.products).filter(function(t){return!n.find(function(e){return e.productId===t.productId})}).filter(function(t){return r.some(function(e){return t.similars.includes(e)})}))),0<t.length&&s.classList.remove("hide"),o.updateResultsProducts(n),o.updateResultsSuggestionsProducts(t)},500)):(d.classList.remove("hide"),n.classList.remove("hide"),r.classList.remove("search__button-clear--show"),u.classList.add("hide"),s.classList.add("hide"),c.textContent="",o.showHiddenCategoriesAndProducts())})}},{key:"updateResultsProducts",value:function(e,t){var r,n,i=this,o=1<arguments.length&&void 0!==t?t:"";0!==e.length&&(r=document.querySelector("".concat(o," .search-results__products")),n=e.map(function(e){var t=e.productId;return i.productInstances[t].render()}),r.innerHTML=n.join(""),r.innerHTML+=this.createAddCustomProductElement(),e.forEach(function(e){var t=e.productId;return i.productInstances[t].bindEvents()}),r.querySelector(".product--add-custom .button").addEventListener("click",function(){i.addCustomProductModalInstance.show()}))}},{key:"updateResultsSuggestionsProducts",value:function(e){var t,r,n=this;0!==e.length&&(t=document.querySelector(".js-search-results-suggestions .search-results__products"),r=e.map(function(e){var t=e.productId;return n.productInstances[t].render()}),t.innerHTML=r.join(""),e.forEach(function(e){var t=e.productId;return n.productInstances[t].bindEvents()}))}},{key:"clearResultsSuggestionsProducts",value:function(){this.clearResultsProducts(".js-search-results-suggestions")}},{key:"clearResultsProducts",value:function(e){var t=0<arguments.length&&void 0!==e?e:"",r=document.querySelector("".concat(t," .search-results__products"));r.classList.add("empty-search"),r.innerHTML="<p>Desculpe, não encontramos o resultado para sua busca</p>"}},{key:"getCustomsProducts",value:function(e){var t=e%1,r=10*Math.trunc(e);return t&&(r+=parseInt(t.toString().split(".")[1][0],10)),{id:25,seller:1,productId:12,quantity:r=0===r?1:r}}},{key:"updateCustomAppInsurance",value:(s=N(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,u,c,s=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cartService.getCurrent();case 2:if(t=e.sent,r=t.customData){e.next=6;break}return e.abrupt("return");case 6:if(n=r.customApps.filter(function(e){return"insurance"===e.id&&!["skipped","none"].includes(e.fields.items)})[0]){e.next=9;break}return e.abrupt("return");case 9:return i=n.fields.items,o=JSON.parse(i),a=Object.values(o).filter(function(e){return 0<s.products[e.productId].quantity}),u=a.reduce(function(e,t){return T(T({},e),{},R({},t.productId,t))},{}),c=Object.values(a).reduce(function(e,t){return e.add(t.totalInsuranceFormatted)},Object(I.a)("R$ 0,00")),e.next=16,this.cartService.setMultipleCustomDataFields("insurance",{total:c.format(),items:JSON.stringify(u)});case 16:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"updateCustomAppSelectedCourier",value:(c=N(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,u,c,s,l,d,p,f,m,h,v,g,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cartService.getCurrent();case 2:if(t=e.sent,r=t.customData,n=t.items,i=t.totalizers,r){e.next=8;break}return e.abrupt("return");case 8:if(o=i.filter(function(e){return"Shipping"!==e.id}).reduce(function(e,t){return e+t.value},0),a=r.customApps.filter(function(e){return"selectedcourier"===e.id})[0]){e.next=12;break}return e.abrupt("return");case 12:return u=r.customApps.filter(function(e){return"orderinfo"===e.id})[0],c=u.fields.to_address_zipcode,s=n.map(function(e){return{id:e.id,seller:e.seller,quantity:e.quantity}}),l=n.filter(function(e){var t=e.id;return 35===parseInt(t)})[0],d=a.fields.courier_data,p=JSON.parse(d),e.next=20,this.cartService.simulateShipping(s,c);case 20:return f=e.sent,m=(m=f.logisticsInfo).filter(function(e){var t=p.courierIds.split(";");return e.slas=e.slas.filter(function(e){return t.includes(e.deliveryIds[0].courierId)}),e}),p=this.getDeliveryTypes(m,p),h=m.reduce(function(e,t){return e+t.slas.filter(function(e){return e.id===p.deliveryTypeSelected.slaName})[0].price},0),h+=l?o+-l.manualPrice:o,v=this.helper.formatPrice(h),g=p.deliveryTypeSelected,y=p.deliveryTypes,p.deliveryTypeSelected=T(T({},g),{},{price:h,priceFormatted:v}),p.deliveryTypes=y.map(function(e){return e.slaName===g.slaName&&(e=p.deliveryTypeSelected),e}),p=this.orderDeliveryTypesByLessPrice(p),e.next=33,this.cartService.setSingleCustomDataField("selectedcourier","courier_data",JSON.stringify(p));case 33:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"getDeliveryTypes",value:function(e,l){var d=this,p=this.getTransporterVariations(e);return delete l.deliveryType,delete l.deliveryTypes,e[0].slas.forEach(function(e){var t=e.id,r=e.name,n=e.deliveryIds,i=t.toLowerCase().replace(/\s/g,""),o=L(t.split(" - "),2),a=(o[0],o[1]),u=n[0].courierId,c=p[i].price,s=[{price:c,priceFormatted:d.helper.formatPrice(c),id:u,type:a,slaName:r}];l.deliveryTypes?l.deliveryTypes=[].concat(s,j(l.deliveryTypes)):l.deliveryTypes=s}),l}},{key:"getTransporterVariations",value:function(e){var o={};return e.forEach(function(e){e.slas.forEach(function(e){var t=e.id,r=e.price,n=e.name,i=t.toLowerCase().replace(/\s/g,"");o[i]?o[i].price+=r:o[i]={price:r,name:n}})}),o}},{key:"orderDeliveryTypesByLessPrice",value:function(e){return e.deliveryTypes.sort(function(e,t){return e.price-t.price}),e}},{key:"setHandledButtonCleanInputSearchClick",value:function(){var t=this;document.querySelector(".js-button-clear-input-search").addEventListener("click",function(e){return t.clearInputSearch()})}},{key:"clearInputSearch",value:function(){var e=new Event("input",{bubbles:!0}),t=document.querySelector(".js-input-search");t.value="",t.dispatchEvent(e)}},{key:"removeProducts",value:(u=N(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.vtexjs.checkout.removeAllItems();case 2:return e.next=4,this.cartService.removeSingleCustomDataField("insurance","items");case 4:return e.next=6,this.cartService.removeSingleCustomDataField("insurance","total");case 6:return e.next=8,this.cartService.removeSingleCustomDataField("selecteditems","products_data");case 8:return e.next=10,this.cartService.removeSingleCustomDataField("selectedcourier","courier_data");case 10:return e.next=12,this.cartService.removeSingleCustomDataField("orderinfo","lifting_total_price");case 12:return e.next=14,this.cartService.removeSingleCustomDataField("orderinfo","special_packaging_total_price");case 14:_.a.dispatch(C.a.resetProductsQuantity());case 15:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})},{key:"setHandledButtonClearAllClick",value:function(){var t=this,e=document.querySelector(".js-button-clear-all"),r=document.querySelector(".js-button-clear-all-icon"),n=document.querySelector(".js-button-clear-all-icon-loading");e&&e.addEventListener("click",N(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.blockProducts(),r.classList.add("hide"),n.classList.remove("hide"),e.next=5,t.removeProducts();case 5:t.unlockProducts(),r.classList.remove("hide"),n.classList.add("hide");case 8:case"end":return e.stop()}},e)})))}},{key:"getCategoriesAmbientsFromMasterData",value:(a=N(regeneratorRuntime.mark(function e(){var t,r,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,this.masterdataRepository.search("_where=category_active=Sim&_fields=".concat("category_name,category_description,category_image,category_id,id"));case 4:return t=e.sent,r=t.map(function(){var t=N(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.masterdataRepository.getAttachmentUrl(t.id,"category_image",t.category_image);case 2:return t.category_image_url=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),e.abrupt("return",Promise.all(r));case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}},e,this,[[1,9]])})),function(){return a.apply(this,arguments)})},{key:"createCategoryAmbientElement",value:function(e){var t=e.category_id,r=e.category_name,n=e.category_image_url;return'\n      <section class="category" data-category-ambient-id="'.concat(t.toLowerCase(),'">\n        <div class="category__container">\n          <figure class="category__figure">\n            <img \n              class="category__img"\n              src="').concat(n,'"\n              alt="').concat(r,'"\n            />\n          </figure>\n          \n          <h4 class="category__name">').concat(r,"</h4>\n        </div>\n      </section>\n    ")}},{key:"addCategoriesAmbientToDOM",value:function(){var e,t=document.querySelector(".page__categories .categories__items");t&&(e=this.categoriesAmbients.map(this.createCategoryAmbientElement).join(""),t.innerHTML=e,Object(h.a)({container:".page__categories .categories__items",items:5,slideBy:"page",autoplay:!1,controls:!1,center:!1,autoWidth:!0,nav:!1,loop:!1,preventScrollOnTouch:"auto"}))}},{key:"setHandledCategoriesAmbientClick",value:function(){var n=this,i=document.querySelector(".products-category"),o=document.querySelector(".js-search-results-ambient");j(document.querySelector(".page__categories .categories__items").children).forEach(function(r){r.addEventListener("click",function(){var t=r.dataset.categoryAmbientId;n.clearInputSearch(),n.updateAmbientElement(t),n.clearResultsProducts(".js-search-results-ambient"),document.querySelectorAll(".category__section").forEach(function(e){j(e.querySelectorAll(".product:not(.product--add-custom)")).forEach(function(e){e.dataset.productCategoriesAmbients.includes(t)||e.classList.add("hide")}),0===e.querySelectorAll(".product:not(.hide):not(.product--add-custom)").length&&e.classList.add("hide")});var e=j(document.querySelectorAll(".product:not(.hide):not(.product--add-custom)")).map(function(e){return{productId:e.dataset.productId}});i.classList.add("hide"),o.classList.remove("hide"),n.updateResultsProducts(e,".js-search-results-ambient")})})}},{key:"updateAmbientElement",value:function(t){var e=this.categoriesAmbients.find(function(e){return e.category_id===t}),r=document.querySelector(".page__categories"),n=document.querySelector(".ambient"),i=n.querySelector(".ambient__image"),o=n.querySelector(".ambient__name"),a=n.querySelector(".ambient__description");i.style.backgroundImage="url(".concat(e.category_image_url,")"),o.textContent=e.category_name,a.textContent="-"!==e.category_description?e.category_description:"",r.classList.add("hide"),n.classList.remove("hide")}},{key:"setHandledAmbientButtonBackClick",value:function(){var e=this,t=document.querySelector(".page__categories"),r=document.querySelector(".ambient"),n=document.querySelector(".js-ambient-button-back"),i=document.querySelector(".products-category"),o=document.querySelector(".js-search-results-ambient");n.addEventListener("click",function(){e.clearResultsProducts(".js-search-results-ambient"),t.classList.remove("hide"),i.classList.remove("hide"),r.classList.add("hide"),o.classList.add("hide"),e.showHiddenCategoriesAndProducts()})}},{key:"showHiddenCategoriesAndProducts",value:function(){[].concat(j(document.querySelectorAll(".category__section.hide")),j(document.querySelectorAll(".category__section .product.hide"))).forEach(function(e){e.classList.remove("hide")})}},{key:"getUserMoveSaveList",value:(o=N(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=null===(t=this.orderForm.customData)||void 0===t?void 0:t.customApps.find(function(e){return"orderinfo"===e.id})){e.next=4;break}return e.abrupt("return");case 4:if("custom list"===(n=r.fields.moveListSaveSelected))return e.abrupt("return");e.next=7;break;case 7:return e.next=9,this.moveListSaveRepository.getListByDocumentId(n);case 9:if(this.userMoveSaveList=e.sent,this.userMoveSaveList.hasOwnProperty("id")){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,this.updateProductsWithUserMoveSaveListProducts();case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),this.userMoveSaveList=null;case 19:case"end":return e.stop()}},e,this,[[0,16]])})),function(){return o.apply(this,arguments)})},{key:"updateProductsWithUserMoveSaveListProducts",value:(i=N(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=this.userMoveSaveList)&&void 0!==t&&t.isTemplate)return e.abrupt("return");e.next=2;break;case 2:return e.t0=this,e.next=5,this.removeProducts();case 5:return e.t1=e.sent,e.t0.updateOrderForm.call(e.t0,e.t1),r=JSON.parse(this.userMoveSaveList.listItems),n=r.map(function(e){var t=e.skuId;return{quantity:e.quantity,id:t,seller:1}}),e.t2=this,e.next=12,this.cartService.setSingleCustomDataField("selecteditems","products_data",this.userMoveSaveList.listItems);case 12:return e.t3=e.sent,e.t2.updateOrderForm.call(e.t2,e.t3),e.t4=this,e.next=17,vtexjs.checkout.addToCart(n);case 17:e.t5=e.sent,e.t4.updateOrderForm.call(e.t4,e.t5);case 19:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"showOnlyUserMoveSaveListProducts",value:function(){this.userMoveSaveList.hasOwnProperty("id")&&(document.querySelector("#show-select-products").checked=!0,this.handledToggleSelectedProducts(!0))}},{key:"getAdditionalWeightSKU",value:function(e){return{id:696,seller:1,quantity:e.filter(function(e){return e.additionalWeight}).reduce(function(e,t){return e+t.quantity},0)}}},{key:"getDisassemblyAndAssemblySKU",value:function(e){return{id:699,seller:1,quantity:e.filter(function(e){var t=e.requiresAssembly,r=e.requiresDisassembly;return t&&r}).reduce(function(e,t){return e+t.quantity},0)}}}])&&B(t.prototype,r),n&&B(t,n),e}();document.addEventListener("DOMContentLoaded",function(){window.SelectItems=new F})},vq04:function(e,t,r){"use strict";var n=r("ANjH"),i=r("sHwd"),o=r("gn+B"),a=Object(n.b)({user:o.b,products:i.b}),u=Object(n.c)(a);t.a=u},x7Xd:function(e,t,r){"use strict";t.a='\n  <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M0 6C0 2.68629 2.68629 0 6 0C7.5913 0 9.11742 0.632141 10.2426 1.75736C11.3679 2.88258 12 4.4087 12 6C12 9.31371 9.31371 12 6 12C2.68629 12 0 9.31371 0 6ZM1.2 6C1.2 3.34903 3.34903 1.2 6 1.2C7.27304 1.2 8.49394 1.70571 9.39411 2.60589C10.2943 3.50606 10.8 4.72696 10.8 6C10.8 8.65097 8.65097 10.8 6 10.8C3.34903 10.8 1.2 8.65097 1.2 6Z" fill="#FF8B30"></path>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.52477 5.64858C7.72699 5.46695 7.87409 5.23299 7.94956 4.97301C8.05495 4.58422 7.99364 4.16952 7.78013 3.82707C7.60505 3.5515 7.34669 3.33775 7.04189 3.21631C6.68197 3.06803 6.2952 2.99452 5.90549 3.00032C5.63943 3.00597 5.37643 3.05796 5.12853 3.15391C4.75729 3.28709 4.43681 3.53107 4.21118 3.85227C4.07715 4.0425 4.0038 4.26822 4.0006 4.50024C3.99377 4.63501 4.0458 4.76617 4.1434 4.86022C4.21592 4.92734 4.3069 4.97161 4.40481 4.98741C4.62739 5.0486 4.86425 4.95914 4.98935 4.76662C5.044 4.6796 5.09015 4.58752 5.13634 4.49538C5.15765 4.45285 5.17897 4.41031 5.20114 4.36825C5.28213 4.18262 5.43733 4.03874 5.62956 3.97107C5.80481 3.91797 5.99041 3.90768 6.17053 3.94107C6.28851 3.95991 6.40065 4.00504 6.4985 4.07306C6.76959 4.26265 6.81921 4.69103 6.66067 4.95262C6.54468 5.12612 6.39836 5.27769 6.22862 5.40019C6.00095 5.56231 5.78795 5.74379 5.59204 5.94256C5.42347 6.11621 5.32636 6.346 5.31974 6.58693C5.30676 6.7854 5.40487 6.97489 5.5751 7.0801C5.67734 7.14064 5.79691 7.16595 5.91517 7.1521C6.09844 7.15241 6.26297 7.04079 6.32907 6.87131C6.36054 6.79772 6.39281 6.72092 6.42589 6.64093C6.46471 6.53352 6.53052 6.4377 6.6171 6.36254C6.7466 6.26175 6.87609 6.16095 7.00801 6.06496C7.19053 5.93918 7.36327 5.8 7.52477 5.64858ZM5.1842 8.35083C5.1842 8.70936 5.47733 9 5.83893 9C6.01257 9 6.17911 8.93161 6.30189 8.80986C6.42468 8.68812 6.49366 8.523 6.49366 8.35083C6.49366 7.99231 6.20053 7.70167 5.83893 7.70167C5.47733 7.70167 5.1842 7.99231 5.1842 8.35083Z" fill="#FF8B30"></path>\n  </svg>\n'},x9ji:function(e,t,r){"use strict";r("07d7"),r("5s+n"),r("ls82");var o=r("m/Gl"),a=r("jmbs");function c(e,t,r,n,i,o,a){try{var u=e[o](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,i)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._logger=new a.c("httpClient")}var t,r,n,u,i;return t=e,(r=[{key:"get",value:function(e){if(!a.a.isUndefined(e))return this._execute(e,"GET")}},{key:"delete",value:function(e){if(!a.a.isUndefined(e))return this._execute(e,"DELETE")}},{key:"post",value:function(e,t){var r=1<arguments.length&&void 0!==t?t:{};if(!a.a.isUndefined(e))return this._execute(e,"POST",r)}},{key:"put",value:function(e,t){if(!a.a.isUndefined(e)&&!a.a.isUndefined(t))return this._execute(e,"PUT",t)}},{key:"patch",value:function(e,t){if(!a.a.isUndefined(e)&&!a.a.isUndefined(t))return this._execute(e,"PATCH",t)}},{key:"_execute",value:function(e,t,r){var n=this,i={method:t,headers:{accept:"application/vnd.vtex.masterdata.v10+json","content-type":"application/json; charset=utf-8"}};return r&&(i.body=JSON.stringify(r)),Object(o.a)(e,i).then(this.validateResponse).then(this.parseResponseToJson).then(function(e){return e}).catch(function(e){return n._logger.log("Request succeeded with JSON response",e),e})}},{key:"parseResponseToJson",value:(u=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,t.json();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}),i=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=u.apply(e,a);function i(e){c(n,t,r,i,o,"next",e)}function o(e){c(n,t,r,i,o,"throw",e)}i(void 0)})},function(e){return i.apply(this,arguments)})},{key:"validateResponse",value:function(e){return e.ok?Promise.resolve(e):Promise.reject(new Error(e.statusText))}}])&&s(t.prototype,r),n&&s(t,n),e}();t.a=n},xcBl:function(e,t,r){"use strict";r.d(t,"a",function(){return n});r("pNMO"),r("4Brf"),r("0oug"),r("4mDm"),r("NBAS"),r("07d7"),r("5s+n"),r("SuFq"),r("rB9j"),r("JfAA"),r("PKPk"),r("hByQ"),r("3bBZ"),r("Kz25"),r("ls82");var d=r("8/Qm");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,r,n,i,o,a){try{var u=e[o](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,i)}function p(u){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=u.apply(e,a);function i(e){c(n,t,r,i,o,"next",e)}function o(e){c(n,t,r,i,o,"throw",e)}i(void 0)})}}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,i=s(o);return t=a?(e=s(this).constructor,Reflect.construct(i,arguments,e)):i.apply(this,arguments),r=this,!(n=t)||"object"!==u(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var n=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(l,d["a"]);var e,t,r,n,i,o,a,u,c,s=h(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),s.call(this,"LS")}return e=l,(t=[{key:"addList",value:(c=p(regeneratorRuntime.mark(function e(t,r,n,i){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o="".concat(this._VTEX_MASTERDATA_ENDPOINT,"/documents"),Array.isArray(i)&&(i=JSON.stringify(i)),e.abrupt("return",this.httpClient_.post(o,{listName:t,listDate:n,listEmail:r,listItems:i}));case 3:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return c.apply(this,arguments)})},{key:"getListByQuery",value:(u=p(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=1<i.length&&void 0!==i[1]?i[1]:["id","listName","listEmail","homeType","homeSize","listDate","listItems","isTemplate"],(n=new URLSearchParams).append("_where",t),n.append("_fields","".concat(r)),console.log(n),e.abrupt("return",this.search(n));case 6:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"getAllListsByEmail",value:(a=p(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=1<i.length&&void 0!==i[1]?i[1]:["id","listName","listEmail","listDate","homeType","homeSize","listItems","isTemplate"],(n=new URLSearchParams).append("_where","(listEmail=".concat(t," AND isTemplate=false)")),n.append("_fields","".concat(r)),e.abrupt("return",this.search(n));case 5:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"getAllListsTemplates",value:(o=p(regeneratorRuntime.mark(function e(){var t,r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:["id","listName","listRooms","listExcerpt","listDescription"],(r=new URLSearchParams).append("_where","isTemplate=true"),r.append("_fields","".concat(t)),e.abrupt("return",this.search(r));case 5:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"getListByDocumentId",value:(i=p(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=1<n.length&&void 0!==n[1]?n[1]:["id","listName","listDate","listItems","listRooms","homeType","homeSize","listExcerpt","listDescription","isTemplate"],(new URLSearchParams).append("_fields","".concat(r)),e.abrupt("return",this.getByDocumentIdWithFields(t,r));case 4:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"deleteListByDocumentId",value:(n=p(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.delete(t));case 1:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})}])&&f(e.prototype,t),r&&f(e,r),l}()}},[[15,0,2]]]);
//# sourceMappingURL=b8one.mobile.selectItems.js.map