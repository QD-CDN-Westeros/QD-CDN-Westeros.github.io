(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"/mdI":function(e,t,n){"use strict";n.d(t,"a",function(){return o});n("pNMO"),n("4Brf"),n("0oug"),n("ma9I"),n("QWBl"),n("pjDv"),n("4mDm"),n("07d7"),n("5s+n"),n("JfAA"),n("PKPk"),n("FZtP"),n("3bBZ"),n("Kz25"),n("ls82");var r=n("vDqi"),c=n.n(r);function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function d(u){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=u.apply(e,i);function o(e){l(r,t,n,o,a,"next",e)}function a(e){l(r,t,n,o,a,"throw",e)}o(void 0)})}}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=c.a.create({baseURL:"".concat(e,"/api/catalog_system")})}var e,n,r,o,a,i,u;return e=t,(n=[{key:"getProductsByCategories",value:(u=d(regeneratorRuntime.mark(function e(t,n){var r,o,a,i,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=2<u.length&&void 0!==u[2]?u[2]:0,o=3<u.length&&void 0!==u[3]?u[3]:49,a=4<u.length&&void 0!==u[4]?u[4]:["OrderByNameASC"],e.prev=3,(i=new URLSearchParams).append("_to",o),i.append("_from",r),i.append("fq","C:/".concat(t,"/").concat(n)),a.forEach(function(e){return i.append("O",e)}),e.next=11,this.api.get("/pub/products/search",{params:i});case 11:return e.abrupt("return",e.sent);case 14:e.prev=14,e.t0=e.catch(3),console.error("Error in VtexCatalogService on method getProductsByCategories",e.t0);case 17:return e.abrupt("return");case 18:case"end":return e.stop()}},e,this,[[3,14]])})),function(e,t){return u.apply(this,arguments)})},{key:"getAllProductsByCategories",value:(i=d(regeneratorRuntime.mark(function e(t,n){var r,o,a,i,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=[],o=0,a=49;case 4:return e.next=7,this.getProductsByCategories(t,n,o,a);case 7:if(i=e.sent,u=i.data,c=i.status,o=a+1,a=2*a+1,r=[].concat(s(r),s(u)),200===c)return e.abrupt("break",17);e.next=15;break;case 15:e.next=4;break;case 17:return e.abrupt("return",r);case 20:e.prev=20,e.t0=e.catch(0),console.error("Error in VtexCatalogService on method getAllProductsByCategories",e.t0);case 23:return e.abrupt("return");case 24:case"end":return e.stop()}},e,this,[[0,20]])})),function(e,t){return i.apply(this,arguments)})},{key:"getAllCategories",value:(a=d(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.get("/pub/category/tree/1");case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error("Error in VtexCatalogService on method getAllCategories",e.t0);case 9:return e.abrupt("return");case 10:case"end":return e.stop()}},e,this,[[0,6]])})),function(){return a.apply(this,arguments)})},{key:"getProductVariations",value:(o=d(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.get("/pub/products/variations/".concat(t));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error("Error in VtexCatalogService on method getProductVariations",e.t0);case 9:return e.abrupt("return");case 10:case"end":return e.stop()}},e,this,[[0,6]])})),function(e){return o.apply(this,arguments)})}])&&p(e.prototype,n),r&&p(e,r),t}()},7:function(e,t,n){n("ETki"),e.exports=n("Q5xl")},ETki:function(e,t,n){"use strict";n.r(t);n("pNMO"),n("4Brf"),n("0oug"),n("ma9I"),n("TeQF"),n("QWBl"),n("pjDv"),n("yq1k"),n("4mDm"),n("2B1R"),n("E9XD"),n("T63A"),n("5DmW"),n("27RR"),n("tkto"),n("07d7"),n("5s+n"),n("JfAA"),n("JTJg"),n("PKPk"),n("FZtP"),n("3bBZ"),n("ls82");var c=n("bJim"),u=n("rdEv"),s=n("/mdI");function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){v(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function p(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function m(u){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=u.apply(e,i);function o(e){f(r,t,n,o,a,"next",e)}function a(e){f(r,t,n,o,a,"throw",e)}o(void 0)})}}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(){function t(){var e=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,"eventHandlerBinds",function(){e.setHandledButtonSave(),e.setHandledFormsChange()}),this.cartService=new u.a,this.vtexCatalogService=new s.a,this.customSelectInstances=[],this.isToAddressUnknown=!1,this.init()}var e,n,r,o,a,i;return e=t,(n=[{key:"init",value:(i=m(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.eventHandlerBinds(),this.createCustomSelect(),this.setHandledButtonUnknownAddressClick(),e.next=5,this.getAddressData();case 5:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"setHandledButtonSave",value:function(){var n=this,e=document.querySelector(".js-button-save"),r=document.querySelector(".button--primary");e.addEventListener("click",function(){var t=m(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return document.dispatchEvent(window.initSaveCustomDataEvent),e.next=3,n.saveData();case 3:document.dispatchEvent(window.endSaveCustomDataEvent);case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),r.addEventListener("click",function(){var t=m(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.classList.toggle("js-loading"),e.next=3,n.saveData();case 3:n.validateForms()&&(r.classList.toggle("js-loading"),window.location.assign("/seguro-info")),r.classList.toggle("js-loading");case 5:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}())}},{key:"getAddressFieldsForOrderInfo",value:function(){var a=this,i={to_address_name:"Sem Endereço",to_address_number:"Sem Numero",to_address_county:"Sem Bairro"};return p(document.forms).filter(function(e){return e.classList.contains("address__form")}).reduce(function(e,t){var n=p(t.elements).filter(function(e){var t=e.type,n=e.classList,r=e.value,o=e.id;return(!n.contains("js-address-complement-to")||""!==r)&&(!!o&&"button"!==t)}).reduce(function(e,t){var n=t.id,r=t.value,o=t.checked;return a.isToAddressUnknown&&i.hasOwnProperty(n)&&(r=i[n]),d({},e,v({},n,o||r))},{});return d({},e,v({},t.classList.contains("js-address-from")?"from_address":"to_address",n))},{})}},{key:"getAddressForOrderForm",value:function(e){var n=e.to_address,r={to_city:"city",to_state:"state",to_address_name:"street",to_address_complement:"complement",to_address_county:"neighborhood",to_address_number:"number",to_address_zipcode:"postalCode"};return Object.keys(n).filter(function(e){return r.hasOwnProperty(e)}).reduce(function(e,t){return d({},e,v({},r[t],n[t]))},{addressType:"residential"})}},{key:"saveData",value:(a=m(regeneratorRuntime.mark(function e(){var t,n,r,o,a,i,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.getAddressFieldsForOrderInfo(),n=this.getAddressForOrderForm(t),r=document.querySelector("#store-items-change"),o=document.querySelector(".js-address-from-home-type"),a=document.querySelector(".js-address-to-home-type"),i={current_step:"address",user_need_storage:r.checked,home_type:o.value,from_home_type:o.value,to_home_type:a.value},u=d({},i,{},t),c=Object.entries(u).reduce(function(e,t){var n=l(t,2),r=n[0],o=n[1];return e=["from_address","to_address"].includes(r)?[].concat(p(e),p(Object.entries(o))):[].concat(p(e),[[r,o]])},[]).filter(function(e){var t=l(e,2);t[0];return""!==t[1]}),s=c.reduce(function(e,t){var n=l(t,2);return d({},e,v({},n[0],n[1]))},{}),e.next=12,Promise.all([this.cartService.updateCheckoutAddress(n),this.cartService.setMultipleCustomDataFields("orderinfo",s)]);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 18:case"end":return e.stop()}},e,this,[[0,14]])})),function(){return a.apply(this,arguments)})},{key:"createCustomSelect",value:function(){var u=this;p(document.querySelectorAll(".address__select-custom")).forEach(function(e,t){var n=e.querySelector(".select__native"),r=e.querySelector(".select__custom"),o=e.querySelector(".select__list"),a=e.querySelector(".select__custom-selected"),i=new c.a({selectElement:n,customSelectList:o,customSelectSelected:a,customSelectListItemClassName:"",customSelectListItemClassNameActive:"active",selectOpenCallback:function(){u.customSelectInstances.forEach(function(e){e.close()});var e=o.offsetHeight;r.classList.add("select__custom--open"),r.style.maxHeight="".concat(e,"px")},selectCloseCallback:function(){r.classList.remove("select__custom--open"),r.style.maxHeight=0}});u.customSelectInstances.push(i)})}},{key:"getAddressData",value:(o=m(regeneratorRuntime.mark(function e(){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cartService.getCurrent();case 2:if(t=e.sent,n=t.customData){e.next=6;break}return e.abrupt("return");case 6:o=document.querySelector("#store-items-change"),n.customApps.filter(function(e){return"orderinfo"===e.id}).forEach(function(e){Object.entries(e.fields).forEach(function(e){var t=l(e,2),n=t[0],r=t[1];if("user_need_storage"===n)"true"==r.toLowerCase()&&(o.checked=r);else if(n.includes("from_")||n.includes("to_")){document.getElementById(n).value=r}})}),this.customSelectInstances.forEach(function(e){e.setCurrentSelectedItem()});case 9:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"handledFormChange",value:function(e){e.addEventListener("change",function(e){e.target.classList.remove("address__input--invalid")})}},{key:"setHandledFormsChange",value:function(){var t=this;p(document.forms).forEach(function(e){return t.handledFormChange(e)})}},{key:"validateForms",value:function(){return!p(document.forms).map(function(t){return 0===p(t.elements).filter(function(e){return""===e.value&&e.required}).map(function(e){return e.classList.add("address__input--invalid"),t.noValidate=!0,e}).length&&(t.noValidate=!1),t.checkValidity()&&!t.noValidate}).includes(!1)}},{key:"setHandledButtonUnknownAddressClick",value:function(){var a=this,i=document.querySelector(".js-address-to .address__button");i.addEventListener("click",function(e){i.classList.toggle("address__button--mini-active"),a.isToAddressUnknown=!a.isToAddressUnknown;var t=document.getElementById("to_address_name"),n=document.getElementById("to_address_zipcode"),r=document.getElementById("to_address_county"),o=document.getElementById("to_address_number");[t,r,o,n].forEach(function(e){e.parentElement.classList.toggle("address__field--required")}),[t,r,o,n].forEach(function(e){e.toggleAttribute("required"),e.toggleAttribute("disabled")})})}}])&&h(e.prototype,n),r&&h(e,r),t}();document.addEventListener("DOMContentLoaded",function(e){new o})},Q5xl:function(e,t){},RDzO:function(e,t,n){"use strict";n("pNMO"),n("4Brf"),n("0oug"),n("QWBl"),n("pjDv"),n("4mDm"),n("07d7"),n("JfAA"),n("PKPk"),n("FZtP"),n("3bBZ");function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isUndefined",value:function(e){var t=0<arguments.length&&void 0!==e?e:void 0;return null==t||""===t||t==={}||t===[]}},{key:"isInputValid",value:function(e){return!this.isUndefined(e)&&e.checkValidity()}},{key:"hasProps",value:function(e,t){return this.getMissingProps(e,t).length<=0}},{key:"getMissingProps",value:function(t,e){var n=[];return o(e).forEach(function(e){e in t||n.push(e)}),n}}],(n=null)&&a(t.prototype,n),r&&a(t,r),e}();t.a=r},bJim:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n("pNMO"),n("4Brf"),n("0oug"),n("QWBl"),n("pjDv"),n("yq1k"),n("4mDm"),n("07d7"),n("JfAA"),n("JTJg"),n("PKPk"),n("SYor"),n("FZtP"),n("3bBZ");function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function s(e){var t=e.selectElement,n=e.customSelectList,r=e.customSelectSelected,o=e.customSelectListItemClassName,a=e.customSelectListItemClassNameActive,i=e.selectChangeCallback,u=e.selectOpenCallback,c=e.selectCloseCallback;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.isOpen=!1,this.selectElement=t instanceof Element?t:document.querySelector(t),this.customSelectList=n instanceof Element?n:document.querySelector(n),this.customSelectSelected=r instanceof Element?r:document.querySelector(r),this.selectChangeCallback=i||new Function,this.selectOpenCallback=u||new Function,this.selectCloseCallback=c||new Function,this.customSelectListItemClassName=o||"",this.customSelectListItemClassNameActive=a||"",this.setCurrentSelectedItem(),this.createSelectList(),this.setListenerForCurrentSelected()}var e,t,n;return e=s,(t=[{key:"setCurrentSelectedItem",value:function(){var e=this.selectElement,t=e.options,n=e.selectedIndex;this.customSelectSelected.textContent=t[n].textContent}},{key:"handleSelectChange",value:function(e){var t=this.selectElement.value,n=e.dataset.value,r=this.customSelectList.querySelector(".".concat(this.customSelectListItemClassNameActive));r&&r.classList.remove(this.customSelectListItemClassNameActive),e.classList.add(this.customSelectListItemClassNameActive),this.close(),t!==n&&this.changeOption(n)}},{key:"createSelectList",value:function(){var n=this;r(this.selectElement).forEach(function(e){var t=document.createElement("li");t.setAttribute("class",n.customSelectListItemClassName),t.dataset.value=e.value,t.textContent=e.textContent.trim(),t.addEventListener("click",function(e){var t=e.target;return n.handleSelectChange(t)}),n.customSelectList.append(t)})}},{key:"setListenerForCurrentSelected",value:function(){var t=this;this.customSelectSelected.addEventListener("click",function(){t.open(),document.body.addEventListener("click",function(e){e.target.className.includes("custom-select")||t.close()})})}},{key:"open",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;this.isOpen=!0,this.selectOpenCallback(t),this.customSelectList.classList.add("open")}},{key:"close",value:function(){this.isOpen=!1,this.selectCloseCallback(),this.customSelectList.classList.remove("open")}},{key:"changeOption",value:function(e){this.selectElement.value=e;var t=new Event("change",{bubbles:!0});this.selectElement.dispatchEvent(t),this.setCurrentSelectedItem(),this.selectChangeCallback({value:e})}}])&&o(e.prototype,t),n&&o(e,n),s}()},jmbs:function(e,t,n){"use strict";n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return u});var r=n("RDzO");n("ma9I"),n("TeQF"),n("yq1k"),n("oVuX"),n("sMBO"),n("toAj"),n("07d7"),n("TWNs"),n("rB9j"),n("JfAA"),n("JTJg"),n("UxlC"),n("EnZy");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._logger=new u("Ensure"),this.props=e||{language:navigator.language||navigator.userLanguage,currency:"BRL",currencyLocale:"pt-br",minimumFractionDigits:2}}var e,n,r;return e=t,r=[{key:"getParents",value:function(e,t){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;0<=--n&&t.item(n)!==this;);return-1<n});for(var n=[];e&&e!==document;e=e.parentNode)(!t||e.matches(t))&&n.push(e);return n}},{key:"serializeForm",value:function(e){for(var t=[],n=0;n<e.elements.length;n++){var r=e.elements[n];if(r.name&&!r.disabled&&"file"!==r.type&&"reset"!==r.type&&"submit"!==r.type&&"button"!==r.type)if("select-multiple"===r.type)for(var o=0;o<r.options.length;o++)r.options[o].selected&&t.push(encodeURIComponent(r.name)+"="+encodeURIComponent(r.options[o].value));else("checkbox"!==r.type&&"radio"!==r.type||r.checked)&&t.push(encodeURIComponent(r.name)+"="+encodeURIComponent(r.value))}return t.join("&")}},{key:"getFormData",value:function(e){for(var t={},n=0;n<e.elements.length;n++){var r=e.elements[n];if(r.name&&!r.disabled&&"file"!==r.type&&"reset"!==r.type&&"submit"!==r.type&&"button"!==r.type)if("select-multiple"===r.type)for(var o=0;o<r.options.length;o++)r.options[o].selected&&(t[r.name]=r.options[o].value);else("checkbox"!==r.type&&"radio"!==r.type||r.checked)&&(t[r.name]=r.value)}return t}},{key:"getRandomID",value:function(){return"_"+Math.random().toString(36).substr(2,9)}},{key:"setCookie",value:function(e,t,n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var o="expires="+r.toUTCString();document.cookie="".concat(e,"=").concat(t,";").concat(o,";path=/")}},{key:"getCookie",value:function(t){return decodeURIComponent(document.cookie).split(";").filter(function(e){return e.includes(t)})[0]||""}},{key:"isInViewport",value:function(e){var t=window.innerHeight||document.documentElement.clientHeight,n=window.innerWidth||document.documentElement.clientWidth,r=e.getBoundingClientRect(),o=r.top,a=r.right,i=r.bottom,u=r.left;return 0<=o&&0<=u&&i<=t&&a<=n}},{key:"removeAccents",value:function(e){var t={a:"á|à|ã|â|À|Á|Ã|Â",e:"é|è|ê|É|È|Ê",i:"í|ì|î|Í|Ì|Î",o:"ó|ò|ô|õ|Ó|Ò|Ô|Õ",u:"ú|ù|û|ü|Ú|Ù|Û|Ü",c:"ç|Ç",n:"ñ|Ñ"};for(var n in t)e=e.replace(new RegExp(t[n],"g"),n);return e}}],(n=[{key:"formatPrice",value:function(e){return e=(+(e/=100)).toFixed(Math.max(0,~~this.props.minimumFractionDigits)),new Intl.NumberFormat(this.props.currencyLocale,{style:"currency",currency:this.props.currency,minimumFractionDigits:this.props.minimumFractionDigits}).format(e)}}])&&o(e.prototype,n),r&&o(e,r),t}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"B8ONE Logger Component";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.logName=e}var e,n,r;return e=t,(n=[{key:"error",value:function(e,t){var n=0<arguments.length&&void 0!==e?e:"",r=1<arguments.length&&void 0!==t?t:{};console.error(n,r)}},{key:"info",value:function(e){var t=0<arguments.length&&void 0!==e?e:"";console.info(t)}},{key:"warning",value:function(e){var t=0<arguments.length&&void 0!==e?e:"";console.warn(this.logName,t)}},{key:"log",value:function(e){var t=0<arguments.length&&void 0!==e?e:"";console.log(t)}},{key:"log",value:function(e,t){var n=0<arguments.length&&void 0!==e?e:"",r=1<arguments.length&&void 0!==t?t:{};console.log(n,r)}}])&&i(e.prototype,n),r&&i(e,r),t}()},rdEv:function(e,t,n){"use strict";n("pNMO"),n("4Brf"),n("0oug"),n("ma9I"),n("TeQF"),n("x0AG"),n("QWBl"),n("pjDv"),n("yq1k"),n("4mDm"),n("2B1R"),n("E9XD"),n("5DmW"),n("27RR"),n("tkto"),n("07d7"),n("B6y2"),n("5s+n"),n("JfAA"),n("JTJg"),n("PKPk"),n("FZtP"),n("3bBZ"),n("ls82");var b=n("jmbs"),k=n("x9ji");function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function I(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function C(u){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=u.apply(e,i);function o(e){c(r,t,n,o,a,"next",e)}function a(e){c(r,t,n,o,a,"throw",e)}o(void 0)})}}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._VTEX_API_ENDPOINT="/api/checkout/pub/orderForm",this._logger=new b.c("Cart service"),this._httpClient=new k.a}var t,n,r,o,a,i,u,c,s,l,d,p,f,m,h,v,y,g;return t=e,(n=[{key:"getCurrent",value:(g=C(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._httpClient.get(this._VTEX_API_ENDPOINT);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"add",value:(y=C(regeneratorRuntime.mark(function e(t,n){var r,o,a,i,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<c.length&&void 0!==c[2]?c[2]:1,b.a.isUndefined(t)){e.next=10;break}return e.next=4,this.getCurrent();case 4:return o=e.sent,-1<(a=o.items.findIndex(function(e){return e.id===t}))&&(n=parseInt(n)+parseInt(o.items[a].quantity)),i="".concat(this._VTEX_API_ENDPOINT,"/").concat(o.orderFormId,"/items"),u={orderItems:[{seller:r.toString(),quantity:parseInt(n),id:t.toString()}]},e.abrupt("return",this._httpClient.patch(i,u));case 10:case"end":return e.stop()}},e,this)})),function(e,t){return y.apply(this,arguments)})},{key:"checkoutCRUD",value:(v=C(regeneratorRuntime.mark(function e(t){var n,a,r,o,i,u,c,s,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.vtexjs.checkout.getOrderForm();case 2:if(n=e.sent,a=n.items,r=this.getCustomProducts(t),t=t.filter(function(e){return!e.isCustom}),t=[].concat(I(t),I(r)),o=[19,698,25,26],0<(i=a.reduce(function(e,t,n){return[25,26].includes(parseInt(t.id))?[].concat(I(e),[n]):e},[])).length)return e.next=12,this.removeMoreProducts(i);e.next=14;break;case 12:(u=e.sent)&&(a=u.items);case 14:if(c=t.filter(function(e){return 0<e.quantity}).filter(function(t){return-1===a.findIndex(function(e){return parseInt(e.productId)===parseInt(t.productId)})&&0<t.quantity}).map(function(e){return{quantity:e.quantity,seller:1,id:e.skuId||e.id}}),console.log("productsToAdd",c),s=t.filter(function(e){return 0<e.quantity}).filter(function(e){var t=e.skuId||e.id,n=a.findIndex(function(e){return parseInt(e.id)===parseInt(t)});if(-1===n)return!1;var r=parseInt(a[n].id)===parseInt(e.id),o=parseInt(a[n].quantity)!==parseInt(e.quantity);return r&&o&&0<e.quantity}).map(function(e){var t=e.skuId||e.id;return{index:a.findIndex(function(e){return parseInt(e.id)===parseInt(t)}),quantity:e.quantity}}),console.log("productsToUpdate",s),l=t.filter(function(e){return 0<e.quantity&&!o.includes(parseInt(e.skuId||e.id))}).filter(function(t){var e=a.findIndex(function(e){return parseInt(e.productId)===parseInt(t.productId)});return-1!==e&&parseInt(a[e].id)!==parseInt(t.skuId)}).map(function(t){return[{index:a.findIndex(function(e){return parseInt(e.productId)===parseInt(t.productId)}),seller:1,quantity:0},{seller:1,id:t.skuId,quantity:t.quantity}]}).reduce(function(e,t){var n=x(t,2),r=n[0],o=n[1];return[].concat(I(e),[r,o])},[]),console.log("productsToReplaceSKU",l),d=t.filter(function(e){return e.quantity<1}).filter(function(e){var t=e.skuId||e.id;return-1!==a.findIndex(function(e){return parseInt(e.id)===parseInt(t)})&&0==e.quantity}).map(function(e){var t=e.skuId||e.id;return{index:a.findIndex(function(e){return parseInt(e.id)===parseInt(t)}),quantity:0}}),console.log("productsToRemove",d),s[0])return e.next=25,window.vtexjs.checkout.updateItems(s,null,!1);e.next=25;break;case 25:if(l[0])return e.next=28,window.vtexjs.checkout.replaceSKU(l);e.next=28;break;case 28:if(d[0])return e.next=31,window.vtexjs.checkout.removeItems(d);e.next=31;break;case 31:if(c[0])return e.next=34,window.vtexjs.checkout.addToCart(c,null);e.next=34;break;case 34:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"getCustomProducts",value:function(e){var i={};return e.filter(function(e){return!0===e.isCustom}).forEach(function(e){var t=e.skuId,n=e.quantity,r=e.customProductItem,o=i[t],a=parseInt(r.quantity)*parseInt(n);o?o=w({},o,{quantity:parseInt(o.quantity)+a}):o=w({},r,{quantity:a,isCustom:!0});i[t]=o}),Object.values(i)}},{key:"getProductIndexInOrderForm",value:(h=C(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:if(n=e.sent,r=n.items,-1!==(o=r.findIndex(function(e){return e.productId==t})))return e.abrupt("return",o);e.next=7;break;case 7:return e.abrupt("return");case 8:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"remove",value:(m=C(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:return n=e.sent,r="".concat(this._VTEX_API_ENDPOINT,"/").concat(n.orderFormId,"/items"),o={orderItems:[{index:t,quantity:0}],expectedOrderFormSections:["items"],noSplitItem:!0},e.next=7,this._httpClient.patch(r,o);case 7:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"removeMoreProducts",value:(f=C(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:return n=e.sent,r="".concat(this._VTEX_API_ENDPOINT,"/").concat(n.orderFormId,"/items"),o={orderItems:t.map(function(e){return{index:e,quantity:0}}),expectedOrderFormSections:["items"],noSplitItem:!0},e.next=7,this._httpClient.patch(r,o);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"updateProduct",value:(p=C(regeneratorRuntime.mark(function e(t,n){var r,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={seller:2<o.length&&void 0!==o[2]?o[2]:1,quantity:n,id:t},e.next=4,this.updateProducts([r]);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e,t){return p.apply(this,arguments)})},{key:"updateProducts",value:(d=C(regeneratorRuntime.mark(function e(t){var n,a,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:if(n=e.sent,a=n.items,r=n.orderFormId,0<(t=t.map(function(e){var t=e.id,n=e.quantity,r=e.seller,o=a.findIndex(function(e){return parseInt(e.id)===parseInt(t)});return{id:t,index:o,quantity:n,seller:r||1}}).filter(function(e){return-1!==e.index})).length)return o={orderItems:t},e.next=10,this._httpClient.patch("/api/checkout/pub/orderForm/".concat(r,"/items"),o);e.next=11;break;case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})},{key:"simulateOrderForm",value:(l=C(regeneratorRuntime.mark(function e(t){var n,r,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=1<o.length&&void 0!==o[1]?o[1]:"BRA",e.prev=1,e.next=4,vtexjs.checkout.getOrderForm();case 4:return e.next=6,vtexjs.checkout.calculateShipping({postalCode:t,country:n});case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(1),console.error("Error in simulateOrderForm",e.t0);case 13:case"end":return e.stop()}},e,null,[[1,10]])})),function(e){return l.apply(this,arguments)})},{key:"simulateShipping",value:(s=C(regeneratorRuntime.mark(function e(t,n){var r,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=2<a.length&&void 0!==a[2]?a[2]:"BRA",e.next=3,vtexjs.checkout.simulateShipping(t,n,r);case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}},e)})),function(e,t){return s.apply(this,arguments)})},{key:"updateCheckoutTransporterSLA",value:(c=C(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vtexjs.checkout.getOrderForm();case 2:return(n=vtexjs.checkout.orderForm.shippingData).logisticsInfo=t,e.next=6,vtexjs.checkout.sendAttachment("shippingData",n);case 6:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)})},{key:"updateCheckoutAddress",value:(u=C(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,vtexjs.checkout.getOrderForm();case 3:return(n=vtexjs.checkout.orderForm.shippingData).availableAddresses=[w({},n.address,{},t)],n.selectedAddresses=[w({},n.address,{},t)],n.address=w({},n.address,{},t),e.next=9,vtexjs.checkout.sendAttachment("shippingData",n);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)})},{key:"setMultipleCustomDataFields",value:(i=C(regeneratorRuntime.mark(function e(t,n){var r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:return r=e.sent,o=r.orderFormId,a="/api/checkout/pub/orderForm/".concat(o,"/customData/").concat(t),e.prev=5,e.next=8,this._httpClient.put(a,n);case 8:return e.abrupt("return",e.sent);case 11:e.prev=11,e.t0=e.catch(5),console.error("setMultipleCustomDataFields",e.t0);case 14:return e.abrupt("return");case 15:case"end":return e.stop()}},e,this,[[5,11]])})),function(e,t){return i.apply(this,arguments)})},{key:"setSingleCustomDataField",value:(a=C(regeneratorRuntime.mark(function e(t,n,r){var o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:return o=e.sent,a=o.orderFormId,i="/api/checkout/pub/orderForm/".concat(a,"/customData/").concat(t,"/").concat(n),u={value:r},e.prev=6,e.next=9,this._httpClient.put(i,u);case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(6),console.error("setSingleCustomDataField",e.t0);case 15:return e.abrupt("return");case 16:case"end":return e.stop()}},e,this,[[6,12]])})),function(e,t,n){return a.apply(this,arguments)})},{key:"removeSingleCustomDataField",value:(o=C(regeneratorRuntime.mark(function e(t,n){var r,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:return r=e.sent,o=r.orderFormId,a="/api/checkout/pub/orderForm/".concat(o,"/customData/").concat(t,"/").concat(n),i={value:null},e.prev=6,e.next=9,this._httpClient.delete(a,i);case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(6),console.error("removeSingleCustomDataField",e.t0);case 15:return e.abrupt("return");case 16:case"end":return e.stop()}},e,this,[[6,12]])})),function(e,t){return o.apply(this,arguments)})},{key:"_payloadFactory",value:function(e,t,n){return{id:e,quantity:t,seller:2<arguments.length&&void 0!==n?n:1}}}])&&S(t.prototype,n),r&&S(t,r),e}();t.a=a},x9ji:function(e,t,n){"use strict";n("07d7"),n("5s+n"),n("ls82");var a=n("m/Gl"),i=n("jmbs");function c(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._logger=new i.c("httpClient")}var t,n,r,u,o;return t=e,(n=[{key:"get",value:function(e){if(!i.a.isUndefined(e))return this._execute(e,"GET")}},{key:"delete",value:function(e){if(!i.a.isUndefined(e))return this._execute(e,"DELETE")}},{key:"post",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};if(!i.a.isUndefined(e))return this._execute(e,"POST",n)}},{key:"put",value:function(e,t){if(!i.a.isUndefined(e)&&!i.a.isUndefined(t))return this._execute(e,"PUT",t)}},{key:"patch",value:function(e,t){if(!i.a.isUndefined(e)&&!i.a.isUndefined(t))return this._execute(e,"PATCH",t)}},{key:"_execute",value:function(e,t,n){var r=this,o={method:t,headers:{accept:"application/vnd.vtex.masterdata.v10+json","content-type":"application/json; charset=utf-8"}};return n&&(o.body=JSON.stringify(n)),Object(a.a)(e,o).then(this.validateResponse).then(this.parseResponseToJson).then(function(e){return e}).catch(function(e){return r._logger.log("Request succeeded with JSON response",e),e})}},{key:"parseResponseToJson",value:(u=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,t.json();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}),o=function(){var e=this,i=arguments;return new Promise(function(t,n){var r=u.apply(e,i);function o(e){c(r,t,n,o,a,"next",e)}function a(e){c(r,t,n,o,a,"throw",e)}o(void 0)})},function(e){return o.apply(this,arguments)})},{key:"validateResponse",value:function(e){return e.ok?Promise.resolve(e):Promise.reject(new Error(e.statusText))}}])&&s(t.prototype,n),r&&s(t,r),e}();t.a=r}},[[7,0,1]]]);
//# sourceMappingURL=b8one.desktop.address.js.map