(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"/mdI":function(e,t,r){"use strict";r.d(t,"a",function(){return a});var t=r("pNMO"),t=r("4Brf"),t=r("0oug"),t=r("ma9I"),t=r("QWBl"),t=r("pjDv"),t=r("4mDm"),t=r("+2oP"),t=r("sMBO"),t=r("07d7"),t=r("5s+n"),t=r("JfAA"),t=r("PKPk"),t=r("FZtP"),t=r("3bBZ"),t=r("Kz25"),t=r("ls82"),t=r("vDqi"),s=r.n(t);function u(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t,r,n,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,a)}function d(c){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=c.apply(e,o);function a(e){l(n,t,r,a,i,"next",e)}function i(e){l(n,t,r,a,i,"throw",e)}a(void 0)})}}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=s.a.create({baseURL:"".concat(e,"/api/catalog_system")})}var e,r,n,a,i,o,c;return e=t,(r=[{key:"getProductsByCategories",value:(c=d(regeneratorRuntime.mark(function e(t,r){var n,a,i,o,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=2<c.length&&void 0!==c[2]?c[2]:0,a=3<c.length&&void 0!==c[3]?c[3]:49,i=4<c.length&&void 0!==c[4]?c[4]:["OrderByNameASC"],e.prev=3,(o=new URLSearchParams).append("_to",a),o.append("_from",n),o.append("fq","C:/".concat(t,"/").concat(r)),i.forEach(function(e){return o.append("O",e)}),e.next=11,this.api.get("/pub/products/search",{params:o});case 11:return e.abrupt("return",e.sent);case 14:e.prev=14,e.t0=e.catch(3),console.error("Error in VtexCatalogService on method getProductsByCategories",e.t0);case 17:return e.abrupt("return");case 18:case"end":return e.stop()}},e,this,[[3,14]])})),function(e,t){return c.apply(this,arguments)})},{key:"getAllProductsByCategories",value:(o=d(regeneratorRuntime.mark(function e(t,r){var n,a,i,o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=[],a=0,i=49;case 4:return e.next=7,this.getProductsByCategories(t,r,a,i);case 7:if(c=e.sent,o=c.data,c=c.status,a=i+1,i=2*i+1,n=[].concat(u(n),u(o)),200===c)return e.abrupt("break",17);e.next=15;break;case 15:e.next=4;break;case 17:return e.abrupt("return",n);case 20:e.prev=20,e.t0=e.catch(0),console.error("Error in VtexCatalogService on method getAllProductsByCategories",e.t0);case 23:return e.abrupt("return");case 24:case"end":return e.stop()}},e,this,[[0,20]])})),function(e,t){return o.apply(this,arguments)})},{key:"getAllCategories",value:(i=d(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.get("/pub/category/tree/1");case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error("Error in VtexCatalogService on method getAllCategories",e.t0);case 9:return e.abrupt("return");case 10:case"end":return e.stop()}},e,this,[[0,6]])})),function(){return i.apply(this,arguments)})},{key:"getProductVariations",value:(a=d(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.get("/pub/products/variations/".concat(t));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error("Error in VtexCatalogService on method getProductVariations",e.t0);case 9:return e.abrupt("return");case 10:case"end":return e.stop()}},e,this,[[0,6]])})),function(e){return a.apply(this,arguments)})}])&&p(e.prototype,r),n&&p(e,n),t}()},23:function(e,t,r){r("wPis"),e.exports=r("QCFF")},Cwf3:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var t=r("cvkN"),n=r.n(t),a=function(e){return n()(e,{symbol:"R$ ",precision:2,separator:".",decimal:",",formatWithSymbol:!0})}},JbUL:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.d(t,"a",function(){return a});var a=function(){function a(e){var t=e.modal,r=e.modalShowCLass,n=e.openModalCallback,e=e.closeModalCallback;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.isOpen=!1,this.modalShowCLass=r||"show",this.openCallback=n||new Function,this.closeCallback=e||new Function,this.modal=t instanceof Element?t:document.querySelector(t)}var e,t,r;return e=a,(t=[{key:"show",value:function(){this.isOpen||this.modal.classList.add(this.modalShowCLass),this.isOpen=!0,this.openCallback(this)}},{key:"close",value:function(){this.isOpen&&this.modal.classList.remove(this.modalShowCLass),this.isOpen=!1,this.closeCallback(this)}}])&&n(e.prototype,t),r&&n(e,r),a}()},JoMe:function(e,t,r){"use strict";t.a=[19,698,25,26,33,35,696,699]},OzKi:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var t=r("TeQF"),t=r("x0AG"),t=r("yq1k"),t=r("4mDm"),t=r("2B1R"),t=r("E9XD"),t=r("07d7"),t=r("5s+n"),t=r("JTJg"),t=r("PKPk"),t=r("3bBZ"),t=r("ls82"),s=r("rdEv"),u=r("/mdI"),p=r("JoMe");function l(e,t,r,n,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,a)}function d(c){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=c.apply(e,o);function a(e){l(n,t,r,a,i,"next",e)}function i(e){l(n,t,r,a,i,"throw",e)}a(void 0)})}}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cartService=new s.a,this.vtexCatalogService=new u.a}var t,r,n,a,i,o,c;return t=e,(r=[{key:"getTotalStorageQuantity",value:(c=d(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cartService.getCurrent();case 2:return t=e.sent,t=t.items,e.next=6,Promise.all(t.filter(function(e){return!p.a.includes(parseInt(e.id))}).map(function(){var t=d(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.productId,r=t.id,n=t.quantity,e.next=3,i.vtexCatalogService.getProductVariations(a);case 3:if(a=e.sent,a=a.data,a=a.skus.filter(function(e){e=e.sku;return parseInt(e)===parseInt(r)})[0])return a=a.measures.weight,a=a*n,e.abrupt("return",a);e.next=10;break;case 10:return e.abrupt("return",0);case 11:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()));case 6:return t=e.sent,t=Math.round(t.reduce(function(e,t){return e+t},0)),t=0<(t=Math.round(t/5))?t:1,e.abrupt("return",t);case 11:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"addSKUStorageToOrderForm",value:(o=d(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cartService.add(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return o.apply(this,arguments)})},{key:"removeSKUStorageInOrderForm",value:(i=d(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==(n=r.findIndex(function(e){return parseInt(e.id)===t})))return e.next=4,this.cartService.remove(n);e.next=5;break;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e,t){return i.apply(this,arguments)})},{key:"dispatchActionWorksWithStorageSKU",value:(a=d(regeneratorRuntime.mark(function e(){var t,r,n,a,i,o,c,s,u,l,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<d.length&&void 0!==d[0]?d[0]:1,r=33,e.next=4,this.cartService.getCurrent();case 4:if(a=e.sent,n=a.customData,a=a.items,n){e.next=9;break}return e.abrupt("return");case 9:if(i=n.customApps.filter(function(e){return"orderinfo"===e.id})[0],o=a.filter(function(e){return parseInt(e.id)===r})[0],c=a.filter(function(e){return!p.a.includes(parseInt(e.id))}).length,i){e.next=14;break}return e.abrupt("return");case 14:return e.next=16,this.getTotalStorageQuantity();case 16:if(s=e.sent,s*=t,u=i.fields.user_need_storage,o&&(l=o.quantity!==s),l&&0<c)return e.next=23,this.cartService.updateProduct(r,s);e.next=26;break;case 23:return e.abrupt("return",e.sent);case 26:if("true"===u.toLowerCase()&&0<c)return e.next=29,this.addSKUStorageToOrderForm(r,s);e.next=32;break;case 29:return e.abrupt("return",e.sent);case 32:return e.next=34,this.removeSKUStorageInOrderForm(r,a);case 34:return e.abrupt("return",e.sent);case 35:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})}])&&f(t.prototype,r),n&&f(t,n),e}()},QCFF:function(e,t){},RDzO:function(e,t,r){"use strict";var n=r("pNMO"),n=r("4Brf"),n=r("0oug"),n=r("QWBl"),n=r("pjDv"),n=r("4mDm"),n=r("+2oP"),n=r("sMBO"),n=r("07d7"),n=r("JfAA"),n=r("PKPk"),n=r("FZtP"),n=r("3bBZ");function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"isUndefined",value:function(e){e=0<arguments.length&&void 0!==e?e:void 0;return null==e||""===e||e==={}||e===[]}},{key:"isInputValid",value:function(e){return!this.isUndefined(e)&&e.checkValidity()}},{key:"hasProps",value:function(e,t){return this.getMissingProps(e,t).length<=0}},{key:"getMissingProps",value:function(t,e){var r=[];return a(e).forEach(function(e){e in t||r.push(e)}),r}}],(r=null)&&o(t.prototype,r),n&&o(t,n),e}();t.a=n},UxvN:function(e,t,r){"use strict";r.d(t,"a",function(){return n});t=r("ma9I"),t=r("07d7"),t=r("5s+n"),t=r("ls82");function s(e,t,r,n,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,a)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n,c,a;return t=e,(r=[{key:"updateInsuranceSKUPrice",value:(c=regeneratorRuntime.mark(function e(t,r,n){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==r&&t){e.next=2;break}return e.abrupt("return");case 2:return a="https://wcdlfckgi9.execute-api.us-east-2.amazonaws.com/v1/api/checkout/pub/orderform/".concat(n,"/items/").concat(r,"/price"),e.next=5,fetch(a,{method:"PUT",body:JSON.stringify({price:t}),headers:{Accept:"application/json","Content-Type":"application/json"}});case 5:return e.next=7,e.sent.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}),a=function(){var e=this,o=arguments;return new Promise(function(t,r){var n=c.apply(e,o);function a(e){s(n,t,r,a,i,"next",e)}function i(e){s(n,t,r,a,i,"throw",e)}a(void 0)})},function(e,t,r){return a.apply(this,arguments)})}])&&i(t.prototype,r),n&&i(t,n),e}()},jmbs:function(e,t,r){"use strict";r.d(t,"a",function(){return n.a}),r.d(t,"b",function(){return i}),r.d(t,"c",function(){return c});var n=r("RDzO");r("ma9I"),r("TeQF"),r("yq1k"),r("oVuX"),r("sMBO"),r("toAj"),r("07d7"),r("TWNs"),r("rB9j"),r("JfAA"),r("JTJg"),r("UxlC"),r("EnZy");function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._logger=new c("Ensure"),this.props=e||{language:navigator.language||navigator.userLanguage,currency:"BRL",currencyLocale:"pt-br",minimumFractionDigits:2}}var e,r,n;return e=t,n=[{key:"getParents",value:function(e,t){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),r=t.length;0<=--r&&t.item(r)!==this;);return-1<r});for(var r=[];e&&e!==document;e=e.parentNode)(!t||e.matches(t))&&r.push(e);return r}},{key:"serializeForm",value:function(e){for(var t=[],r=0;r<e.elements.length;r++){var n=e.elements[r];if(n.name&&!n.disabled&&"file"!==n.type&&"reset"!==n.type&&"submit"!==n.type&&"button"!==n.type)if("select-multiple"===n.type)for(var a=0;a<n.options.length;a++)n.options[a].selected&&t.push(encodeURIComponent(n.name)+"="+encodeURIComponent(n.options[a].value));else("checkbox"!==n.type&&"radio"!==n.type||n.checked)&&t.push(encodeURIComponent(n.name)+"="+encodeURIComponent(n.value))}return t.join("&")}},{key:"getFormData",value:function(e){for(var t={},r=0;r<e.elements.length;r++){var n=e.elements[r];if(n.name&&!n.disabled&&"file"!==n.type&&"reset"!==n.type&&"submit"!==n.type&&"button"!==n.type)if("select-multiple"===n.type)for(var a=0;a<n.options.length;a++)n.options[a].selected&&(t[n.name]=n.options[a].value);else("checkbox"!==n.type&&"radio"!==n.type||n.checked)&&(t[n.name]=n.value)}return t}},{key:"getRandomID",value:function(){return"_"+Math.random().toString(36).substr(2,9)}},{key:"setCookie",value:function(e,t,r){var n=new Date;n.setTime(n.getTime()+24*r*60*60*1e3);n="expires="+n.toUTCString();document.cookie="".concat(e,"=").concat(t,";").concat(n,";path=/")}},{key:"getCookie",value:function(t){return decodeURIComponent(document.cookie).split(";").filter(function(e){return e.includes(t)})[0]||""}},{key:"isInViewport",value:function(e){var t=window.innerHeight||document.documentElement.clientHeight,r=window.innerWidth||document.documentElement.clientWidth,n=e.getBoundingClientRect(),a=n.top,i=n.right,e=n.bottom,n=n.left;return 0<=a&&0<=n&&e<=t&&i<=r}},{key:"removeAccents",value:function(e){var t,r={a:"á|à|ã|â|À|Á|Ã|Â",e:"é|è|ê|É|È|Ê",i:"í|ì|î|Í|Ì|Î",o:"ó|ò|ô|õ|Ó|Ò|Ô|Õ",u:"ú|ù|û|ü|Ú|Ù|Û|Ü",c:"ç|Ç",n:"ñ|Ñ"};for(t in r)e=e.replace(new RegExp(r[t],"g"),t);return e}}],(r=[{key:"formatPrice",value:function(e){return e=(+(e/=100)).toFixed(Math.max(0,~~this.props.minimumFractionDigits)),new Intl.NumberFormat(this.props.currencyLocale,{style:"currency",currency:this.props.currency,minimumFractionDigits:this.props.minimumFractionDigits}).format(e)}}])&&a(e.prototype,r),n&&a(e,n),t}();function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"B8ONE Logger Component";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.logName=e}var e,r,n;return e=t,(r=[{key:"error",value:function(e,t){e=0<arguments.length&&void 0!==e?e:"",t=1<arguments.length&&void 0!==t?t:{};console.error(e,t)}},{key:"info",value:function(e){e=0<arguments.length&&void 0!==e?e:"";console.info(e)}},{key:"warning",value:function(e){e=0<arguments.length&&void 0!==e?e:"";console.warn(this.logName,e)}},{key:"log",value:function(e){e=0<arguments.length&&void 0!==e?e:"";console.log(e)}},{key:"log",value:function(e,t){e=0<arguments.length&&void 0!==e?e:"",t=1<arguments.length&&void 0!==t?t:{};console.log(e,t)}}])&&o(e.prototype,r),n&&o(e,n),t}()},rdEv:function(e,t,r){"use strict";r("pNMO"),r("4Brf"),r("0oug"),r("ma9I"),r("TeQF"),r("x0AG"),r("QWBl"),r("pjDv"),r("yq1k"),r("4mDm"),r("2B1R"),r("E9XD"),r("+2oP"),r("sMBO"),r("5DmW"),r("27RR"),r("tkto"),r("07d7"),r("B6y2"),r("5s+n"),r("JfAA"),r("JTJg"),r("PKPk"),r("FZtP"),r("3bBZ"),r("ls82");var b=r("jmbs"),k=r("x9ji");function i(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function S(n){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach(function(e){var t,r;t=n,e=a[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))})}return n}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t,r,n,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,a)}function x(c){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=c.apply(e,o);function a(e){s(n,t,r,a,i,"next",e)}function i(e){s(n,t,r,a,i,"throw",e)}a(void 0)})}}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._VTEX_API_ENDPOINT="/api/checkout/pub/orderForm",this._logger=new b.c("Cart service"),this._httpClient=new k.a}var t,r,n,a,i,o,c,s,u,l,d,p,f,m,h,v,y,g;return t=e,(r=[{key:"getCurrent",value:(g=x(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._httpClient.get(this._VTEX_API_ENDPOINT);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"add",value:(y=x(regeneratorRuntime.mark(function e(t,r){var n,a,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=2<o.length&&void 0!==o[2]?o[2]:1,b.a.isUndefined(t)){e.next=10;break}return e.next=4,this.getCurrent();case 4:return i=e.sent,-1<(a=i.items.findIndex(function(e){return e.id===t}))&&(r=parseInt(r)+parseInt(i.items[a].quantity)),a="".concat(this._VTEX_API_ENDPOINT,"/").concat(i.orderFormId,"/items"),i={orderItems:[{seller:n.toString(),quantity:parseInt(r),id:t.toString()}]},e.abrupt("return",this._httpClient.patch(a,i));case 10:case"end":return e.stop()}},e,this)})),function(e,t){return y.apply(this,arguments)})},{key:"checkoutCRUD",value:(v=x(regeneratorRuntime.mark(function e(t){var a,r,n,i,o,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.vtexjs.checkout.getOrderForm();case 2:if(n=e.sent,a=n.items,n=this.getCustomProducts(t),t=t.filter(function(e){return!e.isCustom}),t=[].concat(I(t),I(n)),r=[19,698,25,26],0<(n=a.reduce(function(e,t,r){return[25,26].includes(parseInt(t.id))?[].concat(I(e),[r]):e},[])).length)return e.next=12,this.removeMoreProducts(n);e.next=14;break;case 12:(o=e.sent)&&(a=o.items);case 14:if(i=t.filter(function(e){return 0<e.quantity}).filter(function(t){return-1===a.findIndex(function(e){return parseInt(e.productId)===parseInt(t.productId)})&&0<t.quantity}).map(function(e){return{quantity:e.quantity,seller:1,id:e.skuId||e.id}}),console.log("productsToAdd",i),o=t.filter(function(e){return 0<e.quantity}).filter(function(e){var t=e.skuId||e.id,r=a.findIndex(function(e){return parseInt(e.id)===parseInt(t)});if(-1===r)return!1;var n=parseInt(a[r].id)===parseInt(e.id),r=parseInt(a[r].quantity)!==parseInt(e.quantity);return n&&r&&0<e.quantity}).map(function(e){var t=e.skuId||e.id;return{index:a.findIndex(function(e){return parseInt(e.id)===parseInt(t)}),quantity:e.quantity}}),console.log("productsToUpdate",o),c=t.filter(function(e){return 0<e.quantity&&!r.includes(parseInt(e.skuId||e.id))}).filter(function(t){var e=a.findIndex(function(e){return parseInt(e.productId)===parseInt(t.productId)});return-1!==e&&parseInt(a[e].id)!==parseInt(t.skuId)}).map(function(t){return[{index:a.findIndex(function(e){return parseInt(e.productId)===parseInt(t.productId)}),seller:1,quantity:0},{seller:1,id:t.skuId,quantity:t.quantity}]}).reduce(function(e,t){var r=_(t,2),t=r[0],r=r[1];return[].concat(I(e),[t,r])},[]),console.log("productsToReplaceSKU",c),s=t.filter(function(e){return e.quantity<1}).filter(function(e){var t=e.skuId||e.id;return-1!==a.findIndex(function(e){return parseInt(e.id)===parseInt(t)})&&0==e.quantity}).map(function(e){var t=e.skuId||e.id;return{index:a.findIndex(function(e){return parseInt(e.id)===parseInt(t)}),quantity:0}}),console.log("productsToRemove",s),o[0])return e.next=25,window.vtexjs.checkout.updateItems(o,null,!1);e.next=25;break;case 25:if(c[0])return e.next=28,window.vtexjs.checkout.replaceSKU(c);e.next=28;break;case 28:if(s[0])return e.next=31,window.vtexjs.checkout.removeItems(s);e.next=31;break;case 31:if(i[0])return e.next=34,window.vtexjs.checkout.addToCart(i,null);e.next=34;break;case 34:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"getCustomProducts",value:function(e){var i={};return e.filter(function(e){return!0===e.isCustom}).forEach(function(e){var t=e.skuId,r=e.quantity,n=e.customProductItem,a=i[t],e=parseInt(n.quantity)*parseInt(r);a=a?(r=parseInt(a.quantity)+e,S(S({},a),{},{quantity:r})):S(S({},n),{},{quantity:e,isCustom:!0}),i[t]=a}),Object.values(i)}},{key:"getProductIndexInOrderForm",value:(h=x(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:if(r=e.sent,r=r.items,-1!==(r=r.findIndex(function(e){return e.productId==t})))return e.abrupt("return",r);e.next=7;break;case 7:return e.abrupt("return");case 8:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"remove",value:(m=x(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:return n=e.sent,r="".concat(this._VTEX_API_ENDPOINT,"/").concat(n.orderFormId,"/items"),n={orderItems:[{index:t,quantity:0}],expectedOrderFormSections:["items"],noSplitItem:!0},e.next=7,this._httpClient.patch(r,n);case 7:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"removeMoreProducts",value:(f=x(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:return n=e.sent,r="".concat(this._VTEX_API_ENDPOINT,"/").concat(n.orderFormId,"/items"),n={orderItems:t.map(function(e){return{index:e,quantity:0}}),expectedOrderFormSections:["items"],noSplitItem:!0},e.next=7,this._httpClient.patch(r,n);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"updateProduct",value:(p=x(regeneratorRuntime.mark(function e(t,r){var n,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={seller:2<a.length&&void 0!==a[2]?a[2]:1,quantity:r,id:t},e.next=4,this.updateProducts([n]);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e,t){return p.apply(this,arguments)})},{key:"updateProducts",value:(d=x(regeneratorRuntime.mark(function e(t){var a,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:if(n=e.sent,a=n.items,r=n.orderFormId,0<(t=t.map(function(e){var t=e.id,r=e.quantity,n=e.seller,e=a.findIndex(function(e){return parseInt(e.id)===parseInt(t)});return{id:t,index:e,quantity:r,seller:n||1}}).filter(function(e){return-1!==e.index})).length)return n={orderItems:t},e.next=10,this._httpClient.patch("/api/checkout/pub/orderForm/".concat(r,"/items"),n);e.next=11;break;case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})},{key:"simulateOrderForm",value:(l=x(regeneratorRuntime.mark(function e(t){var r,n,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=1<a.length&&void 0!==a[1]?a[1]:"BRA",e.prev=1,e.next=4,vtexjs.checkout.getOrderForm();case 4:return e.next=6,vtexjs.checkout.calculateShipping({postalCode:t,country:r});case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(1),console.error("Error in simulateOrderForm",e.t0);case 13:case"end":return e.stop()}},e,null,[[1,10]])})),function(e){return l.apply(this,arguments)})},{key:"simulateShipping",value:(u=x(regeneratorRuntime.mark(function e(t,r){var n,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=2<a.length&&void 0!==a[2]?a[2]:"BRA",e.next=3,vtexjs.checkout.simulateShipping(t,r,n);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)})),function(e,t){return u.apply(this,arguments)})},{key:"updateCheckoutTransporterSLA",value:(s=x(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vtexjs.checkout.getOrderForm();case 2:return(r=vtexjs.checkout.orderForm.shippingData).logisticsInfo=t,e.next=6,vtexjs.checkout.sendAttachment("shippingData",r);case 6:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})},{key:"updateCheckoutAddress",value:(c=x(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,vtexjs.checkout.getOrderForm();case 3:return(r=vtexjs.checkout.orderForm.shippingData).availableAddresses=[S(S({},r.address),t)],r.selectedAddresses=[S(S({},r.address),t)],r.address=S(S({},r.address),t),e.next=9,vtexjs.checkout.sendAttachment("shippingData",r);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)})},{key:"setMultipleCustomDataFields",value:(o=x(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:return n=e.sent,n=n.orderFormId,n="/api/checkout/pub/orderForm/".concat(n,"/customData/").concat(t),e.prev=5,e.next=8,this._httpClient.put(n,r);case 8:return e.abrupt("return",e.sent);case 11:e.prev=11,e.t0=e.catch(5),console.error("setMultipleCustomDataFields",e.t0);case 14:return e.abrupt("return");case 15:case"end":return e.stop()}},e,this,[[5,11]])})),function(e,t){return o.apply(this,arguments)})},{key:"setSingleCustomDataField",value:(i=x(regeneratorRuntime.mark(function e(t,r,n){var a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:return a=e.sent,i=a.orderFormId,a="/api/checkout/pub/orderForm/".concat(i,"/customData/").concat(t,"/").concat(r),i={value:n},e.prev=6,e.next=9,this._httpClient.put(a,i);case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(6),console.error("setSingleCustomDataField",e.t0);case 15:return e.abrupt("return");case 16:case"end":return e.stop()}},e,this,[[6,12]])})),function(e,t,r){return i.apply(this,arguments)})},{key:"removeSingleCustomDataField",value:(a=x(regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrent();case 2:return n=e.sent,a=n.orderFormId,n="/api/checkout/pub/orderForm/".concat(a,"/customData/").concat(t,"/").concat(r),a={value:null},e.prev=6,e.next=9,this._httpClient.delete(n,a);case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(6),console.error("removeSingleCustomDataField",e.t0);case 15:return e.abrupt("return");case 16:case"end":return e.stop()}},e,this,[[6,12]])})),function(e,t){return a.apply(this,arguments)})},{key:"_payloadFactory",value:function(e,t,r){return{id:e,quantity:t,seller:2<arguments.length&&void 0!==r?r:1}}}])&&w(t.prototype,r),n&&w(t,n),e}();t.a=r},wPis:function(e,t,r){"use strict";r.r(t);var t=r("pNMO"),t=r("4Brf"),t=r("0oug"),t=r("ma9I"),t=r("TeQF"),t=r("fbCW"),t=r("x0AG"),t=r("QWBl"),t=r("pjDv"),t=r("yq1k"),t=r("yXV3"),t=r("4mDm"),t=r("oVuX"),t=r("2B1R"),t=r("E9XD"),t=r("+2oP"),t=r("ToJy"),t=r("sMBO"),t=r("T63A"),t=r("5DmW"),t=r("27RR"),t=r("tkto"),t=r("07d7"),t=r("B6y2"),t=r("5s+n"),t=r("rB9j"),t=r("JfAA"),t=r("JTJg"),t=r("PKPk"),t=r("UxlC"),t=r("hByQ"),t=r("EnZy"),t=r("FZtP"),t=r("3bBZ"),t=r("ls82"),d=r("jmbs"),p=r("JbUL"),f=r("x9ji"),m=r("rdEv"),h=r("OzKi"),v=r("UxvN"),y=r("Cwf3"),g=r("JoMe"),t=r("zwY0"),b=r.n(t),k=r("Io36"),t=r("1+rt"),t=r("Wgwc"),S=r.n(t);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function I(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach(function(e){x(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t,r,n,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,a)}function C(c){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=c.apply(e,o);function a(e){s(n,t,r,a,i,"next",e)}function i(e){s(n,t,r,a,i,"throw",e)}a(void 0)})}}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.products={},this.addressCep=null,this.logisticsInfo=null,this.modalRemoveProductInstance=null,this.dateSelected=null,this.modalDate=null,this.calendarInstance=null,this.insuranceItems={},this.cartService=new m.a,this.httpClient=new f.a,this.storageService=new h.a,this.insuranceService=new v.a,this.helper=new d.b,this.userIsDefined=null,this.orderForm={},this.transporterSelected,this.totalInsuranceFormatted,this.totalInsurance=Object(y.a)("R$ 0,00"),this.totalOrderSummary=Object(y.a)("R$ 0,00"),this.totalTransporterSelected=Object(y.a)("R$ 0,00"),this.totalStorageMonth="R$ 0,00",this.totalStorage=Object(y.a)("R$ 0,00"),this.userSelectedStorageMonths=1,this.totalizers=[],this.customSelectStorageServiceInstance=null,this.logisticsInfo=[],this.liftingQuantity=0,this.lifting="içamento na origem e destino",this.tableContentElement=document.querySelector(".summary-table .table__content"),(window.OrderSummaryPage=this).init()}var t,r,n,a,i,o,c,s,u,l;return t=e,(r=[{key:"init",value:(l=C(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("/no-cache/profileSystem/getProfile");case 2:return n=e.sent,this.userIsDefined=n.IsUserDefined,this.initModalRemoveProduct(),this.initModalDate(),this.initTermsModal(),this.setHandledTermsCheckboxChange(),this.handleGoToPaymentButton(),this.setHandledButtonEditDateClick(),this.setHandledButtonSaveClick(),e.t0=this,e.next=14,this.cartService.getCurrent();case 14:return e.t1=e.sent,e.t0.updateOrderForm.call(e.t0,e.t1),e.next=18,this.updateShippingData();case 18:this.logisticsInfo=this.orderForm.shippingData.logisticsInfo,this.setTransporterSelected(),this.setTotalInsurance(),this.getProductsInCustomData(),this.setDate(),this.getAddress(),this.getInsuranceItems(),this.setAddressCep(),this.getLiftingFromCustomData(),this.addServicesToDOM(),this.updateSelectedSLA(),this.initCalendar(),this.setTotalTransporterSelected(),this.setTotalOrderSummary(),this.setTotalOrderSummaryElement(),t=this.createTransporterElement(this.transporterSelected),r=this.createProductstInOrderForm(),n=this.createCustomProducts(),this.addTransporterToDOM(t),this.addOrderFormProductsToDOM(r),this.addCustomProductsToDOM(n),this.shippingExplained(),this.setHandledProducts(),this.setHandledTransporterElement(),this.setHandledUpdateButtonClick(),this.removePageLoading();case 44:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"updateOrderForm",value:function(e){e&&(this.orderForm=e)}},{key:"shippingExplained",value:function(){var e=document.querySelector('a[href="#entenda-o-prazo-de-entrega-da-sua-mudanca"]'),t=document.querySelector("#entenda-o-prazo-de-entrega-da-sua-mudanca");null!=e&&null!=t&&document.querySelector('a[href="#entenda-o-prazo-de-entrega-da-sua-mudanca"]').addEventListener("click",function(e){e.preventDefault();var t=document.querySelector("#entenda-o-prazo-de-entrega-da-sua-mudanca"),e=document.querySelector(".header");window.scrollTo(0,t.offsetTop-(e.offsetHeight+48))})}},{key:"getLiftingFromCustomData",value:function(){var t=this,e=this.orderForm.customData;e&&e.customApps.filter(function(e){return"orderinfo"===e.id}).forEach(function(e){e=e.fields.lifting;e&&(t.lifting=e)})}},{key:"initCalendar",value:function(){this.calendarInstance=b()(".js-calendar",{inline:!0,dateFormat:"d/m/Y",minDate:(new Date).fp_incr(7),defaultDate:this.dateSelected,locale:k.Portuguese,appendTo:document.querySelector(".js-calendar"),prevArrow:'<i class="fas fa-caret-left next-month-icon-left"></i>',nextArrow:'<i class="fas fa-caret-right next-month-icon-right"></i>',disable:[function(e){return 0===e.getDay()||6===e.getDay()}]}),this.calendarInstance.setDate(new Date(this.dateSelected))}},{key:"initTermsModal",value:function(){var t=this,e=document.querySelector(".modal__terms"),r=e.querySelector(".js-button-continue"),n=e.querySelector(".js-button-close-modal");this.modalTerms=new p.a({modal:e,modalShowCLass:"wrapper-modal--show"}),r.addEventListener("click",C(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.classList.add("js-loading"),e.next=3,t.saveData();case 3:return t.updateInsuranceValue(),e.next=6,t.updateTranspoterValue();case 6:r.classList.remove("js-loading"),t.userIsDefined?window.location.assign("/checkout/#/payment"):t.loginUser();case 8:case"end":return e.stop()}},e)}))),n.addEventListener("click",function(){return t.modalTerms.close()})}},{key:"updateShippingData",value:(u=C(regeneratorRuntime.mark(function e(){var t,r,n,a,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.userIsDefined){e.next=28;break}if(i=this.orderForm,t=i.customData,r=i.totalizers,n=i.clientProfileData,t){e.next=4;break}return e.abrupt("return");case 4:if(!(i=t.customApps.filter(function(e){return"orderinfo"===e.id})[0])){e.next=28;break}if(a={addressType:"residential",city:i.fields.to_city,neighborhood:i.fields.to_address_county,number:i.fields.to_address_number,postalCode:i.fields.to_address_zipcode,state:i.fields.to_state,street:i.fields.to_address_name,receiverName:n.firstName&&n.lastName?"".concat(n.firstName," ").concat(n.lastName):n.email.split("@")[0].replace(/\W/g,"")},i=r.filter(function(e){return"Shipping"===e.id})[0],o=t.customApps.filter(function(e){return"orderinfo"===e.id})[0],i){e.next=14;break}return e.next=12,window.vtexjs.checkout.getOrderForm();case 12:return e.next=14,window.vtexjs.checkout.calculateShipping({postalCode:o.fields.to_address_zipcode,country:"BRA"});case 14:return e.t0=this,e.next=17,this.cartService.updateCheckoutAddress(a);case 17:return e.t1=e.sent,e.t0.updateOrderForm.call(e.t0,e.t1),e.t2=this,e.next=22,this.cartService.updateCheckoutTransporterSLA(this.logisticsInfo);case 22:if(e.t3=e.sent,e.t2.updateOrderForm.call(e.t2,e.t3),-1<window.location.search.indexOf("?logged=true"))return e.next=27,window.vtexjs.checkout.clearMessages();e.next=28;break;case 27:window.location.assign("/checkout/#/payment");case 28:return e.abrupt("return");case 29:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})},{key:"loginUser",value:function(){vtexid.start({returnUrl:"".concat(window.location.href,"?logged=true"),locale:"pt-BR",forceReload:!1}),window.scrollTo(0,0)}},{key:"handleGoToPaymentButton",value:function(){var e=this;document.querySelector(".js-toPayment-button").addEventListener("click",function(){e.modalTerms.show()})}},{key:"setHandledTermsCheckboxChange",value:function(){var e=document.querySelector(".modal__terms"),t=document.querySelector(".modal__terms .js-button-continue");e.addEventListener("change",function(e){!w(document.querySelectorAll(".modal__terms .modal__fakeInput")).map(function(e){return e.checked}).includes(!1)?t.removeAttribute("disabled"):t.setAttribute("disabled",!0)})}},{key:"setTotalTransporterSelected",value:function(){var e=this.transporterSelected.deliveryTypeSelected.priceFormatted;this.totalTransporterSelected=this.totalTransporterSelected.add(e)}},{key:"setTotalInsurance",value:function(){var t=this,e=this.orderForm.customData;e&&e.customApps.filter(function(e){return"insurance"===e.id}).forEach(function(e){e=e.fields.total;e&&(t.totalInsurance=t.totalInsurance.add(e),t.totalInsuranceFormatted=t.totalInsurance.format())})}},{key:"setTotalOrderSummaryElement",value:function(){var t=this;document.querySelectorAll(".js-total-order-summary").forEach(function(e){e.textContent=t.totalOrderSummary.format()})}},{key:"setTotalOrderSummary",value:function(){this.totalOrderSummary=this.totalOrderSummary.add(this.totalTransporterSelected.format()).add(this.totalInsurance.multiply(.01).format())}},{key:"initModalRemoveProduct",value:function(){var t=this,e=document.querySelector(".modal--remove-product"),r=e.querySelector(".modal__close"),n=e.querySelector(".js-button-remove-product"),a=e.querySelector(".js-button-cancel-remove-product");this.modalRemoveProductInstance=new p.a({modal:e,modalShowCLass:"wrapper-modal--show",closeModalCallback:function(){1==Object.keys(t.products).length&&t.hideErrorRemoveProductMessage()}}),n.addEventListener("click",function(e){e=e.target.dataset.productIdToRemove;1<Object.keys(t.products).length?(t.handledConfirmRemoveProduct(e,t.products[e]),t.modalRemoveProductInstance.close()):t.showErrorRemoveProductMessage()}),[r,a].forEach(function(e){e.addEventListener("click",function(e){return t.modalRemoveProductInstance.close()})})}},{key:"showErrorRemoveProductMessage",value:function(){document.querySelector(".modal--remove-product .modal__paragraph--error").classList.add("modal__paragraph--error-show")}},{key:"hideErrorRemoveProductMessage",value:function(){document.querySelector(".modal--remove-product .modal__paragraph--error").classList.remove("modal__paragraph--error-show")}},{key:"initModalDate",value:function(){var t=this,e=document.querySelector(".modal-date"),r=e.querySelector(".modal__close"),n=e.querySelector(".js-button-continue"),a=e.querySelector(".js-button-cancel");this.modalDate=new p.a({modal:e,modalShowCLass:"wrapper-modal--show"}),n.addEventListener("click",function(e){e.target;e=t.calendarInstance.formatDate(t.calendarInstance.selectedDates[0],"Y/m/d");t.dateSelected=e,t.updateCalendarComponent(e),t.modalDate.close()}),[r,a].forEach(function(e){e.addEventListener("click",function(e){return t.modalDate.close()})})}},{key:"setHandledButtonEditDateClick",value:function(){var t=this;document.querySelector(".card__button--edit").addEventListener("click",function(e){t.modalDate.show()})}},{key:"setHandledTransporterElement",value:function(){var n=this,a=document.querySelector(".transporter");w(a.querySelectorAll(".price")).forEach(function(r){r.addEventListener("change",function(e){var t=document.querySelector(".price--active");t&&(t.classList.remove("price--active"),t.querySelector('input[type="checkbox"]').checked=!1),r.classList.add("price--active"),r.querySelector('input[type="checkbox"]').checked=!0;t=r.dataset.transporterDeliveryType;a.setAttribute("data-transporter-delivery-type-selected",t),n.setTransporterSelected(a)})})}},{key:"setHandledProduct",value:function(t){var r=this,e=t.querySelector(".product__quantity--minus"),n=t.querySelector(".product__quantity--add"),a=t.querySelector(".js-input-special-packaging"),i=t.querySelector(".product__remove-button"),o=t.querySelector(".product__quantity"),c=t.querySelector(".js-input-product-active");e.addEventListener("click",function(e){return r.handledMinusQuantityProduct(e,t)}),n.addEventListener("click",function(e){return r.handledAddQuantityProduct(e,t)}),a&&a.addEventListener("change",function(e){return r.handledSpecialPackagingProduct(e,t)}),i.addEventListener("click",function(e){return r.handledRemoveProductClick(e,t)}),o.addEventListener("input",function(e){return r.handledProductQuantityChange(e,t)}),c.addEventListener("change",function(e){return r.handledProductActiveChange(e,t)})}},{key:"setHandledProducts",value:function(){var t=this;w(document.querySelectorAll(".summary-table .product")).forEach(function(e){return t.setHandledProduct(e)})}},{key:"setTotalizers",value:function(e){this.totalizers=e}},{key:"setTransporterSelected",value:function(e){var t,r=this,e=0<arguments.length&&void 0!==e?e:null;e?(t=e.dataset.transporterDeliveryTypeSelected,this.transporterSelected.deliveryTypeSelected=this.transporterSelected.deliveryTypes.filter(function(e){return e.type===t})[0]):(e=this.orderForm.customData)&&e.customApps.filter(function(e){return"selectedcourier"===e.id}).forEach(function(e){e=e.fields.courier_data;r.transporterSelected=JSON.parse(e),r.orderDeliveryTypesByLessPrice()})}},{key:"handledAddQuantityProduct",value:function(e,t){var r=t.dataset.productId,n=t.querySelector(".product__quantity"),n=t.dataset.productQuantity=++n.value;this.products[r].quantity=parseInt(n),this.products[r].liftingQuantity=this.products[r].requiresLifting?+parseInt(n):0,"içamento na origem e destino"===this.lifting?(this.products[r].liftingQuantityOrigin=this.products[r].liftingQuantity,this.products[r].liftingQuantityDestination=this.products[r].liftingQuantity):"içamento no origem"===this.lifting?this.products[r].liftingQuantityOrigin=this.products[r].liftingQuantity:this.products[r].liftingQuantityDestination=this.products[r].liftingQuantity}},{key:"handledMinusQuantityProduct",value:function(e,t){var r=t.dataset,n=r.productId,a=r.productQuantity,r=t.querySelector(".product__quantity");1<+a&&(r=t.dataset.productQuantity=--r.value,this.products[n].quantity=parseInt(r),this.products[n].liftingQuantity=this.products[n].requiresLifting?+parseInt(r):0,"içamento na origem e destino"===this.lifting?(this.products[n].liftingQuantityOrigin=this.products[n].liftingQuantity,this.products[n].liftingQuantityDestination=this.products[n].liftingQuantity):"içamento no origem"===this.lifting?this.products[n].liftingQuantityOrigin=this.products[n].liftingQuantity:this.products[n].liftingQuantityDestination=this.products[n].liftingQuantity)}},{key:"handledProductQuantityChange",value:function(e,t){var r=e.target.value,e=t.dataset.productId;0<r&&(this.products[e].quantity=parseInt(r),t.dataset.productQuantity=r,this.products[e].liftingQuantity=this.products[e].requiresLifting?+parseInt(r):0,"içamento na origem e destino"===this.lifting?(this.products[e].liftingQuantityOrigin=this.products[e].liftingQuantity,this.products[e].liftingQuantityDestination=this.products[e].liftingQuantity):"içamento no origem"===this.lifting?this.products[e].liftingQuantityOrigin=this.products[e].liftingQuantity:this.products[e].liftingQuantityDestination=this.products[e].liftingQuantity)}},{key:"handledSpecialPackagingProduct",value:function(e,t){var r=e.target.checked,n=t.dataset,a=n.productId,e=n.skuIdWithBox,n=n.skuIdWithoutBox;t.dataset.productSpecialPackaging=r;a=this.products[a];e*=1,n*=1,a.specialPackaging=r,a.skuId=r?e:n,a.isCustom&&(a.customProductItem.id=a.skuId)}},{key:"handledProductActiveChange",value:function(e,t){e=e.target.checked,t=t.dataset.productId;this.products[t].active=e}},{key:"createProductForModalRemove",value:function(e,t,r){var n=2<arguments.length&&void 0!==r?r:"",r=document.createElement("article");return r.setAttribute("class","product"),r.innerHTML+='\n      <figure class="product__figure">\n        <img \n          class="product__image js-modal-product-image"\n          src="'.concat(t,'"\n          alt="').concat(e,'"\n        />\n      </figure>\n    \n      <div class="product__group">\n        <h3 class="product__name js-modal-product-name">\n          ').concat(e,'\n        </h3>\n        \n        <div class="product__attributes">\n          <p class="attributes__item js-modal-product-attribute-item">\n            ').concat(n,"\n          </p>\n        </div>\n      </div>\n    "),r}},{key:"createCustomProductForModalRemove",value:function(e,t){var r=1<arguments.length&&void 0!==t?t:"",t=document.createElement("article");return t.setAttribute("class","product"),t.innerHTML+='\n      <div class="product__icon-container">\n        <i class="far fa-box product__icon"></i>\n      </div>\n    \n      <div class="product__group">\n        <h3 class="product__name js-modal-product-name">\n          '.concat(e,'\n        </h3>\n        \n        <div class="product__attributes">\n          <p class="attributes__item js-modal-product-attribute-item">\n            ').concat(r,"\n          </p>\n        </div>\n      </div>\n    "),t}},{key:"handledConfirmRemoveProduct",value:(s=C(regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.querySelector('[data-product-id="'.concat(t,'"]')),r.isCustom){e.next=6;break}if(-1!==(a=this.orderForm.items.findIndex(function(e){return e.productId==t})))return e.next=6,this.cartService.remove(a);e.next=6;break;case 6:return delete this.products[t],delete this.insuranceItems[t],e.t0=this,e.next=11,this.cartService.getCurrent();case 11:return e.t1=e.sent,e.t0.updateOrderForm.call(e.t0,e.t1),e.next=15,this.saveData();case 15:return this.updateInsuranceValue(),e.next=18,this.updateTranspoterValue();case 18:this.updateTotalOrderValue(),n.parentElement.remove();case 20:case"end":return e.stop()}},e,this)})),function(e,t){return s.apply(this,arguments)})},{key:"handledRemoveProductClick",value:function(e,t){var r=t.dataset.productId,n=this.products[r].isCustom,a=t.querySelector(".product__name"),i=t.querySelector(".product__image"),o=(t.querySelector(".attributes__item"),document.querySelector(".modal--remove-product")),c=o.querySelector(".product__container"),t=o.querySelector(".js-button-remove-product"),o=o.querySelector(".product");o&&o.remove(),i=n?this.createCustomProductForModalRemove(a.textContent):this.createProductForModalRemove(a.textContent,i.src),c.prepend(i),t.setAttribute("data-product-id-to-remove",r),this.modalRemoveProductInstance.show()}},{key:"updateInsuranceValue",value:function(e){var t=this;["skipped","none"].includes(this.insuranceItems)||(e=Object.values(this.insuranceItems).filter(function(e){e=e.productId;return t.products[e].active}).reduce(function(e,t){return e.add(t.totalInsuranceFormatted)},Object(y.a)("R$ 0,00")),this.totalInsurance=e)}},{key:"updateTranspoterValue",value:(c=C(regeneratorRuntime.mark(function e(){var n,a,t,r,i,o,c,s=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.orderForm,i=o.items,r=o.totalizers,this.setTotalizers(r),n=i.filter(function(e){e=e.id;return 35===parseInt(e)})[0],a=this.totalizers.filter(function(e){return"Shipping"!==e.id}).reduce(function(e,t){return e+t.value},0),t=Object.values(this.products).filter(function(e){return e.active&&!g.a.includes(e.skuId)}).map(function(e){return{quantity:e.quantity,seller:1,id:e.skuId}}),o=Object.values(this.products).filter(function(e){return e.active&&e.isCustom}).reduce(function(e,t){var r=t.customProductItem,n=r.quantity,r=r.id,t=n*t.quantity;return e[r]?e[r].quantity=e[r].quantity+t:e[r]={id:r,quantity:t,seller:1},e},{}),o=Object.values(o),r=i.filter(function(e){return 33===parseInt(e.id)}).map(function(e){return{id:e.id,quantity:e.quantity,seller:1}})[0],i=i.filter(function(e){return 10===parseInt(e.productId)}).map(function(e){return{id:e.id,quantity:e.quantity,seller:1}}),o=[].concat(w(t),w(o)),r&&o.push(r),0<i.length&&(o=[].concat(w(o),w(i))),e.next=15,this.cartService.simulateShipping(o,this.addressCep);case 15:o=e.sent,c=o.logisticsInfo,this.logisticsInfo=c.filter(function(e){var t=s.transporterSelected.courierIds.split(";");return e.slas=e.slas.filter(function(e){return t.includes(e.deliveryIds[0].courierId)}),e}),this.getDeliveryTypes(),this.transporterSelected.deliveryTypes=this.transporterSelected.deliveryTypes.map(function(r){var e=c.reduce(function(e,t){return e+t.slas.filter(function(e){return e.id===r.slaName})[0].price},0);e+=n?a+-n.manualPrice:a;var t=s.helper.formatPrice(e);return I(I({},r),{},{price:e,priceFormatted:t})}),this.transporterSelected.deliveryTypeSelected=this.transporterSelected.deliveryTypes.filter(function(e){return e.slaName===s.transporterSelected.deliveryTypeSelected.slaName})[0],this.totalTransporterSelected=Object(y.a)(this.transporterSelected.deliveryTypeSelected.priceFormatted),this.updateTransporterElement();case 23:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"updateTransporterElement",value:function(){this.transporterSelected.deliveryTypes.forEach(function(e){document.querySelector('[data-transporter-delivery-type="'.concat(e.type,'"]')).querySelector(".price__total").textContent=e.priceFormatted})}},{key:"updateTotalOrderValue",value:function(){this.totalOrderSummary=Object(y.a)("R$ 0,00"),this.setTotalOrderSummary(),this.setTotalOrderSummaryElement()}},{key:"getTransporterVariations",value:function(e){var n={};return e.forEach(function(e){e.slas.forEach(function(e){var t=e.id,r=e.price,e=e.name,t=t.toLowerCase().replace(/\s/g,"");n[t]?n[t].price+=r:n[t]={price:r,name:e}})}),n}},{key:"getDeliveryTypes",value:function(){var a=this,i=this.getTransporterVariations(this.logisticsInfo);delete this.transporterSelected.deliveryType,delete this.transporterSelected.deliveryTypes,this.logisticsInfo[0].slas.forEach(function(e){var t=e.id,r=e.name,n=e.deliveryIds,e=t.toLowerCase().replace(/\s/g,""),t=_(t.split(" - "),2),t=(t[0],t[1]),n=n[0].courierId,e=i[e].price,r=[{price:e,priceFormatted:a.helper.formatPrice(e),id:n,type:t,slaName:r}];a.transporterSelected.deliveryTypes?a.transporterSelected.deliveryTypes=[].concat(r,w(a.transporterSelected.deliveryTypes)):a.transporterSelected.deliveryTypes=r})}},{key:"createProduct",value:function(e){e.skuId;var t=e.imageUrl,r=e.quantity,n=e.productId,a=e.productName,i=(e.description,e.skuIdWithBox),o=e.skuIdWithoutBox,c=(e.requiresLifting,e.specialPackaging);e.liftingQuantityOrigin,e.liftingQuantityDestination;return'\n      <article \n        class="product"\n        data-product-id="'.concat(n,'"\n        data-product-quantity="').concat(r,'" \n        data-product-special-packaging="').concat(c,'"\n        data-sku-id-with-box="').concat(i||!1,'"\n        data-sku-id-without-box="').concat(o,'"\n      >\n        <div class="product__container">\n          <div class="product__container-checkbox">\n            <label for="product-').concat(n,'">\n              <div class="checkbox">\n                <input \n                  checked="true"\n                  type="checkbox"\n                  class="js-input-product-active" \n                  id="product-').concat(n,'"\n                />\n                <i class="far fa-check checkbox__icon"></i>\n              </div>\n            </label>\n          </div>\n      \n          <figure class="product__figure">\n            <img \n              class="product__image" \n              alt="').concat(a,'"\n              src="').concat(t,'" \n            />\n          </figure>\n      \n          <div class="product__group">\n            <h3 class="product__name">').concat(a,'</h3>\n          </div>\n        </div>\n        \n        <div class="product__actions">\n          <button class="actions__button product__quantity--minus">\n            <i class="fal fa-minus button__icon"></i>\n          </button>\n      \n          <input\n            min="1"\n            type="number"\n            class="product__quantity"\n            placeholder="1"\n            value="').concat(r,'"\n          />\n      \n          <button class="actions__button product__quantity--add">\n            <i class="fal fa-plus button__icon"></i>\n          </button>\n        </div>\n        \n        <button class="product__remove-button">\n          <i class="far fa-trash-alt remove-button__icon"></i>\n        </button>\n      </article>\n    ')}},{key:"createCustomProduct",value:function(e){var t=e.quantity,r=e.customAttributes,n=e.productId,e=e.specialPackaging;return'\n      <article \n        class="product"\n        data-product-id="'.concat(n,'"\n        data-product-quantity="').concat(t,'"\n        data-product-special-packaging="').concat(e,'"\n        data-sku-id-with-box="',26,'"\n        data-sku-id-without-box="',25,'"\n      >\n        <div class="product__container">\n          <div class="product__container-checkbox">\n            <label for="product-').concat(n,'">\n              <div class="checkbox">\n                <input \n                  checked="true" \n                  type="checkbox"\n                  class="js-input-product-active"\n                  id="product-').concat(n,'"\n                />\n                <i class="far fa-check checkbox__icon"></i>\n              </div>\n            </label>\n          </div>\n\n          <div class="product__icon-container">\n            <i class="far fa-box product__icon"></i>\n          </div>\n          \n          <div class="product__group">\n            <h3 class="product__name">\n              ').concat(r["product-name"],'\n            </h3>\n          </div>\n        </div>\n\n        <div class="product__actions">\n          <button class="actions__button product__quantity--minus">\n            <i class="fal fa-minus button__icon"></i>\n          </button>\n      \n          <input\n            min="1"\n            type="number"\n            class="product__quantity"\n            placeholder="1"\n            value="').concat(t,'"\n          />\n      \n          <button class="actions__button product__quantity--add">\n            <i class="fal fa-plus button__icon"></i>\n          </button>\n        </div>\n\n        <button class="product__remove-button">\n          <i class="far fa-trash-alt remove-button__icon"></i>\n        </button\n      </article>\n    ')}},{key:"createProductstInOrderForm",value:function(){var d=this;return this.orderForm.items.filter(function(e){e=e.id;return!g.a.includes(parseInt(e))}).map(function(e){var t=e.name,r=e.skuName,n=e.imageUrl,a=e.productId,i=e.quantity,o=e.id,c=t.replace(r,""),s=d.products[a],u=s.skuIdWithBox,l=s.skuIdWithoutBox,e=s.specialPackaging,t=s.requiresLifting,r=s.liftingQuantityOrigin,s=s.liftingQuantityDestination;return'\n            <div class="table__row">\n              '.concat(d.createProduct({skuId:o,quantity:i,imageUrl:n,productId:a,productName:c,description:"",skuIdWithBox:u,skuIdWithoutBox:l,requiresLifting:t,specialPackaging:e,liftingQuantityOrigin:r,liftingQuantityDestination:s}),"\n            </div>\n          ")}).join("")}},{key:"getProductByID",value:(o=C(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.httpClient.get("/api/catalog_system/pub/products/variations/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"createCustomProducts",value:function(){var t=this;return Object.values(this.products).filter(function(e){return e.isCustom}).map(function(e){return'\n          <div class="table__row">\n            '.concat(t.createCustomProduct(e),"\n          </div>\n        ")}).join("")}},{key:"addCustomProductsToDOM",value:function(e){this.tableContentElement.innerHTML+=e}},{key:"addOrderFormProductsToDOM",value:function(e){this.tableContentElement.innerHTML+=e}},{key:"addTransporterToDOM",value:function(e){document.querySelector(".card--transporter").innerHTML+=e}},{key:"getProductsInCustomData",value:function(){var t=this;try{var e=this.orderForm.customData;if(!e)return;e.customApps.filter(function(e){return"selecteditems"===e.id}).forEach(function(e){e=e.fields.products_data;JSON.parse(e).forEach(function(e){e.active=!0,t.products[e.productId]=e})})}catch(e){console.error("Error in getCustomProductsInLocalStorage",e)}}},{key:"createTransporterPriceElement",value:function(e,t){t=1<arguments.length&&void 0!==t&&t;return'\n      <div \n        class="price '.concat(t?"price--active":"",'" \n        data-transporter-delivery-type="').concat(e.type,'"\n      >\n        <div class="price__row">\n          <div class="price__container price__container--flex">\n            <label for="').concat(e.id,'">\n              <div class="checkbox">\n                <input \n                  type="checkbox" \n                  id="').concat(e.id,'"\n                  ').concat(t?'checked="true"':"",'\n                />\n                  \n                <i class="fa fa-check checkbox__icon"></i>\n              </div>\n\n              <p class="checkbox__label">').concat(e.type,'</p>\n            </label>\n\n            <button \n              class="tooltip without-padding" \n              data-balloon-pos="left" \n              data-balloon-length="large"\n              aria-label="').concat("Exclusivo"===e.type?"Nas mudanças exclusivas, o caminhão da mudança vai direto para sua nova residência. Apenas seus bens vão no caminhão de mudança. Prazo de entrega: A entrega ocorrerá imediatamente após a embalagem dos seus itens. Por favor, considere os dias de viagens necessários para que o caminhão da mudança chegue até o destino. Antes da embalagem nossos consultores entrarão em contato para agendar a melhor data para sua conveniência":"Nas mudanças compartilhadas os seus bens podem ir no caminhão de mudança junto com outros de outras pessoas. Mas o fato de compartilhar o caminhão não representa qualquer risco para seus bens e sem qualquer perda de qualidade. Prazo de entrega: Em até 45 dias da data da embalagem. Nossos consultores entrarão em contato para agendar a melhor data para sua conveniência",'">\n              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M0 8C0 3.58172 3.58172 0 8 0C10.1217 0 12.1566 0.842855 13.6569 2.34315C15.1571 3.84344 16 5.87827 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8ZM1.6 8C1.6 4.46538 4.46538 1.6 8 1.6C9.69739 1.6 11.3253 2.27428 12.5255 3.47452C13.7257 4.67475 14.4 6.30261 14.4 8C14.4 11.5346 11.5346 14.4 8 14.4C4.46538 14.4 1.6 11.5346 1.6 8Z" fill="#FF8B30"></path>\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M10.2907 7.53114C10.5738 7.28895 10.7798 6.97699 10.8854 6.63034C11.0329 6.11191 10.9471 5.55896 10.6482 5.10234C10.4031 4.73488 10.0414 4.44987 9.61467 4.28794C9.11078 4.09022 8.5693 3.9922 8.02371 3.99994C7.65121 4.00747 7.28303 4.0768 6.93596 4.20474C6.41622 4.38232 5.96755 4.70764 5.65166 5.13594C5.46403 5.38958 5.36133 5.69056 5.35685 5.99994C5.3473 6.17964 5.42014 6.35453 5.55678 6.47994C5.6583 6.56944 5.78567 6.62846 5.92275 6.64954C6.23437 6.73113 6.56596 6.61184 6.74111 6.35514C6.81762 6.2391 6.88223 6.11632 6.94689 5.99346C6.97673 5.93675 7.00658 5.88002 7.03761 5.82394C7.15101 5.57642 7.36828 5.38457 7.6374 5.29434C7.88275 5.22353 8.14259 5.20981 8.39476 5.25434C8.55994 5.27946 8.71693 5.33964 8.85392 5.43034C9.23345 5.68314 9.30291 6.25434 9.08096 6.60314C8.91857 6.83449 8.71373 7.03659 8.47609 7.19994C8.15735 7.41611 7.85915 7.65809 7.58488 7.92314C7.34888 8.15468 7.21292 8.46108 7.20366 8.78234C7.18548 9.04698 7.32284 9.29964 7.56116 9.43994C7.7043 9.52066 7.87169 9.55441 8.03726 9.53594C8.29383 9.53636 8.52418 9.38752 8.61672 9.16154C8.66077 9.0634 8.70595 8.961 8.75226 8.85434C8.80661 8.71112 8.89875 8.58336 9.01996 8.48314L9.02 8.48311C9.20128 8.34872 9.38256 8.21433 9.56723 8.08634C9.82276 7.91863 10.0646 7.73304 10.2907 7.53114ZM7.01389 11.1343C7.01389 11.6124 7.42428 11.9999 7.93052 11.9999C8.17362 11.9999 8.40677 11.9087 8.57867 11.7464C8.75057 11.5841 8.84714 11.3639 8.84714 11.1343C8.84714 10.6563 8.43676 10.2687 7.93052 10.2687C7.42428 10.2687 7.01389 10.6563 7.01389 11.1343Z" fill="#FF8B30"></path>\n              </svg>\n            </button>\n          </div>\n\n          <div class="price__container price__container--right">\n            <span class="price__total">').concat(e.priceFormatted,'</span>\n            <p class="price__parcels">até 6x sem juros</p>\n          </div>\n        </div>\n\n        ').concat("Compartilhado"===e.type?'\n          <p class="price__paragraph price__paragraph--text-orange price__paragraph--text-center price__paragraph--initial-wrap">\n            * Prazo de entrega: em até 45 dias da data da embalagem.\n          </p>\n        ':"","\n      </div> \n    ")}},{key:"createTransporterElement",value:function(e){var r=this,t=e.id,n=e.nome,a=e.logoURL,i=(e.features,e.descricao,e.deliveryTypes),o=e.deliveryTypeSelected,c=i.map(function(e){var t=e.id===o.id;return r.createTransporterPriceElement(e,t)}).join(""),e=i.filter(function(e){return"Compartilhado"===e.type})[0],i=i.filter(function(e){return"Exclusivo"===e.type})[0];return'\n      <section \n        id="'.concat(t,'" \n        data-transporter-id="').concat(t,'"\n        class="transporter transporter--without-padding"\n        data-transporter-delivery-type-selected="').concat((e||i).type,'"\n      >\n        <figure class="transporter__brand">\n          <img \n            class="transporter__logo" \n            src="').concat(a,'"\n          />\n        </figure>\n\n        <div class="transporter__details">\n          <div class="transporter__row">\n            <h3 class="transporter__name">').concat(n,'</h3>\n          </div>\n        </div>\n\n        <div class="transporter__prices">\n          ').concat(c,'\n        </div>\n      </section>\n\n      <div class="shipping-date" id="entenda-o-prazo-de-entrega-da-sua-mudanca">\n        <p class="shipping-date__paragraph shipping-date__paragraph--center shipping-date__paragraph--margin-bottom">\n          <b>Entenda o prazo de entrega da sua mudança</b>\n        </p>\n        \n        <p class="shipping-date__paragraph shipping-date__paragraph--margin-bottom">\n          <b>COMPARTILHADA: </b> Em até 45 dias da data da embalagem. Nossos consultores entrarão em contato para agendar a\n          melhor data para sua conveniência. Fique tranquilo, sua mudança não será entregue sem prévio aviso.\n        </p>\n        \n        <p class="shipping-date__paragraph shipping-date__paragraph--margin-bottom">\n          <b>EXCLUSIVA: </b> A entrega ocorrerá imediatamente após a embalagem dos seus itens. Por favor, considere os dias de\n          viagens necessários para que o caminhão da mudança chegue até o destino. Antes da embalagem nossos consultores\n          entrarão em contato para agendar a melhor data para sua conveniência. Fique tranquilo, sua mudança não será entregue\n          sem prévio aviso.\n        </p>\n      </div>\n    ')}},{key:"setDate",value:function(){var t=this,e=this.orderForm.customData;e&&e.customApps.filter(function(e){return"orderinfo"===e.id}).forEach(function(e){e=e.fields.moving_date;t.dateSelected=e,t.updateCalendarComponent(e)})}},{key:"updateCalendarComponent",value:function(e){var t=document.querySelector(".card__number--big"),r=S()(new Date(e)).locale("pt-br"),n=r.format("dddd"),a=r.format("MMMM"),e=r.year(),e="".concat(n,", ").concat(a," / ").concat(e);t.textContent=r.date(),t.nextElementSibling.textContent=e}},{key:"getAddress",value:function(){var e=this.orderForm.customData;e&&e.customApps.filter(function(e){return"orderinfo"===e.id}).forEach(function(e){var p=Object.entries(e.fields).filter(function(e){var t=_(e,2),e=t[0];t[1];return e.includes("from_")||e.includes("to_")}).reduce(function(e,t){var r=_(t,2),t=r[0],r=r[1];return I(I({},e),{},x({},t,r))},{});[document.querySelector(".js-address-from"),document.querySelector(".js-address-to")].forEach(function(e){var t=e.classList.contains("js-address-from")?"from":"to",r=e.querySelector(".card__content"),n=e.querySelector(".js-address-special-handly-condition"),a=e.querySelector(".js-address-home-type"),i=p["".concat(t,"_special_handly_condition")],o=p["".concat(t,"_address_complement")],c=p["".concat(t,"_address_county")],s=p["".concat(t,"_address_name")],u=p["".concat(t,"_address_number")],l=p["".concat(t,"_address_zipcode")],d=p["".concat(t,"_city")],e=p["".concat(t,"_state")],t=p["".concat(t,"_home_type")];a.textContent=t,n.textContent=i;u=[s,u].filter(function(e){return void 0!==e&&""!==e}).join(", "),c=[o,c].filter(function(e){return void 0!==e&&""!==e}).join(" - "),e=[d,e].filter(function(e){return void 0!==e&&""!==e}).join(" - ");r.innerHTML='\n            <h3 class="card__subtitle">'.concat(l,'</h3>\n            <p class="card__paragraph">').concat(u,'</p>\n            <p class="card__paragraph">').concat(c,'</p>\n            <p class="card__paragraph">').concat(e,"</p>\n          ")})})}},{key:"getInsuranceItems",value:function(){var t=this,e=this.orderForm.customData;e&&e.customApps.filter(function(e){return"insurance"===e.id}).forEach(function(e){e=e.fields.items;["skipped","none"].includes(e)||(t.insuranceItems=JSON.parse(e))})}},{key:"saveData",value:(i=C(regeneratorRuntime.mark(function e(){var t,r,n,a,i,o,c,s,u,l,d,p,f=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(0<f.length&&void 0!==f[0])||f[0],e.prev=1,e.next=4,window.vtexjs.checkout.removeAllItems();case 4:if(r=Object.values(this.products).filter(function(e){return 0!==e.quantity}),n=this.getAdditionalWeightSKU(r),a=r.map(function(e){return I(I({},e),{},{seller:1,id:e.skuId})}),i=this.getDisassemblyAndAssemblySKU(r),o=this.getLiftingSKUs(),c=this.getInsuranceSKU(),s=this.getInsuranceDataInCustomData(),s=s.total,!t){e.next=19;break}if(s)return e.next=15,this.cartService.checkoutCRUD([].concat(w(a),w(o),[n,i,c]));e.next=17;break;case 15:e.next=19;break;case 17:return e.next=19,this.cartService.checkoutCRUD([].concat(w(a),w(o),[n,i]));case 19:return e.t0=this,e.next=22,this.cartService.getCurrent();case 22:if(e.t1=e.sent,e.t0.updateOrderForm.call(e.t0,e.t1),d=this.getInsuranceSkuIndex(),s&&-1!==d)return e.t2=this,e.next=29,this.insuranceService.updateInsuranceSKUPrice(Object(y.a)(s).multiply(.01).intValue,d,this.orderForm.orderFormId);e.next=31;break;case 29:e.t3=e.sent,e.t2.updateOrderForm.call(e.t2,e.t3);case 31:if(u=this.calculateLiftingTotalPrice(),l=this.calculateTotalForSpecialPackaging(),p=this.calculateTotalForDisassemblyAndAssembly(),this.updateServiceItem("Içamento",u),this.updateServiceItem("Embalagem especial",l),this.updateServiceItem("Desmontagem e Montagem",p),location.search.includes("logged"))return e.t4=this,e.next=41,this.cartService.updateCheckoutTransporterSLA(this.logisticsInfo);e.next=43;break;case 41:e.t5=e.sent,e.t4.updateOrderForm.call(e.t4,e.t5);case 43:return d={current_step:"order-summary",moving_date:this.dateSelected,user_selected_storage_months:this.userSelectedStorageMonths,lifting_total_price:u,special_packaging_total_price:l},p="string"==typeof this.insuranceItems?this.insuranceItems:JSON.stringify(this.insuranceItems),p={items:p,total:this.totalInsurance.format()},e.next=48,Promise.all([this.cartService.setMultipleCustomDataFields("orderinfo",d),this.cartService.setMultipleCustomDataFields("insurance",p),this.cartService.setSingleCustomDataField("selecteditems","products_data",JSON.stringify(r)),this.cartService.setSingleCustomDataField("selectedcourier","courier_data",JSON.stringify(this.transporterSelected))]);case 48:e.next=53;break;case 50:e.prev=50,e.t6=e.catch(1),console.log("saveData",e.t6);case 53:case"end":return e.stop()}},e,this,[[1,50]])})),function(){return i.apply(this,arguments)})},{key:"setHandledUpdateButtonClick",value:function(){var t=this,r=document.querySelector(".js-button-update"),n=r.querySelector("span");r.addEventListener("click",function(e){1<=Object.values(t.products).filter(function(e){return e.active}).length?(t.hideUpdateErrorMessage(),t.handledUpdateButtonClick(r,n)):t.showUpdateErrorMessage()})}},{key:"showUpdateErrorMessage",value:function(){document.querySelector(".actions__warning").classList.add("actions__warning--show")}},{key:"hideUpdateErrorMessage",value:function(){document.querySelector(".actions__warning").classList.remove("actions__warning--show")}},{key:"handledUpdateButtonClick",value:(a=C(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.classList.add("js-loading"),e.next=3,this.saveData();case 3:return this.updateInsuranceValue(!0),e.next=6,this.updateTranspoterValue(!0);case 6:if(Object.values(this.products).map(function(e){return e.active}).includes(!1)){e.next=10;break}return e.next=10,this.cartService.setSingleCustomDataField("selectedcourier","courier_data",JSON.stringify(this.transporterSelected));case 10:r.innerText="VALORES ATUALIZADOS",this.updateTotalOrderValue(),t.classList.remove("js-loading"),setTimeout(function(){r.innerText="ATUALIZAR VALORES"},3e3);case 14:case"end":return e.stop()}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"setAddressCep",value:function(){var t=this,e=this.orderForm.customData;e&&e.customApps.filter(function(e){return"orderinfo"===e.id}).forEach(function(e){e=e.fields.to_address_zipcode;t.addressCep=e})}},{key:"setHandledButtonSaveClick",value:function(){var t=this;document.querySelector(".js-button-save").addEventListener("click",C(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return document.dispatchEvent(window.initSaveCustomDataEvent),e.next=3,t.saveData();case 3:document.dispatchEvent(window.endSaveCustomDataEvent);case 4:case"end":return e.stop()}},e)})))}},{key:"orderDeliveryTypesByLessPrice",value:function(){this.transporterSelected.deliveryTypes.sort(function(e,t){return e.price-t.price})}},{key:"getLiftingItems",value:function(){return this.orderForm.items.filter(function(e){return 10===parseInt(e.productId)})}},{key:"calculateLiftingTotalPrice",value:function(){var e,t,r=this,n=this.getLiftingItems();return t=0===n.length?0:(t=Object.values(this.products).filter(function(e){return!e.active}).reduce(function(e,t){t=e+t.liftingQuantity;return"içamento na origem e destino"===r.lifting?2*t:t},0),t=((e=n.reduce(function(e,t){return e+t.quantity},-t))-1)*(n=n[0].price)/2,t+=0<e?n:-1*t,this.helper.formatPrice(t)),Object(y.a)(t).format()}},{key:"getStorageItem",value:function(){return this.orderForm.items.filter(function(e){return 15===parseInt(e.productId)})[0]}},{key:"calculateStoragePrice",value:function(){var e=this.getStorageItem();if(!e)return"R$ 0,00";e=this.helper.formatPrice(e.price*e.quantity);return this.totalStorageMonth=Object(y.a)(e).divide(parseInt(this.userSelectedStorageMonths)).format(),this.totalStorageMonth}},{key:"getItemsWithSpecialPackaging",value:function(){return this.orderForm.items.filter(function(e){return"com caixa"===e.skuName})}},{key:"calculateTotalForSpecialPackaging",value:function(){var n=this,e=this.getItemsWithSpecialPackaging(),a=Object.values(this.products),e=e.filter(function(e){var t=e.productId,r=e.id;return 12==t&&(t=a.filter(function(e){return e.skuId==r})[0].productId),n.products[t].active}).reduce(function(e,t){return e+t.price*t.quantity},0),e=this.helper.formatPrice(e);return Object(y.a)(e).format()}},{key:"calculateTotalForDisassemblyAndAssembly",value:function(){var e=this.orderForm.items.find(function(e){return 699===parseInt(e.id)});if(!e)return"R$ 0,00";var t=e.quantity,e=e.price;return this.helper.formatPrice(t*e)}},{key:"createServiceItem",value:function(e,t){return'\n      <div class="service" data-service="'.concat(e,'">\n        <div class="service__container">\n          <div class="service__group">\n            <h3 class="service__name">').concat(e,"</h3>\n          </div>\n        </div>\n\n        ").concat("Armazenagem"===e?'\n          <div class="custom-select">\n            <select class="select__native">\n              <option value="1">30 dias</option>\n              <option value="2">60 dias</option>\n              <option value="3">90 dias</option>\n              <option value="4">120 dias</option>\n              <option value="5">150 dias</option>\n              <option value="6">180 dias</option>\n            </select>\n            \n            <span class="select__custom-selected">30 dias</span>\n            \n            <div class="select__custom">\n              <ul class="select__list"></ul>\n            </div>\n\n            <i class="fas fa-caret-down select__icon"></i>\n          </div>\n        ':"",'\n\n        <span class="service__value">').concat(t,"</span>\n      </div>\n    ")}},{key:"updateServiceItem",value:function(e,t){e=document.querySelector('.service[data-service="'.concat(e,'"]'));e&&(e.querySelector(".service__value").textContent=t)}},{key:"addServicesToDOM",value:function(){var e=this.calculateLiftingTotalPrice(),t=this.calculateStoragePrice(),r=this.calculateTotalForSpecialPackaging(),n=this.calculateTotalForDisassemblyAndAssembly(),a="R$ 0,00"!==t?this.createServiceItem("Armazenagem",t):"",t="R$ 0,00"!==e?this.createServiceItem("Içamento",e):"",e="R$ 0,00"!==r?this.createServiceItem("Embalagem especial",r):"",r="R$ 0,00"!==n?this.createServiceItem("Desmontagem e Montagem",n):"",n=document.querySelector(".service-items-table"),r=[a,t,e,r].join("");n.innerHTML+=r,""!==a&&(this.createCustomSelectForStorageService(),this.updateCustomSelectStorageService()),""===r&&n.remove()}},{key:"createCustomSelectForStorageService",value:function(){var t=this,e=document.querySelector(".custom-select .select__native"),r=document.querySelector(".custom-select .select__custom"),n=document.querySelector(".custom-select .select__list"),a=document.querySelector(".custom-select .select__custom-selected");this.customSelectStorageServiceInstance=new CustomSelect({selectElement:e,customSelectList:n,customSelectSelected:a,customSelectListItemClassName:"",customSelectListItemClassNameActive:"active",selectOpenCallback:function(){var e=n.offsetHeight;r.classList.add("select__custom--open"),r.style.maxHeight="".concat(e,"px")},selectCloseCallback:function(){r.classList.remove("select__custom--open"),r.style.maxHeight=0},selectChangeCallback:function(e){e=e.value;t.totalStorage=Object(y.a)(t.totalStorageMonth).multiply(parseInt(e)),t.userSelectedStorageMonths=parseInt(e),t.updateServiceItem("Armazenagem",t.totalStorage.format())}})}},{key:"getStorageMonths",value:function(){var t=this,e=this.orderForm.customData;e&&e.customApps.filter(function(e){return"orderinfo"===e.id}).forEach(function(e){e=e.fields.user_selected_storage_months;e&&(t.userSelectedStorageMonths=e)})}},{key:"updateCustomSelectStorageService",value:function(){this.customSelectStorageServiceInstance.changeOption(this.userSelectedStorageMonths)}},{key:"updateSelectedSLA",value:function(){var t=this.transporterSelected.deliveryTypeSelected.slaName;this.logisticsInfo=this.logisticsInfo.map(function(e){return I(I({},e),{},{selectedSla:t})})}},{key:"getLiftingSKUs",value:function(){this.getLiftingQuantity();var e="içamento na origem e destino"===this.lifting?this.liftingQuantity/2:this.liftingQuantity,t=[];return"içamento na origem e destino"!==this.lifting&&"içamento no origem"!==this.lifting||(e=Object.values(this.products).filter(function(e){return 0<e.quantity}).reduce(function(e,t){return e+t.liftingQuantityOrigin},0),t.push({id:19,skuId:19,seller:1,productId:10,quantity:e})),"içamento na origem e destino"!==this.lifting&&"içamento no destino"!==this.lifting||(e=Object.values(this.products).filter(function(e){return 0<e.quantity}).reduce(function(e,t){return e+t.liftingQuantityDestination},0),t.push({id:698,skuId:698,seller:1,productId:10,quantity:e})),t}},{key:"getLiftingQuantity",value:function(){this.liftingQuantity=Object.values(this.products).filter(function(e){return 0<e.quantity}).reduce(function(e,t){return e+t.liftingQuantity},0),this.liftingQuantity*="içamento na origem e destino"===this.lifting?2:1}},{key:"removePageLoading",value:function(){document.body.classList.remove("page-app--loading")}},{key:"getAdditionalWeightSKU",value:function(e){return{id:696,seller:1,quantity:e.filter(function(e){return e.additionalWeight}).reduce(function(e,t){return e+t.quantity},0)}}},{key:"getDisassemblyAndAssemblySKU",value:function(e){return{id:699,seller:1,quantity:e.filter(function(e){var t=e.requiresAssembly,e=e.requiresDisassembly;return t&&e}).reduce(function(e,t){return e+t.quantity},0)}}},{key:"getInsuranceSKU",value:function(){return{id:35,seller:1,quantity:1}}},{key:"getInsuranceDataInCustomData",value:function(){var e=this.orderForm.customData;if(!e)return{};e=e.customApps.find(function(e){return"insurance"===e.id});return e?e.fields:{}}},{key:"getInsuranceSkuIndex",value:function(){var e=this.orderForm.items;return e.findIndex(function(e){return 35===parseInt(e.id)})}}])&&P(t.prototype,r),n&&P(t,n),e}();document.addEventListener("DOMContentLoaded",function(){new o})},x9ji:function(e,t,r){"use strict";r("07d7"),r("5s+n"),r("ls82");var i=r("sEj0"),o=r("jmbs");function s(e,t,r,n,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,a)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._logger=new o.c("httpClient")}var t,r,n,c,a;return t=e,(r=[{key:"get",value:function(e){if(!o.a.isUndefined(e))return this._execute(e,"GET")}},{key:"delete",value:function(e){if(!o.a.isUndefined(e))return this._execute(e,"DELETE")}},{key:"post",value:function(e,t){t=1<arguments.length&&void 0!==t?t:{};if(!o.a.isUndefined(e))return this._execute(e,"POST",t)}},{key:"put",value:function(e,t){if(!o.a.isUndefined(e)&&!o.a.isUndefined(t))return this._execute(e,"PUT",t)}},{key:"patch",value:function(e,t){if(!o.a.isUndefined(e)&&!o.a.isUndefined(t))return this._execute(e,"PATCH",t)}},{key:"_execute",value:function(e,t,r){var n=this,t={method:t,headers:{accept:"application/vnd.vtex.masterdata.v10+json","content-type":"application/json; charset=utf-8"}};return r&&(t.body=JSON.stringify(r)),Object(i.a)(e,t).then(this.validateResponse).then(this.parseResponseToJson).then(function(e){return e}).catch(function(e){return n._logger.log("Request succeeded with JSON response",e),e})}},{key:"parseResponseToJson",value:(c=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,t.json();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}),a=function(){var e=this,o=arguments;return new Promise(function(t,r){var n=c.apply(e,o);function a(e){s(n,t,r,a,i,"next",e)}function i(e){s(n,t,r,a,i,"throw",e)}a(void 0)})},function(e){return a.apply(this,arguments)})},{key:"validateResponse",value:function(e){return e.ok?Promise.resolve(e):Promise.reject(new Error(e.statusText))}}])&&u(t.prototype,r),n&&u(t,n),e}();t.a=r}},[[23,0,2]]]);
//# sourceMappingURL=b8one.mobile.order-summary.js.map