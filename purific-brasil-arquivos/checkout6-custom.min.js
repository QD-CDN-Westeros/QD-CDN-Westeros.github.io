/* LAPTOP-T0P1H0OI - 06/07/2021 16:03:04 GMT */
var CustomCheckout={init:function(){CustomCheckout.addHtml();CustomCheckout.checkOpenTextField();CustomCheckout.addSellerCouponCheckout();CustomCheckout.boxContentHealth();CustomCheckout.orderPlaced()},addSellerCouponCheckout:function(){$("#cart-seller-coupon-add").click(function(){var coupon=$("#seller-coupon").val();if(!coupon||!coupon.length){return}vtexjs.checkout.getOrderForm().done(function(){vtexjs.checkout.sendAttachment("openTextField",{value:coupon}).done(function(orderForm){var op=orderForm.openTextField.value;console.log(op);$(".seller-coupon-text").text(op);$(".seller-coupon-value").show();$(".seller-coupon-fields").hide()})})});$(".remove-seller-coupon").on("click",function(){vtexjs.checkout.getOrderForm().done(function(){return vtexjs.checkout.sendAttachment("openTextField",{value:null})}).done(function(orderForm){$(".seller-coupon-text").val("");$(".seller-coupon-fields").show();$(".seller-coupon-value").hide()})})},checkOpenTextField:function(){setTimeout(function(){if(vtexjs&&vtexjs.checkout&&vtexjs.checkout.orderForm&&vtexjs.checkout.orderForm.openTextField){var op=vtexjs.checkout.orderForm.openTextField.value;console.log(op);if(op){$(".seller-coupon-text").text(op);$(".seller-coupon-value").show();$(".seller-coupon-fields").hide()}}},1200)},addHtml:function(){var html='<div class="summary-coupon-wrap"><form class="seller-coupon-form">                    <fieldset class="seller-coupon-fieldset"><div class="mz-code">                            <p class="coupon-label"><label for="cart-coupon">Código do vendedor</label></p><div class="seller-coupon-value" style="display:none"><p class="seller-coupon-text"></p><small class="remove-seller-coupon"><a>excluir</a></small></div><p class="seller-coupon-fields" ><span><input type="text" id="seller-coupon" class="coupon-value seller-coupon input-small" placeholder="Código do vendendor"><button id="cart-seller-coupon-add" class="btn">Adicionar</button></span><span class="info" style="display: none;"><span></span></span></p></div></fieldset></form></div>';$(html).insertBefore(".cart-totalizers")},boxContentHealth:function(){var $boxContentHealth='<div class="cart-health-content"><div class="box-content-health"><h4>Ao receber sua encomenda</h4><ul><li>Mantenha uma certa distância em relação ao entregador.</li><li>Se possível, abra o pacote antes mesmo de entrar em sua residência ou higienizar o pacote antes de abri-lo.</li><li>Lavar as mãos em seguida, com água e sabão, respeitando a regra dos 20 segundos.</li></ul></div></div>';$($boxContentHealth).insertBefore(".cart-links-bottom")},orderPlaced:function(){if(!window.location.href.indexOf("orderPlaced")>0)return;$.ajax({type:"GET",method:"GET",url:"/api/oms/user/orders",dataType:"json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"}}).done(function(data){console.log("data-1",data);var orders=data.list;var orderIds=[];orders.forEach(function(content){orderIds.push(content.orderId)});if(orderIds.length==1){}}).fail(function(e){console.log(e)})}};$(function(){CustomCheckout.init()});