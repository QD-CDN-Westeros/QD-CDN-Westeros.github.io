/* DESKTOP-CN1L9NF - 27/06/2023 15:36:59 GMT */
"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}try{var Common={run:function run(){},init:function init(){Common.config_TAGS_OTO();Common.overFlowBody();Common.lojasFooter()},ready:function ready(){},ajaxStop:function ajaxStop(){},windowOnload:function windowOnload(){},config_TAGS_OTO:function config_TAGS_OTO(){(function(p,m,t,a,g,s,e){p.PMTagObject=a;p[a]||(p[a]=function(){(p[a].q=p[a].q||[]).push(arguments)});p[a].a=+new Date;p[a].aid=g||"";e=m.createElement(t);s=m.getElementsByTagName(t)[0];e.src="https://cdn.pmweb.com.br/df/tag.js?id="+p[a].aid;e.async=1;s.parentNode.insertBefore(e,s)})(window,document,"script","pm","OTO-KQDBRL");pm("init");var reload=function reload(){return setTimeout(function(){Common.config_TAGS_OTO()},100)};if(typeof dataLayer=="undefined"||typeof pm=="undefined"){reload();return}if(!dataLayer.filter(function(e){return e.pageCategory}).length)return;var dataLayerPage=dataLayer.filter(function(e){return e.pageCategory})[0];vtexjs.checkout.getOrderForm().done(function(){var departamentPage=function departamentPage(){console.log("OTO Event - Category Page");var id=dataLayerPage.categoryId,name=dataLayerPage.categoryName;pm({category:{id:id,name:name}})};var categoryPage=function categoryPage(){console.log("OTO Event - Category Page");var id=dataLayerPage.siteSearchCategory,name=dataLayerPage.pageDepartment;pm({category:{id:id,name:name}})};var productPage=function productPage(){console.log("OTO Event - Product Page");var name=dataLayerPage.productName,id=dataLayerPage.productId,price=dataLayerPage.productPriceTo,category=dataLayerPage.productCategoryName,variant=dataLayerPage.productName;pm({detail:[{name:name,id:id,price:price/100,category:category,variant:variant,list:"Product Page",quantity:$(".quantity-selector-container .quantitySelector input[type=number]").val(),position:1}]})};var userIdentity=function userIdentity(){var loggedIn=vtexjs.checkout.orderForm.loggedIn;var customer_id=vtexjs.checkout.orderForm.userProfileId;if(!loggedIn)return;var email=vtexjs.checkout.orderForm.clientProfileData.email;console.log("OTO Event - User Identity");pm({match:{customer_id:customer_id,email:email}})};var pageCategory=dataLayerPage.pageCategory;switch(pageCategory){case"Departament":departamentPage();break;case"InternalSiteSearch":categoryPage();break;case"Product":productPage();break;default:break}userIdentity()})},overFlowBody:function overFlowBody(){var menuMobile=$(".mz-fixed-bar .menu-mobile, .mz-fixed-bar .btn-mini-cart");var btnClose=$(".close-menu-content, .overlay-cart");menuMobile.on("click",function(){$("body").css("overflow","scroll")});$(".mz-fixed-bar .menu-mobile").on("click",function(){$(".mz-fixed-bar").css("z-index","0")});btnClose.on("click",function(){$("body").css("overflow","auto");$(".mz-fixed-bar").css("z-index","999")})},lojasFooter:function lojasFooter(){var arrowNossasLojas={prev:'\n      <svg xmlns="http://www.w3.org/2000/svg" width="58" height="59" viewBox="0 0 58 59" fill="none">\n      <g filter="url(#filter0_d_98_995)">\n      <rect width="38" height="39" rx="19" transform="matrix(-1 0 0 1 48 6)" fill="#EEEEEE" shape-rendering="crispEdges"/>\n      <path d="M30.75 22L27.25 25.5L30.75 29" stroke="#3E3E3E" stroke-linecap="round"/>\n      </g>\n      <defs>\n      <filter id="filter0_d_98_995" x="0" y="0" width="58" height="59" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n      <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n      <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n      <feOffset dy="4"/>\n      <feGaussianBlur stdDeviation="5"/>\n      <feComposite in2="hardAlpha" operator="out"/>\n      <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"/>\n      <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_98_995"/>\n      <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_98_995" result="shape"/>\n      </filter>\n      </defs>\n      </svg>\n      ',next:'\n      <svg xmlns="http://www.w3.org/2000/svg" width="58" height="59" viewBox="0 0 58 59" fill="none">\n      <g filter="url(#filter0_d_98_947)">\n      <rect x="10" y="6" width="38" height="39" rx="19" fill="#EEEEEE" shape-rendering="crispEdges"/>\n      <path d="M27.25 22L30.75 25.5L27.25 29" stroke="#3E3E3E" stroke-linecap="round"/>\n      </g>\n      <defs>\n      <filter id="filter0_d_98_947" x="0" y="0" width="58" height="59" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n      <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n      <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n      <feOffset dy="4"/>\n      <feGaussianBlur stdDeviation="5"/>\n      <feComposite in2="hardAlpha" operator="out"/>\n      <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"/>\n      <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_98_947"/>\n      <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_98_947" result="shape"/>\n      </filter>\n      </defs>\n      </svg>\n      '};$(".nossas-lojas-footer").slick({infinite:true,slidesToShow:4,slidesToScroll:1,prevArrow:arrowNossasLojas.prev,nextArrow:arrowNossasLojas.next,responsive:[{breakpoint:520,settings:{slidesToShow:1,slidesToScroll:1}}]})}};var Home={run:function run(){},init:function init(){},ready:function ready(){},ajaxStop:function ajaxStop(){},windowOnload:function windowOnload(){}};var Search={run:function run(){},init:function init(){Search.openFilter();Search.accordeonCategories();Search.slideFilterPriceDesk();Search.slideFilterPriceMob();Search.filterSelectedDesk();Search.filterSelectedMob();Search.filterSelectedCategorie()},ready:function ready(){},ajaxStop:function ajaxStop(){},windowOnload:function windowOnload(){},openFilter:function openFilter(){var wrapper=$(".navigation-tabs, .navigation");var wrapperMob=$(".mz-filter-mob .navigation-tabs, .mz-filter-mob .navigation");var btnClose='\n        <div class=\'mz-top-menu-mob\'><p>FILTROS</p><p class=\'mz-close\'>X</p></div>\n        <div class="mz-search-navigator">\n          <p class="mz-search-navigator__mobile">Filtrar</p>\n          <div class="mz-search-navigator__filter-by">\n            <span>Filtrado por:</span>\n            <div class="mz-search-navigator__filter-by--selected"></div>\n          </div>\n          <div class="mz-search-navigator__clean-filters">\n            <a href=""><p>Limpar</p></a>\n          </div>\n        </div>\n      ';$(".btn-filters").on("click",function(){wrapper.toggleClass("active")});wrapperMob.prepend(btnClose);$(".mz-top-menu-mob .mz-close").on("click",function(){wrapper.removeClass("active")});if($("h3.perfumes span").html()===""){$("h3.perfumes span").remove()}else{return}},accordeonCategories:function accordeonCategories(){var elementSelect=$(".navigation-tabs ul, .navigation ul");elementSelect.each(function(){console.log($(this));if($(this).children().length>=1){$(this).prev().addClass("mz-title")}});$(".mz-title").on("click",function(){$(this).toggleClass("active");$(this).next("ul").toggleClass("active")});if(!$(".search-single-navigator h3.perfumes").is(".mz-title")){$(".search-single-navigator h3.perfumes").addClass("mz-title-solo")}else{$(".search-single-navigator h3.perfumes").removeClass("mz-title-solo")}},slideFilterPriceDesk:function slideFilterPriceDesk(){$('<div class="mz-container-desk-price">\n      <h5>Faixa de preço</h5>\n      <div id="slider">\n      </div>\n      <div class="mz-container">\n        <label class="mz-min">\n        <p>Min</p>\n        <input type="text" id="min" readonly ">\n        </label>\n\n        <label class="mz-max">\n        <p>Max</p>\n        <input type="text" id="max" readonly ">\n        </label>\n\n       </div>\n       </div>\n      ').insertAfter(".mz-filter-desk .search-single-navigator");$('<a class="search-filter" href="#">BUSCAR</a>').insertAfter(".mz-container");$("#slider").slider({range:true,min:0,max:1200,values:[0,1200],slide:function slide(event,ui){$(".mz-container-desk-price #min").val("R$ ".concat(ui.values[0]));$(".mz-container-desk-price #max").val("R$ ".concat(ui.values[1]));$(".search-filter").attr("onClick"," this.href='/de-'+".concat(ui.values[0],"+'-a-'+").concat(ui.values[1],"+'?PS=18&map=c,priceFrom'"))}});$("#min").val("R$ ".concat($("#slider").slider("values",0)));$("#max").val("R$ ".concat($("#slider").slider("values",1)))},slideFilterPriceMob:function slideFilterPriceMob(){$('<div class="mz-container-mob-price">\n      <h5>Faixa de preço</h5>\n      <div id="slider">\n      </div>\n      <div class="mz-container">\n        <label class="mz-min">\n        <p>Min</p>\n        <input type="text" id="min" readonly ">\n        </label>\n\n        <label class="mz-max">\n        <p>Max</p>\n        <input type="text" id="max" readonly ">\n        </label>\n\n       </div>\n       </div>\n      ').insertAfter(".mz-filter-mob .search-single-navigator");$('<a class="search-filter" href="#">BUSCAR</a>').insertAfter(".mz-filter-mob .mz-container");$("#slider").slider({range:true,min:0,max:1200,values:[0,1200],slide:function slide(event,ui){$(".mz-container-mob-price #min").val("R$ ".concat(ui.values[0]));$(".mz-container-mob-price #max").val("R$ ".concat(ui.values[1]));$(".search-filter").attr("onClick"," this.href='/de-'+".concat(ui.values[0],"+'-a-'+").concat(ui.values[1],"+'?PS=18&map=c,priceFrom'"))}});$(".mz-container-mob-price #min").val("R$ ".concat($("#slider").slider("values",0)));$(".mz-container-mob-price #max").val("R$ ".concat($("#slider").slider("values",1)))},filterSelectedDesk:function filterSelectedDesk(){console.log("to aqui");$(".search-multiple-navigator").remove();var elementFilter=$(".mz-filter-desk .search-single-navigator ul").clone();var filterValidation=elementFilter.children();var wrapper=$(".mz-filter-desk .mz-search-navigator__filter-by--selected");filterValidation.each(function(index,element){if(element.className==="filtro-ativo"){console.log("🚀",element.parentElement);wrapper.append(element.parentElement)}});if(!elementFilter.length)return;var categoryName=window.vtxctx.categoryName;$(".mz-filter-desk .mz-search-navigator__clean-filters a").attr("href","/".concat(categoryName))},filterSelectedMob:function filterSelectedMob(){$(".search-multiple-navigator").remove();var elementFilter=$(".mz-filter-mob .search-single-navigator ul").clone();var filterValidation=elementFilter.children();var wrapper=$(".mz-filter-mob .mz-search-navigator__filter-by--selected");filterValidation.each(function(index,element){if(element.className==="filtro-ativo"){console.log("🚀",element.parentElement);wrapper.append(element.parentElement)}});if(!elementFilter.length)return;var categoryName=window.vtxctx.categoryName;$(".mz-filter-mob .mz-search-navigator__clean-filters a").attr("href","/".concat(categoryName))},filterSelectedCategorie:function filterSelectedCategorie(){var cotegrieNotFilter=$(".search-single-navigator ul").hasClass("perfumes");if(cotegrieNotFilter===true){$(".search-single-navigator li a").addClass("remove-check");$(".mz-search-navigator__desktop, .mz-search-navigator__filter-by,.mz-search-navigator__clean-filters").css("display","none")}else{return}}};var Product={init:function init(){Product.titleSimilarsProduct();Product.popUpPromotion();Product.skuChangeEvent();Product.descricaoDesc();Product.tabDescription();Product.productThumbCarousel();Product.qdCallThumbVideo();Product.startZoomMobile()},ajaxStop:function ajaxStop(){},windowOnload:function windowOnload(){Product.productSimilars()},titleSimilarsProduct:function titleSimilarsProduct(){var title=skuJson.dimensions;$(".mz-product-similars h2").text(title).css("color","#000")},productSimilars:function productSimilars(){console.log("estou aqui");$(".mz-product-similar").addClass("mz-open");var structureData=$(".mz-product-similar ul li");var arr=[];var arrIds=[];var arrName=[];var skuComparation=skuJson.productId;structureData.hover(function(){$(this).addClass("hover-popup")},function(){$(this).removeClass("hover-popup")});structureData.each(function(i,e){var productId=$(this).find(".mz-block-information__id").text();var nameProduct=$(this).find(".mz-block-information__name");if(!nameProduct||!productId)return;if(skuComparation===+productId){$(this).addClass("selected")}arrIds.push("fq=productId:".concat(productId))});if(!arrIds.length){return}var idsString=arrIds.join("&");$.ajax({url:"/api/catalog_system/pub/products/search/?".concat(idsString)}).done(function(res){if(!res||!res.length){return}for(var i=0;i<res.length;i++){var nameSkuSpecifications=res[i].skuSpecifications[0].values[0].name;var numberSkuSpecifications=parseInt((nameSkuSpecifications.match(/(\d+)\sml/i)||["0"]).pop());var productName=res[i].productName;arr.push(numberSkuSpecifications);arrName.push(productName);structureData.eq(i).find(".mz-block-information__name").text(nameSkuSpecifications).addClass("on");structureData.eq(i).find(".mz-block-information-popup__name").text(productName);structureData.eq(i).attr("data-sku",numberSkuSpecifications)}$(".mz-product-similar ul li").sort(function(a,b){return parseInt($(b).attr("data-sku"))<parseInt($(a).attr("data-sku"))?1:-1}).appendTo(".mz-product-similar ul")});$(".mz-product-similar").show()},popUpPromotion:function popUpPromotion(){var flagBrinde=$('.mz-flag_colection .flag[class*="brinde"]');var sku=skuJson.productId;$.ajax({url:"/api/catalog_system/pub/products/search?fq=productId:".concat(sku),headers:{Accept:"application/json; charset=utf-8","Content-Type":"application/json; charset=utf-8"}}).done(function(response){var giftSkuIds=response[0].items[0].sellers[0].commertialOffer.GiftSkuIds[0];if(giftSkuIds){flagBrinde.css("display","flex")}$.ajax({url:"/api/catalog_system/pub/products/search?fq=skuId:".concat(giftSkuIds),headers:{Accept:"application/json; charset=utf-8","Content-Type":"application/json; charset=utf-8"}}).done(function(data){if(data.length===0){$('.mz-flag_colection .flag[class*="brinde"]').hide();return}var productName=data[0].productName;var conditionalQuery=$(window).width()>768?"mouseover":"click";flagBrinde.on(conditionalQuery,function(){if($(".mz-brinde").length==1){$(".mz-brinde").remove();$(".mz-overlay-transparent").remove()}else{flagBrinde.append('<div class="mz-brinde"> <p>Na compra deste produto você ganha:</p><a> '.concat(productName,"</a><p>Direto no carrinho</p></div>"));$("body").append('<div class="mz-overlay-transparent"></div>');$(".mz-overlay-transparent").on("click",function(){$(".mz-brinde").remove();$(".mz-overlay-transparent").remove()})}})})});$(document).on("skuSelected.vtex",function(index,productId,sku){$.ajax({url:"/api/catalog_system/pub/products/search?fq=productId:".concat(productId),headers:{Accept:"application/json; charset=utf-8","Content-Type":"application/json; charset=utf-8"}}).done(function(response){var items=response[0].items;for(var i=0;i<items.length;i++){var element=items[i];var giftSkuIds=element.sellers[0].commertialOffer.GiftSkuIds[0];$.ajax({url:"/api/catalog_system/pub/products/search?fq=productId:".concat(giftSkuIds),headers:{Accept:"application/json; charset=utf-8","Content-Type":"application/json; charset=utf-8"}}).done(function(data){var productName=data[0].productName;flagBrinde.on("click",function(){if($(".mz-brinde").length==1){$(".mz-brinde").remove()}else{flagBrinde.append('<div class="mz-brinde"> <p>Na compra deste produto você ganha:</p><a> '.concat(productName,"</a><p>Direto no carrinho</p></div>"))}})})}})})},skuChangeEvent:function skuChangeEvent(){var skuPrimary=skuJson.skus[0].available;if(!skuPrimary){$(".box-buy-fixed").addClass("mz-empty-buy-fixed")}else{return}$(document).on("skuSelected.vtex",function(index,productId,sku){var available=sku.available;if(!available){$(".box-buy-fixed").addClass("mz-empty-buy-fixed");return}else{$(".box-buy-fixed").removeClass("mz-empty-buy-fixed")}})},descricaoDesc:function descricaoDesc(){$(".descricao-produto h3").click(function(){$(".descricao-produto h3").toggleClass("changeColorDescriptionTitle");$(".descricao-produto h3 i").toggleClass("minus");$(".productDescription").slideToggle()});$(".name-field").click(function(){$(this).toggleClass("minus changecolor");$(this).next(".value-field").toggleClass("block");$(this).next(".value-field").slideToggle("fast")})},tabDescription:function tabDescription(){var _descricao$,_informacoesDeUso$,_composicaoQuimica$,_familiaOlfativa$;var descricao=document.getElementsByClassName("productDescription");var informacoesDeUso=document.getElementsByClassName("value-field Informacoes-de-Uso");var composicaoQuimica=document.getElementsByClassName("value-field Composicao-Quimica");var familiaOlfativa=document.getElementsByClassName("value-field Familia-Olfaltiva");var contentDescricao=(_descricao$=descricao[0])===null||_descricao$===void 0?void 0:_descricao$.textContent;var contentInformacoesDeUso=(_informacoesDeUso$=informacoesDeUso[0])===null||_informacoesDeUso$===void 0?void 0:_informacoesDeUso$.textContent;var contentComposicaoQuimica=(_composicaoQuimica$=composicaoQuimica[0])===null||_composicaoQuimica$===void 0?void 0:_composicaoQuimica$.textContent;var contentFamiliaOlfativa=(_familiaOlfativa$=familiaOlfativa[0])===null||_familiaOlfativa$===void 0?void 0:_familiaOlfativa$.textContent;var tabsEstrutura="\n    <div class='tabs-pdp-descricao'>\n      <div class='tab-buttons'>\n        ".concat(descricao.length?"<span class='content1'>Descrição</span>":"<div></div>","\n        ").concat(informacoesDeUso.length?"<span class='content2'>Informações de Uso</span>":"<div></div>","\n        ").concat(composicaoQuimica.length?"<span class='content3'>Composição Química</span>":"<div></div>","\n        ").concat(familiaOlfativa.length?"<span class='content4'>Família Olfaltiva</span>":"<div></div>","\n      </div>\n      <div class='tab-content'>\n        ").concat(descricao&&"<div class='content1'>".concat(contentDescricao,"</div>"),"\n        ").concat(informacoesDeUso&&"<div class='content2'>".concat(contentInformacoesDeUso,"</div>"),"\n        ").concat(composicaoQuimica&&"<div class='content3'>".concat(contentComposicaoQuimica,"</div>"),"\n        ").concat(familiaOlfativa&&"<div class='content4'>".concat(contentFamiliaOlfativa,"</div>"),"\n      </div>\n    </div>\n    ");var tabsEstruturaConvertido=(new DOMParser).parseFromString(tabsEstrutura,"text/html").body.firstChild;var elementoExistente=document.getElementsByClassName("descricao");var contentelementoExistente=elementoExistente[0];contentelementoExistente.insertAdjacentElement("afterend",tabsEstruturaConvertido);$(".tab-buttons span").first().addClass("active");$(".tab-content>div").hide();$(".tab-content>div").first().slideDown();$(".tab-buttons span").click(function(){$(".tab-buttons span").removeClass("active");var thisclass=$(this).attr("class");$(this).addClass("active");$(".tab-content>div").each(function(){if($(this).hasClass(thisclass)){$(this).fadeIn(800)}else{$(this).hide()}})})},zoomMobile:function zoomMobile(){if(window.innerWidth<768){$(window).on("load",function(){var mainImage=$(".jqzoom img").attr("src");var thumbImages=$(".thumbs .slick-initialized:eq(1) .slick-slide img");$("body").append('<div class="zoom-overlay"></div>'+'<div class="zoom-modal">'+'<span class="zoom-modal__close">X</span>'+'<img class="zoom-modal__main-image" src='+mainImage+"/>"+'<div class="zoom-modal__images-container">'+"</div>"+"</div>");thumbImages.each(function(index,item){$(item).clone().appendTo(".zoom-modal__images-container").attr("src").replace("76-76","696-696")});$(".jqzoom").on("click",function(e){e.preventDefault();$(".zoom-overlay").css("display","block");$(".zoom-modal").css("display","flex");$(".zoom-modal__images-container").slick({slidesToShow:3,slidesToScroll:1,infinite:false,speed:700});$(".zoom-modal__close, .zoom-overlay").on("click",function(){$(".zoom-overlay").css("display","none");$(".zoom-modal").css("display","none")})});$(".zoom-modal__images-container img").on("click",function(){$(".zoom-modal__images-container img").removeClass("active");$(this).toggleClass("active");var actualImage=$(this).attr("src").replace("78-78","696-696");$(".zoom-modal__main-image").attr("src",actualImage)})})}},qdCallThumbVideo:function qdCallThumbVideo(){if(!$("td.value-field.Video:first, td.value-field.VIDEO:first").length)return $(".product-qd-v1-image-thumbs").addClass("qd-full-slick");var videoModal=$(".qd-v1-modal");var iframe='<div class="embed-responsive embed-responsive-16by9"><iframe id="YTplayer" class="embed-responsive-item" src="'+$("td.value-field.Video:first, td.value-field.VIDEO:first").text().replace("youtu.be/","www.youtube.com/watch?v=").replace("?v=","/").replace("watch","embed")+'?wmode=transparent&rel=0&enablejsapi=1&autoplay=0&mute=0"frameborder="0" allowfullscreen/></div>';var videoBtn=$(".product-qd-v1-video-trigger");videoBtn.removeClass("hidden").on("click",function(){videoModal.find(".modal-body").empty().append(iframe);videoModal.modal().focus()})},productThumbCarousel:function productThumbCarousel(){console.log("LM TEST");$(".product-qd-v1-image #show .thumbs").QD_smartPhotoCarousel({imageWrapper:".product-qd-v1-image",thumbsWrapper:".product-qd-v1-image-thumbs",sizes:{thumb:"78-78",image:"696-696",imagezoom:"1000-1000"},slickOptions:{images:{arrows:true,dots:false,responsive:[{breakpoint:600,settings:{arrows:true}}]},thumbs:{slidesToShow:6,slidesToScroll:1,arrows:false,focusOnSelect:true,dots:false,responsive:[{breakpoint:991,settings:{slidesToShow:7}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:1}}]}}})},startZoomMobile:function startZoomMobile(){if(!$(".sepha__mobile-view").length){setTimeout(function(){return Product.startZoomMobile()},1e3);return}$(".sepha__mobile-view").on("click",function(){Product.showZoomMobile()})},showZoomMobile:function showZoomMobile(){if($(".popUpZommMobile").length){$(".popUpZommMobile").toggleClass("active")}else{var imgs=$.makeArray($($(".sepha__mobile-view .slick-list")[0]).find("img").map(function(i,e){return $(e).attr("src")})).map(function(e){return e.split("?")[0].replace("92-92","700-700")});var imgsFilter=imgs.filter(function(e,i){return imgs.indexOf(e)===i});var html='\n        <div class="popUpZommMobile active">\n          <div class="popUpZommMobile-container">\n            <div class="popUpZommMobile-close"> </div>\n            <div class="popUpZommMobile-slider">\n              '.concat(imgsFilter.map(function(e){return'\n                <div class="popUpZommMobile-slider-img">\n                  <div class="pinch-zoom">\n                    <img src='.concat(e,' data-elem="pinchzoomer"/>\n                  </div>\n                </div>\n              ')}),'\n            </div>\n            <div class="popUpZommMobile-nav">\n              ').concat(imgsFilter.map(function(e){return'\n                <div class="popUpZommMobile-nav-dots">\n                  <img src='.concat(e.replace("700-700","94-94")," />\n                </div>\n              ")}),"\n            </div>\n          </div>\n        </div>\n      ");$(".product-image").append(html.replace(/,/g,""));setTimeout(function(){$(".popUpZommMobile-slider").slick({slidesToShow:1,slidesToScroll:1,arrows:true,asNavFor:".popUpZommMobile-nav",prevArrow:'<div class="prev"><svg width="16" height="28" viewBox="0 0 16 28" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.6464 0.43934C14.0607 -0.146447 13.1109 -0.146447 12.5251 0.43934L0.732231 12.2322C-0.244081 13.2085 -0.244079 14.7915 0.732231 15.7678L12.5251 27.5607C13.1109 28.1464 14.0607 28.1464 14.6464 27.5607C15.2322 26.9749 15.2322 26.0251 14.6464 25.4393L3.2071 14L14.6464 2.56066C15.2322 1.97487 15.2322 1.02513 14.6464 0.43934Z" fill="#B7B7B7"/></svg></div>',nextArrow:'<div class="next"><svg width="16" height="28" viewBox="0 0 16 28" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.43934 0.43934C1.02513 -0.146447 1.97487 -0.146447 2.56066 0.43934L14.3536 12.2322C15.3299 13.2085 15.3299 14.7915 14.3536 15.7678L2.56066 27.5607C1.97487 28.1464 1.02513 28.1464 0.43934 27.5607C-0.146447 26.9749 -0.146447 26.0251 0.43934 25.4393L11.8787 14L0.43934 2.56066C-0.146447 1.97487 -0.146447 1.02513 0.43934 0.43934Z" fill="#B7B7B7"/></svg></div>'});$(".popUpZommMobile-nav").slick({slidesToShow:4,slidesToScroll:4,asNavFor:".popUpZommMobile-slider",dots:false,centerMode:false,infinite:false,focusOnSelect:true,arrows:false});$(".popUpZommMobile-close").on("click",function(){Product.showZoomMobile()});setTimeout(function(){$("div.pinch-zoom").each(function(){new RTP.PinchZoom($(this),{})})},100)},100)}}};var List={run:function run(){},init:function init(){},ajaxStop:function ajaxStop(){},windowOnload:function windowOnload(){}};var Institutional={run:function run(){},init:function init(){},ready:function ready(){},ajaxStop:function ajaxStop(){},windowOnload:function windowOnload(){}};var Orders={run:function run(){},init:function init(){},ajaxStop:function ajaxStop(){},windowOnload:function windowOnload(){}};var Account={run:function run(){},init:function init(){},ajaxStop:function ajaxStop(){},windowOnload:function windowOnload(){}}}catch(e){typeof console!=="undefined"&&typeof console.error==="function"&&console.error("Houve um erro nos objetos. Detalhes: "+e.message)}try{(function(){var body,ajaxStop,windowLoad;windowLoad=function windowLoad(){Common.windowOnload();if(body.is(".home"))Home.windowOnload();else if(body.is(".resultado-busca, .departamento, .categoria"))Search.windowOnload();else if(body.is(".produto"))Product.windowOnload();else if(body.is(".listas, .giftlist"))List.windowOnload();else if(body.is(".institucional"))Institutional.windowOnload();else if(body.is(".orders"))Orders.windowOnload();else if(body.is(".hotsite"))Hotsite.windowOnload();else if(body.is(".account"))Account.windowOnload()};ajaxStop=function ajaxStop(){Common.ajaxStop();if(body.is(".home"))Home.ajaxStop();else if(body.is(".resultado-busca, .departamento, .categoria"))Search.ajaxStop();else if(body.is(".produto"))Product.ajaxStop();else if(body.is(".listas, .giftlist"))List.ajaxStop();else if(body.is(".institucional"))Institutional.ajaxStop();else if(body.is(".orders"))Orders.ajaxStop();else if(body.is(".hotsite"))Hotsite.ajaxStop();else if(body.is(".account"))Account.ajaxStop()};$(function(){body=$(document.body);Common.init();if(body.is(".home"))Home.init();else if(body.is(".resultado-busca, .departamento, .categoria")){Search.isSearch=$(document.body).is(".resultado-busca");Search.isDepartament=$(document.body).is(".departamento");Search.isCategory=$(document.body).is(".categoria");Search.init()}else if(body.is(".produto")||body.is(".Produto-Kit"))Product.init();else if(body.is(".listas, .giftlist"))List.init();else if(body.is(".institucional"))Institutional.init();else if(body.is(".orders"))Orders.init();else if(body.is(".hotsite"))Hotsite.init();else if(body.is(".account"))Account.init();$(document).ajaxStop(ajaxStop);$(window).load(windowLoad);body.addClass("jsFullLoaded");Common.ready()});Common.run();if(location.pathname.substr(location.pathname.length-2,2).toLowerCase()=="/p")Product.run();else if(location.pathname.search(/^(\/giftlist|\/list\/)/)==0)List.run()})()}catch(e){typeof console!=="undefined"&&typeof console.error==="function"&&$("body").addClass("jsFullLoaded jsFullLoadedError")&&console.error("Houve um erro ao iniciar os objetos. Detalhes: "+e.message)}(function(d){if("function"!==typeof d.qdAjax){var a={};d.qdAjaxQueue=a;150>parseInt((d.fn.jquery.replace(/[^0-9]+/g,"")+"000").slice(0,3),10)&&console&&"function"==typeof console.error&&console.error();d.qdAjax=function(f){try{var b=d.extend({},{url:"",type:"GET",data:"",success:function success(){},error:function error(){},complete:function complete(){},clearQueueDelay:5},f),e;e="object"===_typeof(b.data)?JSON.stringify(b.data):b.data.toString();var c=encodeURIComponent(b.url+"|"+b.type+"|"+e);a[c]=a[c]||{};"undefined"==typeof a[c].jqXHR?a[c].jqXHR=d.ajax(b):(a[c].jqXHR.done(b.success),a[c].jqXHR.fail(b.error),a[c].jqXHR.always(b.complete));a[c].jqXHR.always(function(){isNaN(parseInt(b.clearQueueDelay))||setTimeout(function(){a[c].jqXHR=void 0},b.clearQueueDelay)});return a[c].jqXHR}catch(g){"undefined"!==typeof console&&"function"===typeof console.error&&console.error("Problemas no $.qdAjax :( . Detalhes: "+g.message)}};d.qdAjax.version="4.0"}})(jQuery);!function(o){"use strict";var e=jQuery;if("function"!=typeof e.fn.QD_smartPhotoCarousel){var s=/(ids\/[0-9]+-)[0-9-]+/i,i={imageWrapper:".qd-spc-image",thumbsWrapper:".qd-spc-thumbs",sizes:{thumb:"150-150",image:"500-500",imagezoom:"1000-1000"},slickOptions:{images:{lazyLoad:"ondemand",infinite:!1,arrows:!1},thumbs:{slidesToShow:3,slidesToScroll:1,arrows:!1,focusOnSelect:!0}},zoomOptions:{}},n=function n(o,s,i){if(!i&&(i=skuJson.skus[0].sku,skuJson.avaliable))for(var n=0;n<skuJson.skus.length;n++){if(skuJson.skus[n].avaliable){i=skuJson.skus[n].sku;break}}r(i).done(function(e){a(o,s,e)}),e(window).on("skuChanged.vtex",function(){r(arguments[2].sku).done(function(e){a(o,s,e)})}),e(window).on("skuSelectable.vtex",function(){r(arguments[2][0].sku).done(function(e){a(o,s,e)})})};e.fn.QD_smartPhotoCarousel=function(o,s){var a=e(this);return a.length?(a.each(function(){var a=e(this);a.QD_smartPhotoCarousel=new n(a,e.extend(!0,{},i,o),s)}),a):a},e(function(){e(".qd_auto_smart_photo_carousel").QD_smartPhotoCarousel()})}function a(o,i,n){var a=n[0];null!=typeof i.removeOldSlick&&i.removeOldSlick&&e(".product-qd-v1-image .slick-initialized").remove();try{var r=o.find(i.imageWrapper);r.is(".slick-initialized")&&r.slick("unslick");var t=r.attr("class");r.length||(r=e("<div></div>").appendTo(o)),r.empty().attr("class",t);var l=o.find(i.thumbsWrapper);l.is(".slick-initialized")&&l.slick("unslick");var c=l.attr("class");l.length||(l=e("<div></div>").appendTo(o)),l.empty().attr("class",c);for(var u,d=[],f=0;f<a.Images.length;f++){d.push(a.Images[f][0])}for(var m=0;m<d.length;m++){u=d[m].Path,(0==m?e("<img>",{src:u.replace(s,"$1"+i.sizes.image)}).appendTo(r):e("<img>",{"data-lazy":u.replace(s,"$1"+i.sizes.image)}).appendTo(r)).wrap("<div></div>").wrap(e("<a></a>",{href:u.replace(s,"$1"+i.sizes.imagezoom),class:"jqzoom"})),e("<img>",{src:u.replace(s,"$1"+i.sizes.thumb)}).appendTo(l).wrap("<div></div>"),d[m].IsMain&&(i.slickOptions.images.initialSlide=m)}}catch(o){"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Problemas :( . Detalhes: ",o)}try{i.slickOptions.images.asNavFor=l,e(window).trigger("QD_SPC_beforeImageSlick",[r]),e(r).slick(i.slickOptions.images),i.slickOptions.thumbs.asNavFor=r,e(l).each(function(){var o=e(this);o.find("img:first").one("load",function(){try{e(window).trigger("QD_SPC_beforeThumbSlick",[o]),o.slick(i.slickOptions.thumbs),e(window).trigger("QD_SPC_afterSlick",[o])}catch(o){"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Problemas :( . Detalhes: ",o)}})}),e(".jqzoom").jqzoom(i.zoomOptions),e(l).on("afterChange",function(){e(r).slick("slickGoTo",e(this).slick("slickCurrentSlide"))})}catch(o){"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Problemas :( . Detalhes: ",o)}}function r(o){return e.qdAjax({url:"/produto/sku/"+o,dataType:"json",error:function error(){alert("erro ao buscar objeto SKU")}})}}();(function(g){"function"===typeof define&&define.amd?define(["jquery"],g):g(window.jQuery||window.Zepto)})(function(g){var z=function z(b,f,d){var l=this,x,y;b=g(b);f="function"===typeof f?f(b.val(),void 0,b,d):f;l.init=function(){d=d||{};l.byPassKeys=[9,16,17,18,36,37,38,39,40,91];l.translation={0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}};l.translation=g.extend({},l.translation,d.translation);l=g.extend(!0,{},l,d);y=c.getRegexMask();b.each(function(){!1!==d.maxlength&&b.attr("maxlength",f.length);d.placeholder&&b.attr("placeholder",d.placeholder);b.attr("autocomplete","off");c.destroyEvents();c.events();var a=c.getCaret();c.val(c.getMasked());c.setCaret(a+c.getMaskCharactersBeforeCount(a,!0))})};var c={getCaret:function getCaret(){var a;a=0;var e=b.get(0),c=document.selection,e=e.selectionStart;if(c&&!~navigator.appVersion.indexOf("MSIE 10"))a=c.createRange(),a.moveStart("character",b.is("input")?-b.val().length:-b.text().length),a=a.text.length;else if(e||"0"===e)a=e;return a},setCaret:function setCaret(a){if(b.is(":focus")){var e;e=b.get(0);e.setSelectionRange?e.setSelectionRange(a,a):e.createTextRange&&(e=e.createTextRange(),e.collapse(!0),e.moveEnd("character",a),e.moveStart("character",a),e.select())}},events:function events(){b.on("keydown.mask",function(){x=c.val()});b.on("keyup.mask",c.behaviour);b.on("paste.mask drop.mask",function(){setTimeout(function(){b.keydown().keyup()},100)});b.on("change.mask",function(){b.data("changeCalled",!0)});b.on("blur.mask",function(a){a=g(a.target);a.prop("defaultValue")!==a.val()&&(a.prop("defaultValue",a.val()),a.data("changeCalled")||a.trigger("change"));a.data("changeCalled",!1)});b.on("focusout.mask",function(){d.clearIfNotMatch&&!y.test(c.val())&&c.val("")})},getRegexMask:function getRegexMask(){var a=[],e,b,c,d,k;for(k in f){(e=l.translation[f[k]])?(b=e.pattern.toString().replace(/.{1}$|^.{1}/g,""),c=e.optional,(e=e.recursive)?(a.push(f[k]),d={digit:f[k],pattern:b}):a.push(c||e?b+"?":b)):a.push("\\"+f[k])}a=a.join("");d&&(a=a.replace(RegExp("("+d.digit+"(.*"+d.digit+")?)"),"($1)?").replace(RegExp(d.digit,"g"),d.pattern));return RegExp(a)},destroyEvents:function destroyEvents(){b.off("keydown.mask keyup.mask paste.mask drop.mask change.mask blur.mask focusout.mask").removeData("changeCalled")},val:function val(a){var e=b.is("input");return 0<arguments.length?e?b.val(a):b.text(a):e?b.val():b.text()},getMaskCharactersBeforeCount:function getMaskCharactersBeforeCount(a,e){for(var b=0,c=0,d=f.length;c<d&&c<a;c++){l.translation[f.charAt(c)]||(a=e?a+1:a,b++)}return b},determineCaretPos:function determineCaretPos(a,b,d,h){return l.translation[f.charAt(Math.min(a-1,f.length-1))]?Math.min(a+d-b-h,d):c.determineCaretPos(a+1,b,d,h)},behaviour:function behaviour(a){a=a||window.event;var b=a.keyCode||a.which;if(-1===g.inArray(b,l.byPassKeys)){var d=c.getCaret(),f=c.val(),n=f.length,k=d<n,p=c.getMasked(),m=p.length,q=c.getMaskCharactersBeforeCount(m-1)-c.getMaskCharactersBeforeCount(n-1);p!==f&&c.val(p);!k||65===b&&a.ctrlKey||(8!==b&&46!==b&&(d=c.determineCaretPos(d,n,m,q)),c.setCaret(d));return c.callbacks(a)}},getMasked:function getMasked(a){var b=[],g=c.val(),h=0,n=f.length,k=0,p=g.length,m=1,q="push",s=-1,r,u;d.reverse?(q="unshift",m=-1,r=0,h=n-1,k=p-1,u=function u(){return-1<h&&-1<k}):(r=n-1,u=function u(){return h<n&&k<p});for(;u();){var v=f.charAt(h),w=g.charAt(k),t=l.translation[v];if(t)w.match(t.pattern)?(b[q](w),t.recursive&&(-1===s?s=h:h===r&&(h=s-m),r===s&&(h-=m)),h+=m):t.optional&&(h+=m,k-=m),k+=m;else{if(!a)b[q](v);w===v&&(k+=m);h+=m}}a=f.charAt(r);n!==p+1||l.translation[a]||b.push(a);return b.join("")},callbacks:function callbacks(a){var e=c.val(),g=c.val()!==x;if(!0===g&&"function"===typeof d.onChange)d.onChange(e,a,b,d);if(!0===g&&"function"===typeof d.onKeyPress)d.onKeyPress(e,a,b,d);if("function"===typeof d.onComplete&&e.length===f.length)d.onComplete(e,a,b,d)}};l.remove=function(){var a=c.getCaret(),b=c.getMaskCharactersBeforeCount(a);c.destroyEvents();c.val(l.getCleanVal()).removeAttr("maxlength");c.setCaret(a-b)};l.getCleanVal=function(){return c.getMasked(!0)};l.init()};g.fn.mask=function(b,f){this.unmask();return this.each(function(){g(this).data("mask",new z(this,b,f))})};g.fn.unmask=function(){return this.each(function(){try{g(this).data("mask").remove()}catch(b){}})};g.fn.cleanVal=function(){return g(this).data("mask").getCleanVal()};g("*[data-mask]").each(function(){var b=g(this),f={};"true"===b.attr("data-mask-reverse")&&(f.reverse=!0);"false"===b.attr("data-mask-maxlength")&&(f.maxlength=!1);"true"===b.attr("data-mask-clearifnotmatch")&&(f.clearIfNotMatch=!0);b.mask(b.attr("data-mask"),f)})});!function(a){a.extend(a.fn,{validate:function validate(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.validateDelegate(":submit","click",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(b.target).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(b.target).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.submit(function(b){function d(){var d;return c.settings.submitHandler?(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),!1):!0}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function valid(){var b,c;return a(this[0]).is("form")?b=this.validate().form():(b=!0,c=a(this[0].form).validate(),this.each(function(){b=c.element(this)&&b})),b},removeAttrs:function removeAttrs(b){var c={},d=this;return a.each(b.split(/\s/),function(a,b){c[b]=d.attr(b),d.removeAttr(b)}),c},rules:function rules(b,c){var d,e,f,g,h,i,j=this[0];if(b)switch(d=a.data(j.form,"validator").settings,e=d.rules,f=a.validator.staticRules(j),b){case"add":a.extend(f,a.validator.normalizeRule(c)),delete f.messages,e[j.name]=f,c.messages&&(d.messages[j.name]=a.extend(d.messages[j.name],c.messages));break;case"remove":return c?(i={},a.each(c.split(/\s/),function(b,c){i[c]=f[c],delete f[c],"required"===c&&a(j).removeAttr("aria-required")}),i):(delete e[j.name],f)}return g=a.validator.normalizeRules(a.extend({},a.validator.classRules(j),a.validator.attributeRules(j),a.validator.dataRules(j),a.validator.staticRules(j)),j),g.required&&(h=g.required,delete g.required,g=a.extend({required:h},g),a(j).attr("aria-required","true")),g.remote&&(h=g.remote,delete g.remote,g=a.extend(g,{remote:h})),g}}),a.extend(a.expr[":"],{blank:function blank(b){return!a.trim(""+a(b).val())},filled:function filled(b){return!!a.trim(""+a(b).val())},unchecked:function unchecked(b){return!a(b).prop("checked")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function onfocusin(a){this.lastActive=a,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(a)).hide())},onfocusout:function onfocusout(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function onkeyup(a,b){(9!==b.which||""!==this.elementValue(a))&&(a.name in this.submitted||a===this.lastElement)&&this.element(a)},onclick:function onclick(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function highlight(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function unhighlight(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function setDefaults(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function init(){function b(b){var c=a.data(this[0].form,"validator"),d="on"+b.type.replace(/^validate/,""),e=c.settings;e[d]&&!this.is(e.ignore)&&e[d].call(c,this[0],b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c,d=this.groups={};a.each(this.settings.groups,function(b,c){"string"==typeof c&&(c=c.split(/\s/)),a.each(c,function(a,c){d[c]=b})}),c=this.settings.rules,a.each(c,function(b,d){c[b]=a.validator.normalizeRule(d)}),a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",b).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",b),this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),a(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function form(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function checkForm(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++){this.check(b[a])}return this.valid()},element:function element(b){var c=this.clean(b),d=this.validationTargetFor(c),e=!0;return this.lastElement=d,void 0===d?delete this.invalid[c.name]:(this.prepareElement(d),this.currentElements=a(d),e=this.check(d)!==!1,e?delete this.invalid[d.name]:this.invalid[d.name]=!0),a(b).attr("aria-invalid",!e),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e},showErrors:function showErrors(b){if(b){a.extend(this.errorMap,b),this.errorList=[];for(var c in b){this.errorList.push({message:b[c],element:this.findByName(c)[0]})}this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function resetForm(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function numberOfInvalids(){return this.objectLength(this.invalid)},objectLength:function objectLength(a){var b,c=0;for(b in a){c++}return c},hideErrors:function hideErrors(){this.addWrapper(this.toHide).hide()},valid:function valid(){return 0===this.size()},size:function size(){return this.errorList.length},focusInvalid:function focusInvalid(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function findLastActive(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function elements(){var b=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in c||!b.objectLength(a(this).rules())?!1:(c[this.name]=!0,!0)})},clean:function clean(b){return a(b)[0]},errors:function errors(){var b=this.settings.errorClass.split(" ").join(".");return a(this.settings.errorElement+"."+b,this.errorContext)},reset:function reset(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function prepareForm(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function prepareElement(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function elementValue(b){var c,d=a(b),e=d.attr("type");return"radio"===e||"checkbox"===e?a("input[name='"+d.attr("name")+"']:checked").val():(c=d.val(),"string"==typeof c?c.replace(/\r/g,""):c)},check:function check(b){b=this.validationTargetFor(this.clean(b));var c,d,e,f=a(b).rules(),g=a.map(f,function(a,b){return b}).length,h=!1,i=this.elementValue(b);for(d in f){e={method:d,parameters:f[d]};try{if(c=a.validator.methods[d].call(this,i,b,e.parameters),"dependency-mismatch"===c&&1===g){h=!0;continue}if(h=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,e),!1}catch(j){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+b.id+", check the '"+e.method+"' method.",j),j}}if(!h)return this.objectLength(f)&&this.successList.push(b),!0},customDataMessage:function customDataMessage(b,c){return a(b).data("msg"+c[0].toUpperCase()+c.substring(1).toLowerCase())||a(b).data("msg")},customMessage:function customMessage(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function findDefined(){for(var a=0;a<arguments.length;a++){if(void 0!==arguments[a])return arguments[a]}return void 0},defaultMessage:function defaultMessage(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function formatAndAdd(b,c){var d=this.defaultMessage(b,c.method),e=/\$?\{(\d+)\}/g;"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),this.errorList.push({message:d,element:b,method:c.method}),this.errorMap[b.name]=d,this.submitted[b.name]=d},addWrapper:function addWrapper(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function defaultShowErrors(){var a,b,c;for(a=0;this.errorList[a];a++){c=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++){this.showLabel(this.successList[a])}if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++){this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass)}this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function validElements(){return this.currentElements.not(this.invalidElements())},invalidElements:function invalidElements(){return a(this.errorList).map(function(){return this.element})},showLabel:function showLabel(b,c){var d=this.errorsFor(b);d.length?(d.removeClass(this.settings.validClass).addClass(this.settings.errorClass),d.html(c)):(d=a("<"+this.settings.errorElement+">").attr("for",this.idOrName(b)).addClass(this.settings.errorClass).html(c||""),this.settings.wrapper&&(d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b))),!c&&this.settings.success&&(d.text(""),"string"==typeof this.settings.success?d.addClass(this.settings.success):this.settings.success(d,b)),this.toShow=this.toShow.add(d)},errorsFor:function errorsFor(b){var c=this.idOrName(b);return this.errors().filter(function(){return a(this).attr("for")===c})},idOrName:function idOrName(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function validationTargetFor(a){return this.checkable(a)&&(a=this.findByName(a.name).not(this.settings.ignore)[0]),a},checkable:function checkable(a){return/radio|checkbox/i.test(a.type)},findByName:function findByName(b){return a(this.currentForm).find("[name='"+b+"']")},getLength:function getLength(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function depend(a,b){return this.dependTypes[_typeof(a)]?this.dependTypes[_typeof(a)](a,b):!0},dependTypes:{boolean:function boolean(a){return a},string:function string(b,c){return!!a(b,c.form).length},function:function _function(a,b){return a(b)}},optional:function optional(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function startRequest(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function stopRequest(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function previousValue(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function addClassRules(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function classRules(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},attributeRules:function attributeRules(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods){"required"===c?(d=b.getAttribute(c),""===d&&(d=!0),d=!!d):d=f.attr(c),/min|max/.test(c)&&(null===g||/number|range|text/.test(g))&&(d=Number(d)),d||0===d?e[c]=d:g===c&&"range"!==g&&(e[c]=!0)}return e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)&&delete e.maxlength,e},dataRules:function dataRules(b){var c,d,e={},f=a(b);for(c in a.validator.methods){d=f.data("rule"+c[0].toUpperCase()+c.substring(1).toLowerCase()),void 0!==d&&(e[c]=d)}return e},staticRules:function staticRules(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function normalizeRules(b,c){return a.each(b,function(d,e){if(e===!1)return void delete b[d];if(e.param||e.depends){var f=!0;switch(_typeof(e.depends)){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0!==e.param?e.param:!0:delete b[d]}}),a.each(b,function(d,e){b[d]=a.isFunction(e)?e(c):e}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(c=b[this].split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(b.min&&b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),b.minlength&&b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function normalizeRule(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function addMethod(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function required(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:a.trim(b).length>0},email:function email(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function url(a,b){return this.optional(b)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function date(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function dateISO(a,b){return this.optional(b)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(a)},number:function number(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function digits(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function creditcard(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;var c,d,e=0,f=0,g=!1;if(a=a.replace(/\D/g,""),a.length<13||a.length>19)return!1;for(c=a.length-1;c>=0;c--){d=a.charAt(c),f=parseInt(d,10),g&&(f*=2)>9&&(f-=9),e+=f,g=!g}return e%10===0},minlength:function minlength(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d},maxlength:function maxlength(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||d>=e},rangelength:function rangelength(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function min(a,b,c){return this.optional(b)||a>=c},max:function max(a,b,c){return this.optional(b)||c>=a},range:function range(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},equalTo:function equalTo(b,c,d){var e=a(d);return this.settings.onfocusout&&e.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()},remote:function remote(b,c,d){if(this.optional(c))return"dependency-mismatch";var e,f,g=this.previousValue(c);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),g.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=g.message,d="string"==typeof d&&{url:d}||d,g.old===b?g.valid:(g.old=b,e=this,this.startRequest(c),f={},f[c.name]=b,a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:f,context:e.currentForm,success:function success(d){var f,h,i,j=d===!0||"true"===d;e.settings.messages[c.name].remote=g.originalMessage,j?(i=e.formSubmitted,e.prepareElement(c),e.formSubmitted=i,e.successList.push(c),delete e.invalid[c.name],e.showErrors()):(f={},h=d||e.defaultMessage(c,"remote"),f[c.name]=g.message=a.isFunction(h)?h(b):h,e.invalid[c.name]=!0,e.showErrors(f)),g.valid=j,e.stopRequest(c,j)}},d)),"pending")}}}),a.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."}}(jQuery),function(a){var b,c={};a.ajaxPrefilter?a.ajaxPrefilter(function(a,b,d){var e=a.port;"abort"===a.mode&&(c[e]&&c[e].abort(),c[e]=d)}):(b=a.ajax,a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(c[f]&&c[f].abort(),c[f]=b.apply(this,arguments),c[f]):b.apply(this,arguments)})}(jQuery),function(a){a.extend(a.fn,{validateDelegate:function validateDelegate(b,c,d){return this.bind(c,function(c){var e=a(c.target);return e.is(b)?d.apply(e,arguments):void 0})}})}(jQuery);$.validator.addMethod("cpf",function(value,element){function valida_cpf(cpf){if(cpf.length<11)return false;var numeros,digitos,soma,i,resultado;numeros=cpf.substring(0,9);digitos=cpf.substring(9);soma=0;for(i=10;i>1;i--){soma+=numeros.charAt(10-i)*i}resultado=soma%11<2?0:11-soma%11;if(resultado!=digitos.charAt(0))return false;numeros=cpf.substring(0,10);soma=0;for(i=11;i>1;i--){soma+=numeros.charAt(11-i)*i}resultado=soma%11<2?0:11-soma%11;if(resultado!=digitos.charAt(1))return false;return true}return valida_cpf(value.replace(/[^0-9]/gi,""))},"Informe um CPF válido.");(function(){"use strict";var definePinchZoom=function definePinchZoom($){var PinchZoom=function PinchZoom(el,options){this.el=$(el);this.zoomFactor=1;this.lastScale=1;this.offset={x:0,y:0};this.options=$.extend({},this.defaults,options);this.setupMarkup();this.bindEvents();this.update();this.enable()},sum=function sum(a,b){return a+b},isCloseTo=function isCloseTo(value,expected){return value>expected-.01&&value<expected+.01};PinchZoom.prototype={defaults:{tapZoomFactor:2,zoomOutFactor:1.3,animationDuration:300,maxZoom:4,minZoom:.5,lockDragAxis:false,use2d:true,zoomStartEventName:"pz_zoomstart",zoomEndEventName:"pz_zoomend",dragStartEventName:"pz_dragstart",dragEndEventName:"pz_dragend",doubleTapEventName:"pz_doubletap"},handleDragStart:function handleDragStart(event){this.el.trigger(this.options.dragStartEventName);this.stopAnimation();this.lastDragPosition=false;this.hasInteraction=true;this.handleDrag(event)},handleDrag:function handleDrag(event){if(this.zoomFactor>1){var touch=this.getTouches(event)[0];this.drag(touch,this.lastDragPosition);this.offset=this.sanitizeOffset(this.offset);this.lastDragPosition=touch}},handleDragEnd:function handleDragEnd(){this.el.trigger(this.options.dragEndEventName);this.end()},handleZoomStart:function handleZoomStart(event){this.el.trigger(this.options.zoomStartEventName);this.stopAnimation();this.lastScale=1;this.nthZoom=0;this.lastZoomCenter=false;this.hasInteraction=true},handleZoom:function handleZoom(event,newScale){var touchCenter=this.getTouchCenter(this.getTouches(event)),scale=newScale/this.lastScale;this.lastScale=newScale;this.nthZoom+=1;if(this.nthZoom>3){this.scale(scale,touchCenter);this.drag(touchCenter,this.lastZoomCenter)}this.lastZoomCenter=touchCenter},handleZoomEnd:function handleZoomEnd(){this.el.trigger(this.options.zoomEndEventName);this.end()},handleDoubleTap:function handleDoubleTap(event){var center=this.getTouches(event)[0],zoomFactor=this.zoomFactor>1?1:this.options.tapZoomFactor,startZoomFactor=this.zoomFactor,updateProgress=function(progress){this.scaleTo(startZoomFactor+progress*(zoomFactor-startZoomFactor),center)}.bind(this);if(this.hasInteraction){return}if(startZoomFactor>zoomFactor){center=this.getCurrentZoomCenter()}this.animate(this.options.animationDuration,updateProgress,this.swing);this.el.trigger(this.options.doubleTapEventName)},sanitizeOffset:function sanitizeOffset(offset){var maxX=(this.zoomFactor-1)*this.getContainerX(),maxY=(this.zoomFactor-1)*this.getContainerY(),maxOffsetX=Math.max(maxX,0),maxOffsetY=Math.max(maxY,0),minOffsetX=Math.min(maxX,0),minOffsetY=Math.min(maxY,0);return{x:Math.min(Math.max(offset.x,minOffsetX),maxOffsetX),y:Math.min(Math.max(offset.y,minOffsetY),maxOffsetY)}},scaleTo:function scaleTo(zoomFactor,center){this.scale(zoomFactor/this.zoomFactor,center)},scale:function scale(_scale,center){_scale=this.scaleZoomFactor(_scale);this.addOffset({x:(_scale-1)*(center.x+this.offset.x),y:(_scale-1)*(center.y+this.offset.y)})},scaleZoomFactor:function scaleZoomFactor(scale){var originalZoomFactor=this.zoomFactor;this.zoomFactor*=scale;this.zoomFactor=Math.min(this.options.maxZoom,Math.max(this.zoomFactor,this.options.minZoom));return this.zoomFactor/originalZoomFactor},drag:function drag(center,lastCenter){if(lastCenter){if(this.options.lockDragAxis){if(Math.abs(center.x-lastCenter.x)>Math.abs(center.y-lastCenter.y)){this.addOffset({x:-(center.x-lastCenter.x),y:0})}else{this.addOffset({y:-(center.y-lastCenter.y),x:0})}}else{this.addOffset({y:-(center.y-lastCenter.y),x:-(center.x-lastCenter.x)})}}},getTouchCenter:function getTouchCenter(touches){return this.getVectorAvg(touches)},getVectorAvg:function getVectorAvg(vectors){return{x:vectors.map(function(v){return v.x}).reduce(sum)/vectors.length,y:vectors.map(function(v){return v.y}).reduce(sum)/vectors.length}},addOffset:function addOffset(offset){this.offset={x:this.offset.x+offset.x,y:this.offset.y+offset.y}},sanitize:function sanitize(){if(this.zoomFactor<this.options.zoomOutFactor){this.zoomOutAnimation()}else if(this.isInsaneOffset(this.offset)){this.sanitizeOffsetAnimation()}},isInsaneOffset:function isInsaneOffset(offset){var sanitizedOffset=this.sanitizeOffset(offset);return sanitizedOffset.x!==offset.x||sanitizedOffset.y!==offset.y},sanitizeOffsetAnimation:function sanitizeOffsetAnimation(){var targetOffset=this.sanitizeOffset(this.offset),startOffset={x:this.offset.x,y:this.offset.y},updateProgress=function(progress){this.offset.x=startOffset.x+progress*(targetOffset.x-startOffset.x);this.offset.y=startOffset.y+progress*(targetOffset.y-startOffset.y);this.update()}.bind(this);this.animate(this.options.animationDuration,updateProgress,this.swing)},zoomOutAnimation:function zoomOutAnimation(){var startZoomFactor=this.zoomFactor,zoomFactor=1,center=this.getCurrentZoomCenter(),updateProgress=function(progress){this.scaleTo(startZoomFactor+progress*(zoomFactor-startZoomFactor),center)}.bind(this);this.animate(this.options.animationDuration,updateProgress,this.swing)},updateAspectRatio:function updateAspectRatio(){this.setContainerY(this.getContainerX()/this.getAspectRatio())},getInitialZoomFactor:function getInitialZoomFactor(){return this.container[0].offsetWidth/this.el[0].offsetWidth},getAspectRatio:function getAspectRatio(){return this.el[0].offsetWidth/this.el[0].offsetHeight},getCurrentZoomCenter:function getCurrentZoomCenter(){var length=this.container[0].offsetWidth*this.zoomFactor,offsetLeft=this.offset.x,offsetRight=length-offsetLeft-this.container[0].offsetWidth,widthOffsetRatio=offsetLeft/offsetRight,centerX=widthOffsetRatio*this.container[0].offsetWidth/(widthOffsetRatio+1),height=this.container[0].offsetHeight*this.zoomFactor,offsetTop=this.offset.y,offsetBottom=height-offsetTop-this.container[0].offsetHeight,heightOffsetRatio=offsetTop/offsetBottom,centerY=heightOffsetRatio*this.container[0].offsetHeight/(heightOffsetRatio+1);if(offsetRight===0){centerX=this.container[0].offsetWidth}if(offsetBottom===0){centerY=this.container[0].offsetHeight}return{x:centerX,y:centerY}},canDrag:function canDrag(){return!isCloseTo(this.zoomFactor,1)},getTouches:function getTouches(event){var position=this.container.offset();return Array.prototype.slice.call(event.touches).map(function(touch){return{x:touch.pageX-position.left,y:touch.pageY-position.top}})},animate:function animate(duration,framefn,timefn,callback){var startTime=(new Date).getTime(),renderFrame=function(){if(!this.inAnimation){return}var frameTime=(new Date).getTime()-startTime,progress=frameTime/duration;if(frameTime>=duration){framefn(1);if(callback){callback()}this.update();this.stopAnimation();this.update()}else{if(timefn){progress=timefn(progress)}framefn(progress);this.update();requestAnimationFrame(renderFrame)}}.bind(this);this.inAnimation=true;requestAnimationFrame(renderFrame)},stopAnimation:function stopAnimation(){this.inAnimation=false},swing:function swing(p){return-Math.cos(p*Math.PI)/2+.5},getContainerX:function getContainerX(){return this.container[0].offsetWidth},getContainerY:function getContainerY(){return this.container[0].offsetHeight},setContainerY:function setContainerY(y){return this.container.height(y)},setupMarkup:function setupMarkup(){this.container=$('<div class="pinch-zoom-container"></div>');this.el.before(this.container);this.container.append(this.el);this.container.css({overflow:"hidden",position:"relative"});this.el.css({"-webkit-transform-origin":"0% 0%","-moz-transform-origin":"0% 0%","-ms-transform-origin":"0% 0%","-o-transform-origin":"0% 0%","transform-origin":"0% 0%",position:"absolute"})},end:function end(){this.hasInteraction=false;this.sanitize();this.update()},bindEvents:function bindEvents(){detectGestures(this.container.get(0),this);$(window).on("resize",this.update.bind(this));$(this.el).find("img").on("load",this.update.bind(this))},update:function update(){if(this.updatePlaned){return}this.updatePlaned=true;setTimeout(function(){this.updatePlaned=false;this.updateAspectRatio();var zoomFactor=this.getInitialZoomFactor()*this.zoomFactor,offsetX=-this.offset.x/zoomFactor,offsetY=-this.offset.y/zoomFactor,transform3d="scale3d("+zoomFactor+", "+zoomFactor+",1) "+"translate3d("+offsetX+"px,"+offsetY+"px,0px)",transform2d="scale("+zoomFactor+", "+zoomFactor+") "+"translate("+offsetX+"px,"+offsetY+"px)",removeClone=function(){if(this.clone){this.clone.remove();delete this.clone}}.bind(this);if(!this.options.use2d||this.hasInteraction||this.inAnimation){this.is3d=true;removeClone();this.el.css({"-webkit-transform":transform3d,"-o-transform":transform2d,"-ms-transform":transform2d,"-moz-transform":transform2d,transform:transform3d})}else{if(this.is3d){this.clone=this.el.clone();this.clone.css("pointer-events","none");this.clone.appendTo(this.container);setTimeout(removeClone,200)}this.el.css({"-webkit-transform":transform2d,"-o-transform":transform2d,"-ms-transform":transform2d,"-moz-transform":transform2d,transform:transform2d});this.is3d=false}}.bind(this),0)},enable:function enable(){this.enabled=true},disable:function disable(){this.enabled=false}};var detectGestures=function detectGestures(el,target){var interaction=null,fingers=0,lastTouchStart=null,startTouches=null,setInteraction=function setInteraction(newInteraction,event){if(interaction!==newInteraction){if(interaction&&!newInteraction){switch(interaction){case"zoom":target.handleZoomEnd(event);break;case"drag":target.handleDragEnd(event);break}}switch(newInteraction){case"zoom":target.handleZoomStart(event);break;case"drag":target.handleDragStart(event);break}}interaction=newInteraction},updateInteraction=function updateInteraction(event){if(fingers===2){setInteraction("zoom")}else if(fingers===1&&target.canDrag()){setInteraction("drag",event)}else{setInteraction(null,event)}},targetTouches=function targetTouches(touches){return Array.prototype.slice.call(touches).map(function(touch){return{x:touch.pageX,y:touch.pageY}})},getDistance=function getDistance(a,b){var x,y;x=a.x-b.x;y=a.y-b.y;return Math.sqrt(x*x+y*y)},calculateScale=function calculateScale(startTouches,endTouches){var startDistance=getDistance(startTouches[0],startTouches[1]),endDistance=getDistance(endTouches[0],endTouches[1]);return endDistance/startDistance},cancelEvent=function cancelEvent(event){event.stopPropagation();event.preventDefault()},detectDoubleTap=function detectDoubleTap(event){var time=(new Date).getTime();if(fingers>1){lastTouchStart=null}if(time-lastTouchStart<300){cancelEvent(event);target.handleDoubleTap(event);switch(interaction){case"zoom":target.handleZoomEnd(event);break;case"drag":target.handleDragEnd(event);break}}if(fingers===1){lastTouchStart=time}},firstMove=true;el.addEventListener("touchstart",function(event){if(target.enabled){firstMove=true;fingers=event.touches.length;detectDoubleTap(event)}});el.addEventListener("touchmove",function(event){if(target.enabled){if(firstMove){updateInteraction(event);if(interaction){cancelEvent(event)}startTouches=targetTouches(event.touches)}else{switch(interaction){case"zoom":target.handleZoom(event,calculateScale(startTouches,targetTouches(event.touches)));break;case"drag":target.handleDrag(event);break}if(interaction){cancelEvent(event);target.update()}}firstMove=false}});el.addEventListener("touchend",function(event){if(target.enabled){fingers=event.touches.length;updateInteraction(event)}})};return PinchZoom};if(typeof define!=="undefined"&&define.amd){define(["jquery"],function($){return definePinchZoom($)})}else{window.RTP=window.RTP||{};window.RTP.PinchZoom=definePinchZoom(window.$)}}).call(void 0);