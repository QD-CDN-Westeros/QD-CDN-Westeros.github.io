/* Ton-Maeztra - 08/08/2022 18:06:31 GMT */
"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});"function"!=typeof String.prototype.capitalize&&(String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1).toLowerCase()});"function"!==typeof String.prototype.replaceSpecialChars&&(String.prototype.replaceSpecialChars=function(){var b={"ç":"c","æ":"ae","œ":"oe","á":"a","é":"e","í":"i","ó":"o","ú":"u","à":"a","è":"e","ì":"i","ò":"o","ù":"u","ä":"a","ë":"e","ï":"i","ö":"o","ü":"u","ÿ":"y","â":"a","ê":"e","î":"i","ô":"o","û":"u","å":"a","ã":"a","ø":"o","õ":"o",u:"u","Á":"A","É":"E","Í":"I","Ó":"O","Ú":"U","Ê":"E","Ô":"O","Ü":"U","Ã":"A","Õ":"O","À":"A","Ç":"C"};return this.replace(/[\u00e0-\u00fa]/gi,function(a){return"undefined"!=typeof b[a]?b[a]:a})});Array.prototype.indexOf||(Array.prototype.indexOf=function(d,e){var a;if(null==this)throw new TypeError('"this" is null or not defined');var c=Object(this),b=c.length>>>0;if(0===b)return-1;a=+e||0;Infinity===Math.abs(a)&&(a=0);if(a>=b)return-1;for(a=Math.max(0<=a?a:b-Math.abs(a),0);a<b;){if(a in c&&c[a]===d)return a;a++}return-1});try{var Common={run:function(){},init:function(){Common.vtexBindQuickViewDestroy()},orderFormUpdated:function(orderForm){},ready:function(){},ajaxStop:function(){},windowOnload:function(){},vtexBindQuickViewDestroy:function(){window.bindQuickView=function(){}}};var MZ_GA_events={mz_start_event:{add_and_remove_cart:false},run:()=>{},init:()=>{vtexjs.checkout.getOrderForm().done(function(of){MZ_GA_events.initAfterLoadOrderForm(of)});MZ_GA_events.view_items_list();MZ_GA_events.view_item()},orderFormUpdated:orderForm=>{MZ_GA_events.add_and_remove_cart(orderForm)},initAfterLoadOrderForm:function(orderForm){localStorage.setItem("oldOrderFormItems",JSON.stringify(orderForm.items))},ready:()=>{},ajaxStop:()=>{},windowOnload:()=>{},start_stop_event:event=>MZ_GA_events.mz_start_event[event]=!MZ_GA_events.mz_start_event[event],add_and_remove_cart:orderForm=>{try{const{add_and_remove_cart}=MZ_GA_events.mz_start_event;if(add_and_remove_cart)return;MZ_GA_events.start_stop_event("add_and_remove_cart");var new_orderFormItems=orderForm.items;var old_orderFormItems=JSON.parse(localStorage.getItem("oldOrderFormItems"));if(old_orderFormItems.length==new_orderFormItems.length){MZ_GA_events.start_stop_event("add_and_remove_cart");return}const typeEvent=old_orderFormItems.length<new_orderFormItems.length?"add_to_cart":"remove_from_cart";MZ_GA_events.getDifferentItemOrderForm(new_orderFormItems,old_orderFormItems).then(function(res){console.log("MZ - GA Events | ",typeEvent);gtag("event",typeEvent,{items:[res]});localStorage.setItem("oldOrderFormItems",JSON.stringify(new_orderFormItems));MZ_GA_events.start_stop_event("add_and_remove_cart")})}catch(error){console.log("MZ - GA Events ERROR",error)}},getDifferentItemOrderForm:(new_orderFormItems,old_orderFormItems)=>new Promise(function(resolve,reject){const orderForm1=new_orderFormItems.length>old_orderFormItems.length?new_orderFormItems:old_orderFormItems;const orderForm2=new_orderFormItems.length<old_orderFormItems.length?new_orderFormItems:old_orderFormItems;orderForm1.forEach((item,i)=>{if(!orderForm2.filter(item2=>item2.id==item.id).length){json_item={id:item.id,name:item.name,list_name:"Search Results",brand:item.additionalInfo.brandName,category:"",variant:"",list_position:1,quantity:item.quantity,price:item.sellingPrice};resolve(json_item);return}})}),getInfoDataLayer:info=>window.dataLayer.filter(e=>e[info]).length?window.dataLayer.filter(e=>e[info])[0][info]:"",view_items_list:()=>{const skusViewList=MZ_GA_events.getInfoDataLayer("shelfProductIds");if(skusViewList=="")return;var items=[];skusViewList.forEach(function(sku,i){var elItem=$('div[data-product-id="'+sku+'"]');items.push({id:sku,name:elItem.find(".nome").text().trim(),list_name:MZ_GA_events.getInfoDataLayer("categoryName"),brand:"",category:MZ_GA_events.getInfoDataLayer("categoryName"),variant:"",list_position:1,quantity:1,price:elItem.find(".price .principal .value").text().replace("R$","").trim()});if(i==skusViewList.length-1){setTimeout(()=>{console.log("MZ - GA Events | view_item_list");gtag("event","view_item_list",{items:items})},100)}})},view_item:()=>{if(MZ_GA_events.getInfoDataLayer("pageCategory")=="Product"){gtag("event","view_item",{items:[{id:MZ_GA_events.getInfoDataLayer("productId"),name:MZ_GA_events.getInfoDataLayer("productName"),list_name:MZ_GA_events.getInfoDataLayer("pageDepartment"),brand:MZ_GA_events.getInfoDataLayer("Google"),category:MZ_GA_events.getInfoDataLayer("productCategoryName"),variant:"",list_position:1,quantity:1,price:MZ_GA_events.getInfoDataLayer("productPriceTo")}]})}}};var Home={init:function(){},ajaxStop:function(){},windowOnload:function(){}};var Search={init:function(){},ajaxStop:function(){},windowOnload:function(){}};var Product={run:function(){},init:function(){Product.setAvailableBodyClass()},ajaxStop:function(){},windowOnload:function(){},setAvailableBodyClass:function(){function checkVisibleNotify(available){if(available)$(document.body).addClass("qd-product-available").removeClass("qd-product-unavailable");else $(document.body).addClass("qd-product-unavailable").removeClass("qd-product-available")}$(document).on("skuSelected.vtex",function(e,id,sku){checkVisibleNotify(sku.available)});checkVisibleNotify(skuJson.available)}};var List={run:function(){},init:function(){},ajaxStop:function(){},windowOnload:function(){}};var Institutional={init:function(){},ajaxStop:function(){},windowOnload:function(){}};var Orders={init:function(){Orders.bootstrapCssFix()},ajaxStop:function(){},windowOnload:function(){},bootstrapCssFix:function(){var styleSheets=document.styleSheets;for(var i=0;i<styleSheets.length;i++){if((styleSheets[i].href||"").indexOf("io.vtex.com.br/front-libs/bootstrap/2.3.2/css/bootstrap.min.css")>-1||(styleSheets[i].href||"").indexOf("io.vtex.com.br/front-libs/bootstrap/2.3.2/css/bootstrap-responsive.min.css")>-1){styleSheets[i].disabled=true}}}}}catch(e){typeof console!=="undefined"&&typeof console.error==="function"&&console.error("Houve um erro nos objetos. Detalhes: "+e.message)}try{(function(){var body,ajaxStop,windowLoad;windowLoad=function(){Common.windowOnload();if(body.is(".home"))Home.windowOnload();else if(body.is(".resultado-busca, .departamento, .categoria"))Search.windowOnload();else if(body.is(".produto"))Product.windowOnload();else if(body.is(".listas, .giftlist"))List.windowOnload();else if(body.is(".institucional"))Institutional.windowOnload();else if(body.is(".orders"))Orders.windowOnload()};ajaxStop=function(){Common.ajaxStop();if(body.is(".home"))Home.ajaxStop();else if(body.is(".resultado-busca, .departamento, .categoria"))Search.ajaxStop();else if(body.is(".produto"))Product.ajaxStop();else if(body.is(".listas, .giftlist"))List.ajaxStop();else if(body.is(".institucional"))Institutional.ajaxStop();else if(body.is(".orders"))Orders.ajaxStop()};$(function(){body=$(document.body);Common.init();MZ_GA_events.init();if(body.is(".home"))Home.init();else if(body.is(".resultado-busca, .departamento, .categoria")){Search.isSearch=$(document.body).is(".resultado-busca");Search.isDepartament=$(document.body).is(".departamento");Search.isCategory=$(document.body).is(".categoria");Search.init()}else if(body.is(".produto"))Product.init();else if(body.is(".listas, .giftlist"))List.init();else if(body.is(".institucional"))Institutional.init();else if(body.is(".orders"))Orders.init();$(document).ajaxStop(ajaxStop);$(window).load(windowLoad);body.addClass("jsFullLoaded");Common.ready()});Common.run();if(location.pathname.substr(location.pathname.length-2,2).toLowerCase()=="/p")Product.run();else if(location.pathname.search(/^(\/giftlist|\/list\/)/)==0)List.run();$(window).on("orderFormUpdated.vtex",function(evt,orderForm){Common.orderFormUpdated(orderForm);MZ_GA_events.orderFormUpdated(orderForm)})})()}catch(e){typeof console!=="undefined"&&typeof console.error==="function"&&$("body").addClass("jsFullLoaded jsFullLoadedError")&&console.error("Houve um erro ao iniciar os objetos. Detalhes: "+e.message)}