var IS_HOME=$("body").hasClass("home"),IS_BRAND=$("body").hasClass("brand"),IS_SEARCH=$("body").hasClass("search-result"),IS_PRODUCT=$("body").hasClass("product"),IS_CATALOG=$("body").hasClass("catalog"),IS_ACCOUNT=$("body").hasClass("account"),IS_CATEGORY=$("body").hasClass("category"),IS_DEPARTMENT=$("body").hasClass("department"),IS_EMPTYSEARCH=$("body").hasClass("empty-search"),IS_INSTITUCIONAL=$("body").hasClass("institucional"),IS_SYSTEM=$("body").hasClass("sistema"),MOBILEBREAK=767,TABLETBREAK=1025;window.location.search.indexOf("utm_source=")<=0&&$("body").removeClass("utm");var commonFunctions={init:function(){commonFloatHelper.init(),footerNewsLetter.init(),commonFunctions.returnToTop(),commonFunctions.newsletter(),commonFunctions.headerUser(),commonFunctions.menuMob(),commonFunctions.footerToggle(),commonFunctions.isLogged(),$("body").hasClass("login")||commonFunctions.headerFix(),commonFunctions.artist(),commonFunctions.search(),commonFunctions.setAvailableBodyClass(),commonFunctions.checkAvailableClass(),catalog.flagDiscount()},checkLogin:()=>{commonFunctions.validateUserLogin().done(e=>{var t;t=e.IsUserDefined,localStorage.setItem("user_login",t),commonFloatHelper._validateStatusButton(),institutional.userVerifyInstitutionalPage()})},validateUserLogin:function(){return $.ajax({url:"/no-cache/profileSystem/getProfile",type:"GET",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json"}})},search:function(){var e;function t(){$(".custom-search__result").html("")}$(".custom-search").append($("<div>",{id:"toggle-search",class:"toggle-search"}).append($("<i>",{class:"ico-lupa-header"})),$("<div>",{class:"moda custom-search__modal",id:"custom-search__modal"}).append($("<div>",{class:"overlay"}),$("<div>",{class:"content outher-wrapper"}).append($("<button>",{class:"modal-close"}).append($("<i>",{class:"ico-close-w"})),$("<form>",{id:"custom-search__form",class:"custom-search__form"}).append($("<input>",{type:"text",autofocus:"autofocus",id:"custom-search__input",class:"custom-search__input",autocomplete:"off",placeholder:"O que você procura?"})),$("<div>",{class:"custom-search__result"})))),$(".custom-search__input").on("keyup",function(){var a=$(this).val();clearTimeout(e),e=setTimeout(function(){a.length>0?$.get("/buscaautocomplete/?maxRows=15&productNameContains="+a+"&suggestionsStack=").done(function(e){t(),function(e,t){(e=e.itemsReturned).length>0?(function(e){$(".custom-search__result").append($("<div>",{class:"custom-search__result-text-wrapper"}).append($("<ul>").append(e.map(function(e,t){if(""==e.thumb)return $("<li>").append($("<a>",{href:e.href,text:e.name}))}))))}(e),function(e,t){var a=1;null==t&&(t=6),$(".custom-search__result").append($("<div>",{class:"custom-search__result-thumb-wrapper"}).append($("<ul>"))),e.map(function(e){if(""!=e.thumb){var n=e.thumbUrl.replace("25-25","255-255");a<=t&&(a++,$(".custom-search__result-thumb-wrapper ul").append($("<li>").append($("<a>",{href:e.href}).append($("<img>",{src:n}),$("<p>",{text:e.name})))))}})}(e,5)):function(e){$(".custom-search__result").append($("<div>",{class:"custom-search__emaptysearch-wrapper"}).append($("<h3>",{class:"custom-search__emaptysearch-title",text:"Não encontramos produtos para"}),$("<h2>",{class:"custom-search__emaptysearch-term",text:"“"+e+"”"})))}(t)}(e,a)}):t()},500)}),$(".toggle-search").on("click",function(){$(".custom-search__modal").fadeToggle(),$("body").toggleClass("custom-search__modal--open")}),$(".modal-close").on("click",function(){$(".custom-search__modal").fadeToggle(),$("body").toggleClass("custom-search__modal--open")}),$(".custom-search__form").on("submit",function(e){let t;e.preventDefault(),t=window.innerWidth<TABLETBREAK?$(".custom-search__input").first().val():$(".custom-search__input").last().val(),window.location.href="/busca/?ft="+t})},setAvailableBodyClass:function(){function e(e){e?$(document.body).addClass("qd-product-available").removeClass("qd-product-unavailable"):$(document.body).addClass("qd-product-unavailable").removeClass("qd-product-available")}$(document).on("skuSelected.vtex",function(t,a,n){e(n.available)});try{e(skuJson.available)}catch(e){}},checkAvailableClass:function(){$(".chooseProduct").on("click",function(){setTimeout(function(){$(document.body).hasClass("qd-product-unavailable")?($(".buyProduct .qty").css("display","none"),$(".buyProduct .buyProductButton").attr("disabled",!0)):$(".buyProduct .qty").css("display","block")},2e3)})},setCookie:function(e,t,a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var o="expires="+n.toUTCString();document.cookie=e+"="+t+";"+o+";path=/"},getCookie:function(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var o=a[n];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},formToJson:function(e){var t={};return e.find("input").each(function(){var e,a;"checkbox"==$(this).attr("type")&&$(this).is(":checkd")&&(e=$(this).val(),a=$(this).attr("name")),"option"==$(this).attr("type")&&$(this).is(":checkd")&&(e=$(this).val(),a=$(this).attr("name")),"option"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")&&(e=$(this).val(),a=$(this).attr("name")),t[a]=e}),e.find("select").each(function(){var e=$(this).find("option:selected").val(),a=$(this).attr("name");t[a]=e}),e.find("textarea").each(function(){var e=$(this).val(),a=$(this).attr("name");t[a]=e}),t},getMasterData:function(e){return $.ajax({headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json","REST-Range":"resources=0-1"},type:"GET",url:e})},saveMasterDate:function(e,t,a,n,o,s){null!=a&&null!=a||(a="Dados salvos com sucesso!"),$.ajax({url:"/api/dataentities/"+e+"/documents/",dataType:"json",type:"PATCH",crossDomain:!0,data:JSON.stringify(t),headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"},success:function(e){s&&s(e),o&&alert(a),n.size()&&n.each(function(){this.reset()})}})},headerFix:function(){$(".pageheader").height(),$(window).scroll(function(){var e=$(this).scrollTop();0==e?($("header.header").removeClass("floatHeader"),$("#returnTop").fadeOut()):($("header.header").addClass("floatHeader"),$("#returnTop").fadeIn())})},isLogged:function(){$(".outher-container__select ul, .menu__user-item ul").remove(),vtexjs.checkout.getOrderForm().done(function(e){var t;e.loggedIn?(t=null!=e.clientProfileData.firstName?e.clientProfileData.firstName:e.clientProfileData.email.split("@")[0],$(".menu__user-item > a ").text("Olá, "+t),$(".outher-container__select, .menu__user-item").append($("<ul>").append($("<li>").append($("<a>",{text:"Olá, "+t,href:"/account"})),$("<li>").append($("<a>",{text:"Minha conta",href:"/_secure/account/#/profile"})),$("<li>").append($("<a>",{text:"Meus pedidos",href:"/_secure/account/#/orders"})),$("<li>").append($("<a>",{text:"Sair",href:"/logout"}))))):$(".outher-container__select, .menu__user-item").append($("<ul>").append($("<li>").append($("<a>",{text:"Login / cadastrar",href:"/login"})),$("<li>").append($("<a>",{text:"Meus pedidos",href:"/_secure/account/#/orders"})),$("<li>").append($("<a>",{text:"Minha Conta",href:"/_secure/account/#/profile"})))),$(".menu__user-item > a ").attr("href","/login")})},menuMob:function(){window.innerWidth<TABLETBREAK&&$(".has-sub").find(".menu__sub-menu").slideToggle(),$(".toggle-sub").on("click",function(){$(this).parents(".has-sub").find(".menu__sub-menu").slideToggle()}),$("#mobili-menu-toggle .menu-toggle, .menu-close").on("click",function(){$(".header .menu").toggleClass("menu--active")}),window.innerWidth<=TABLETBREAK&&($(".menu .menu__toggle").click(function(){$(this).siblings("ul.menu__wrap").toggleClass("is--hide"),$(".menu__title .menu__wrap--ico").add($(".menu__title .menu__wrap--close")).removeClass("is--hide"),$(".menu__title .title").add($(".menu__title .menu__wrap--close")).removeClass("is--hide"),$(this).fadeIn("slow")}),$(".menu .menu__title .menu__wrap--close").on("click",function(){$(".header .menu").toggleClass("menu--active"),$(".menu__item ul.menu__wrap").addClass("is--hide"),$(this).addClass("is--hide")}),$(".menu .menu__title .menu__wrap--ico").on("click",function(){$(this).parents().find("ul.menu__wrap").addClass("is--hide"),$(this).addClass("is--hide")}),$(".menu .menu__title .title").on("click",function(){$(this).parents().find("ul.menu__wrap").addClass("is--hide"),$(this).addClass("is--hide")}))},artist:function(){$(".nossos-artistas__slider").size()>0&&window.innerWidth>=MOBILEBREAK&&$.get("/api/dataentities/AR/search?_fields=thumb,link,id,name").done(function(e){$.each(e,function(e,t){var a="https://universalmusic.vtexcrm.com.br/DynamicForm/GetFile?dataEntityInstanceId=AR-"+t.id+"&fileName="+t.thumb;$(".nossos-artistas__slider").append($("<div>",{class:"box-banner"}).append($("<a>",{href:t.link}).append($("<img>",{src:a}))))})}).then(function(){$(".nossos-artistas__slider").slick({infinite:!0,slidesToShow:5,slidesToScroll:5,infinite:!0,speed:500,arrows:!0,dots:!1}),$(".nossos-artistas__slick-arrows button").on("click",function(){$(this).hasClass("slick-prev")?$(".nossos-artistas .slick-initialized .slick-prev").click():$(".nossos-artistas .slick-initialized .slick-next").click()})})},headerUser:function(){$(".user-toggle").on("click",function(){$(".outher-container__select").toggleClass("outher-container__select--active")})},footerToggle:function(){if(window.innerWidth<TABLETBREAK){$(".col ul").slideUp();let e=$(".toggle-accordeon");e.on("click",function(){e.parents(".col").find("ul").slideUp();let t=$(this);t.hasClass("open")?(t.parents(".col").find("ul").slideUp(),t.removeClass("open")):(t.parents(".col").find("ul").slideDown(),t.addClass("open"),t.parents(".col").find("ul").removeClass("open"))})}},emailValidator:function(e){return/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/gi.test(e)},newsletter:function(){$(window).load(function(){"ok"!=commonFunctions.getCookie("new")&&$(window).scroll(function(){var e=$(this).scrollTop();0==e||e>=3500?$(".fix-new").removeClass("active"):$(".fix-new").addClass("active")})}),$(".close-modal-footer").on("click",function(){$(".fix-new").removeClass("active"),$(".fix-new").hide()}),$(".fix-new__form form").on("submit",function(e){e.preventDefault();var t=commonFunctions.formToJson($(this));commonFunctions.emailValidator(t.email)?commonFunctions.getMasterData("/api/dataentities/NL/search?_fields=id,email&_where=email="+t.email).done(function(e){0==e.length?commonFunctions.saveMasterDate("NL",t,null,$(this),!1,function(){$(".fix-new--initial").removeClass("active"),$(".fix-new--success").addClass("active"),commonFunctions.setCookie("new","ok",30)}):alert("E-mail já cadastrado!")}):alert("E-mail inválido!")}),$(".row-news__form form").on("submit",function(e){e.preventDefault();var t=commonFunctions.formToJson($(this));commonFunctions.emailValidator(t.email)?commonFunctions.getMasterData("/api/dataentities/NL/search?_fields=id,email&_where=email="+t.email).done(function(e){0==e.length?commonFunctions.saveMasterDate("NL",t,null,$(this),!1,function(){$("#modal-newsletter").fadeIn()}):alert("E-mail já cadastrado!")}):alert("E-mail inválido!")}),$("#modal-newsletter .close").on("click",function(){$("#modal-newsletter").fadeOut().removeClass("active")})},returnToTop:function(){$("body").append($("<button>",{id:"returnTop"}).append($("<i>",{class:"ico-arrow"}))),$("#returnTop").fadeOut(),$("#returnTop").on("click",function(){$("html,body").animate({scrollTop:0},700)})},subMenuBanner:function(){$("#sub-menu-banner .sub-banner").each(function(){var e=$(this).find("a"),t=".menu "+$(this).attr("target")+" .menu__banner",a=".menu "+$(this).attr("target");$(this).find(".box-banner").length>0&&($(a).addClass("has-banner"),$(t).append(e))})}},commonFloatHelper={init:()=>{commonFloatHelper.clickOpenCloseChat(),commonFloatHelper.selectService(),commonFloatHelper.loginBtn(),commonFunctions.checkLogin(),commonFloatHelper.toogleFaq()},toogleFaq:()=>{$(".js--faq .float-accordeon-start").on("click",function({currentTarget:e}){$this=$(e),allFaqAccordeon=$(".js--faq .float-accordeon"),$this.parents(".float-accordeon").hasClass("active")?allFaqAccordeon.removeClass("active").find(".float-accordeon-content").slideUp():(allFaqAccordeon.removeClass("active").find(".float-accordeon-content").slideUp(),$this.parents(".float-accordeon").addClass("active").find(".float-accordeon-content").slideDown())})},_validateStatusButton:()=>{const e=$(".js--order-btn"),t=$(".js--exchange-btn"),a=$(".js--login-btn"),n=$(".float-helper__selected[data-service='status-do-pedido'] .float-helper__selected-sub");"true"===localStorage.getItem("user_login")?(e.add(t).removeClass("is--hide"),a.add(n).addClass("is--hide")):(e.add(t).addClass("is--hide"),a.add(n).removeClass("is--hide"))},loginBtn:()=>{$(".js--login-btn").on("click",({currentTarget:e})=>{const t=$(e).parents(".float-helper__selected").attr("data-service");return"status-do-pedido"===t?vtexid.start({returnUrl:"/_secure/account/#/orders"}):"troca-e-devolucao"===t?vtexid.start({returnUrl:"/Institucional/trocas-e-devolucoes"}):void 0})},selectService:()=>{$(".js--select-service").on("click",({currentTarget:e})=>{const t=$(e),a=$(".js--service-selected");a.find(".float-helper__selected").hide(),a.hide(),function(e){const n=t.attr("data-service");a.find(".float-helper__selected").addClass("is--hide"),a.find(`.float-helper__selected[data-service=${n}]`).removeClass("is--hide")}(),$(".float-helper__services-flex").removeClass("service-selected"),t.addClass("service-selected"),$(".services__second").hide(500),a.show(),a.find(".float-helper__selected").show(600)})},clickOpenCloseChat:()=>{const e=$(".js--float-close"),t=$(".js--float-helper__chat"),a=$(".float-helper__services"),n=$(".float-helper__content-second");t.on("click",({currentTarget:t})=>{n.removeClass("is--hide"),$(t).hide(500),a.add(e).addClass("is--active")}),e.on("click",({currentTarget:e})=>{const o=$(e),s=$(".js--service-selected");s.hide(),t.show(500),$(".services__second").show(500),$(".float-helper__selected").animate({width:"toggle"},300).hide(100),o.add(a).removeClass("is--active"),$(".float-helper__services-flex").removeClass("service-selected"),n.addClass("is--hide"),s.find(".float-helper__selected").addClass("is--hide")})}},footerNewsLetter={init:()=>{".js--newsletter".length&&(footerNewsLetter.newsletterClk(),footerNewsLetter._validateInputText())},newsletterClk:()=>{$(".js--newsletter").on("click",({currentTarget:e})=>{if(""!==$('.row-news input[type="email"]').val()){const t=$('.row-news input[type="email"]').val();commonFunctions.emailValidator(t)?(commonModals.universalModal($(e)),footerNewsLetter.newsletterSign(t)):alert("e-mail invalido</br>Por favor, digite novamente")}else alert("é necessário digitar o e-mail")})},newsletterSign:e=>{$(".js--sign-newsletter").on("click",t=>{t.stopImmediatePropagation();const a=$(".newsletter .input__group"),n=$('.newsletter ul input[type="checkbox"]:checked'),o=$('.newsletter input[type="checkbox"]:checked');if(a.each((e,t)=>{$(t).hasClass("valid")||$(t).addClass("invalid")}),!n.length&&a.hasClass("invalid")&&alert("Por favor, selecione um gênero musical e insira seu nome completo"),n.length||a.hasClass("invalid")||alert("Por favor, selecione um gênero musical"),n.length&&a.hasClass("invalid")&&alert("Por favor, insira seu nome completo"),n.length&&!a.hasClass("invalid")){musicalGenresArray=[],o.each(function(){musicalGenresArray.push($(this).attr("id"))});const t=$(".newsletter #full_name").val();let a={EMAIL:e,NOME:t};musicalGenresArray.map(e=>{a[e]=!0}),footerNewsLetter._sendNewsletterMD(a)}})},_sendNewsletterMD:function(e){$.ajax({headers:{"Content-Type":"application/json"},url:"/api/dataentities/BF/documents",type:"POST",data:JSON.stringify(e)}).done(e=>{$(".js--overlay").removeClass("is--active"),$(".js--universal-modal.newsletter").removeClass("is--active"),alert("Dados enviados com sucesso!"),$('.newsletter input[type="checkbox"]').prop("checked",!1)})},_validateInputText:()=>{$(".js__validate--text").on("change",({currentTarget:e})=>{const t=$(e);""!=t.val()&&t.val().length?t.closest(".input__group").addClass("valid").removeClass("invalid"):t.closest(".input__group").addClass("invalid").removeClass("valid")})}},commonModals={universalModal:e=>{const t=".js--universal-modal",a=$(".js--overlay");if(e.attr("title")){const n=e.attr("title"),o=$(`${t}[title="${n}"]`);o&&o.length&&(o.add(a).addClass("is--active"),$("body").addClass("has--no-scroll"))}$(".js--universal-modal-close").on("click",({currentTarget:e})=>{$(e).parents(t).add(a).removeClass("is--active"),$("body").removeClass("has--no-scroll")}),a.on("click",()=>{$(t).add(a).removeClass("is--active"),$("body").removeClass("has--no-scroll")})}},isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}},home={slides:function(){$(".mainGallery").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,infinite:!0,speed:500,arrows:!1,dots:!0,autoplay:!0,autoplaySpeed:5e3}),$(".slide-shelf .shelf ul").slick({infinite:!0,slidesToShow:4,slidesToScroll:4,infinite:!0,speed:500,arrows:!0,dots:!0,autoplay:!0,autoplaySpeed:5e3,pauseOnHover:!0,prevArrow:'<button type="button" class="slick-prev"><i class="new-ico-arrow"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="new-ico-arrow"></i></button>',responsive:[{breakpoint:1024,settings:{slidesToShow:3.3,slidesToScroll:3,arrows:!1}},{breakpoint:600,settings:{slidesToShow:2.3,slidesToScroll:2,arrows:!1}},{breakpoint:480,settings:{slidesToShow:1.3,slidesToScroll:1,arrows:!1}}]})},instagramFeed:function(){var e=new Instafeed({get:"user",target:"instagram__content",userId:206369527,accessToken:"206369527.1677ed0.177dae4ef3aa4dd4aaca6aea00507a9b",link:"true",clientId:"206369527",limit:"4",resolution:"low_resolution",template:'<a href="{{link}}" class="instagramImage" target="_blank"><img src="{{image}}" /></a>'});window.onload=function(){e.run()}},tabs:function(){$(".albuns__tabs .albuns__tab").on("click",function(e){e.preventDefault(),$(".albuns__tabs .albuns__tab").removeClass("albuns__tab--selected"),$(".albun__colection").removeClass("albun__colection--active"),$(this).addClass("albuns__tab--selected");var t=$(this).attr("href");$(t).addClass("albun__colection--active"),$(t).find(".slick-initialized").slick("unslick"),$(t).find("ul").slick({infinite:!0,slidesToShow:4,slidesToScroll:4,infinite:!0,speed:500,arrows:!0,dots:!0,autoplay:!0,autoplaySpeed:5e3,pauseOnHover:!0,prevArrow:'<button type="button" class="slick-prev"><i class="new-ico-arrow"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="new-ico-arrow"></i></button>',responsive:[{breakpoint:1024,settings:{slidesToShow:3.3,slidesToScroll:3,arrows:!1}},{breakpoint:600,settings:{slidesToShow:2.3,slidesToScroll:2,arrows:!1}},{breakpoint:480,settings:{slidesToShow:1.3,slidesToScroll:1,arrows:!1}}]})})},init:function(){home.slides(),home.tabs(),home.instagramFeed()}},prodsDetails=new Array,catalog={smartResearch:function(){$(".navTopbar .filterOptions input[type='checkbox']").vtexSmartResearch({ajaxCallback:function(){$("li.helperComplement").remove()},shelfCallback:function(){$("li.helperComplement").remove(),$(".filterOptions .modal").removeClass("open"),catalog.flagDiscount()}})},slideFilter:function(){window.innerWidth<=MOBILEBREAK?($(".search-multiple-navigator fieldset > div").slideToggle(),$(".search-multiple-navigator fieldset > h5").on("click",function(){$(this).parents("fieldset").find("> div").slideToggle()})):($(".filterOptions .modal .content").wrap('<div class="container"></div>'),$(".filterOptions .modal .content").slideToggle()),$("#toggleFilther, .close-filter, .filterOptions .modal .overlay").on("click",function(){window.innerWidth>MOBILEBREAK?($(".filterOptions .modal .content").slideToggle(),$(".filterOptions .modal").toggleClass("open"),$("#toggleFilther").toggleClass("active")):$(".filterOptions .modal").toggleClass("active")})},clearFilter:function(){$("button.clear-filter").on("click",function(e){e.preventDefault(),$('[class^="refino"] label.sr_selected, [class*=" refino"] label.sr_selected').each(function(){$(this).trigger("click")})})},ordenation:function(){const e=decodeURIComponent(partialSearchUrl);if(window.history.pushState({},document.title,""+window.location.pathname),window.location.search.indexOf("O=")>=0){var t=window.location.search.split("O=")[1].split("&")[0];$("#orderBy option[value="+t+"]").prop("selected",!0)}$("#orderBy").on("change",function(t){t.preventDefault();var a=$(this).find("option:selected").val();const n=e.split("?")[1];if(-1!==e.indexOf("fq=H:"))if(-1===e.indexOf("O="))window.location.href=`${window.location.pathname}?${n}O=${a}`;else{const e=n.split("&"),t=`${e[0]}&${e[1]}`;window.location.href=`${window.location.pathname}?${t}&O=${a}`}else if(""!=window.location.search||window.location.search.length>0){var o=window.location.search.split("&O")[0];window.location.href=window.location.pathname+o+"&O="+a}else window.location.href=window.location.pathname+"?PS=12&O="+a})},grid:function(){$(".buttons-grid > button").on("click",function(){$("body").removeClass("grid-1"),$("body").removeClass("grid-2"),$("body").removeClass("grid-3"),$(".buttons-grid > button").removeClass("active"),$(this).addClass("active"),$("body").addClass($(this).attr("data-grid"))})},departementNavigator:function(){$("ul.productClusterSearchableIds").size()>0&&($(".search-multiple-navigator").prepend($("<div>",{class:"wrap-cluster"})),$(".search-multiple-navigator > .wrap-cluster").append('<div class="acordeon-wrap"><div class="acordeon-start"><h6> Coleções <span><i class="ico-arrow"></i> </span></h6></div><div class="acordeon-toggle"></div></div>'),$(".search-multiple-navigator > .wrap-cluster .acordeon-toggle").append($(".productClusterSearchableIds")));var e=vtxctx.departmentyId,t=vtxctx.categoryId,a="",n=window.location.pathname.split("/").length-1;a+='<fieldset class="acordeon-wrap category-filter">',a+="<h5> Categorias </h5>",a+='<div class="acordeon-toggle" data-initial="open">',a+="<ul>",$.get("/api/catalog_system/pub/category/tree/5").done(function(o){$.each(o,function(o,s){e==s.id&&$.each(s.children,function(e,o){t==o.id?(a+='<li><a href="'+o.url+'">'+o.name+"</a></li>",$.each(o.children,function(e,t){a+='<li><a href="'+t.url+'">'+t.name+"</a></li>"})):1==n&&(a+='<li><a href="'+o.url+'">'+o.name+"</a></li>")})}),a+="</ul>",a+="</div>",a+="</fieldset>",$(".search-multiple-navigator").prepend(a),0==$(".search-multiple-navigator > .wrap-category ul li").size()&&$(".search-multiple-navigator > .wrap-category").hide(),catalog.slideFilter()})},catalgoHelper:function(){if(IS_SEARCH){var e=window.location.href.indexOf("fq=B:")>=0?$(".bread-crumb .last").text():null,t=$(".resultado-busca-numero .value").eq(0).text(),a="<span>Você buscou por:</span> <strong>“"+($(".resultado-busca-termo .value").eq(0).text()||e||$("meta[name=Abstract]").attr("content"))+"”</strong><small>Encontramos <b>"+t+"</b> resultados</small>";$("h1.sectionTitle").html(a)}else $("h1.sectionTitle").text($(".titulo-sessao").text());0!=$(".text-seo .wrap-seo-text").text().length&&$(".text-seo").fadeIn()},flagDiscount:function(){$(".flagDiscount").each(function(){var e=$(this).text().replace(",",".");e=e.replace(" %",""),"0"==(e=(e=parseFloat(e)).toFixed(0))||0==e?$(this).hide():($(this).show().addClass("active"),$(this).parent().parent().find(".flags").append(`\n              <p class="flag discount">\n                <span class="discount"><strong>${e}%</strong> off</span>\n              </p>\n              `))})},utm:function(){window.location.search.indexOf("utm_source")>=1&&$(".normalize-menu").css("visibility","hidden")},init:function(){catalog.clearFilter(),catalog.departementNavigator(),catalog.catalgoHelper(),catalog.smartResearch(),catalog.grid(),catalog.ordenation(),catalog.utm(),$(window).load(function(){$(".refino-marca.filtro_marca h5").text("Artistas")})}},product={slide:function(){$(".slide-shelf .shelf ul").slick({infinite:!0,slidesToShow:4,slidesToScroll:4,infinite:!0,speed:500,arrows:!0,dots:!0,prevArrow:'<button type="button" class="slick-prev"><i class="ico-Seta"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="ico-Seta"></i></button>',responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),window.innerWidth<=TABLETBREAK&&$(".thumbs img").each(function(){var e=$(this),t=e.attr("src").replace("-55-55","-400-400");e.attr("src",t)}),$("ul.thumb li").size()>1&&$("#show").addClass("middle"),$(document).on("skuSelected.vtex",function(e,t,a){window.innerWidth<=TABLETBREAK&&$(".thumbs img").each(function(){var e=$(this),t=e.attr("src").replace("-55-55","-400-400");e.attr("src",t)}),$("ul.thumb li").size()>1&&$("#show").addClass("middle")})},artista:function(e){var t=e||encodeURI($("#brandName a").text());$(".section-artist .content").html(""),$.get('/api/dataentities/AR/search?_fields=thumb,imagem,link,name,texto,id&_where=name="'+t+'"').done(function(e){if(e.length>0){var t="https://universalmusic.vtexcrm.com.br/DynamicForm/GetFile?dataEntityInstanceId=AR-"+(e=e[0]).id+"&fileName="+e.imagem;$(".section-artist .content").append($("<div>",{class:"col-text"}).append($("<h3>",{class:"secondary-title",text:e.name})),$("<div>",{class:"col-banner"}).append($("<img>",{src:t}))),$(".section-artist .content .col-text").append(e.texto)}})},installmentToggle:function(){$(".valor-dividido").text(),$(".other-payment-method-ul li").length>1?$(".other-payment-method").prepend('<div class="installmentToggle"><span>Ver parcelamento</span></div>'):$(".other-payment-method").prepend('<div class="installmentToggle"></div>'),$(".other-payment-method-ul li").each(function(e){if(0!=e){var t=$(this).find("span:first-child").text(),a=$(this).find("strong").text(),n=1==$(this).find("span.other-payment-method-intereset-no").size()?" Sem juros ":" Com juros ",o='<div class="left">'+t.replace("de","")+n+'</div><div class="right">'+a+"</div>";$(this).html(o)}}),$(".other-payment-method-ul").prepend("<li><span>PARCELA</span><span>VALOR</span>"),$(".other-payment-method-ul").wrap('<div class="modal" id="payment-method-modal"></div>'),$(".other-payment-method-ul").wrap('<div class="content"></div>'),$("#payment-method-modal .content").prepend('<button class="close-modal"><i class="ico-close"></i></button><h3>Confira o pacelamento</h3>'),$("#payment-method-modal").prepend('<div class="overlay"></div>');var e='<div class="left">à vista</div><div class="right">R$ '+($("li.vista").size()>0?$("li.vista").text().split("R$ ")[1]:"")+"</div>";$("li.vista").html(e),$("#payment-method-modal .overlay, #payment-method-modal .close-modal, .installmentToggle span").on("click",function(){$("#payment-method-modal").fadeToggle()})},qtl:function(){$(".prodQtd span").on("click",function(){var e,t=$(this),a=["javascript",":","alert('Por favor, selecione o modelo desejado.');"].join(""),n=$(".buy-button-ref").attr("href"),o=parseInt($(".prodQtd .qtdValue").val()),s=skuJson.skus,i=a!=n?parseInt(n.split("sku=")[1].split("&")[0]):e=s[0].availablequantity;null!=i&&(s.map(function(t,a){i!=t.dimensions.Cor&&i!=t.dimensions.Tamanho||(e=t.availablequantity)}),t.hasClass("removeItem")?o<=0?o=0:o--:o>=e?(o=e,alert("Quantidade máxima disponível atingida.")):o++,$(".prodQtd .qtdValue").val(o))})},espec:function(){$(".accordeon-container h3").on("click",function(){$(this).parents(".accordeon-container").find(".accordeon-content").slideToggle()}),""!=$("#div_Conteudo_DetalhesDoProduto_pnlDimensoes").html()&&$(".specification.accordeon-container").show()},flagDiscount:function(){for(var e=0;e<skuJson.skus.length;e++)if(skuJson.skus[e].available){var t=skuJson.skus[e].bestPrice,a=skuJson.skus[e].listPrice;if($(".valor-de ").length>0){var n=(a-t)/a*100;n=(n=parseFloat(n)).toFixed(0),$("#show #include").prepend('<div class="flagDiscount active" style="display: block;"><span><strong>'+n+"% </strong>off</span></div>")}e=1e5}},wrapSipping:function(){$("#calculoFrete fieldset").prepend($("<div>",{class:"wrap-shipping"})),$("#calculoFrete fieldset .wrap-shipping").append($("#calculoFrete .prefixo, #calculoFrete .frete-calcular"))},producUnavailable:function(){skuJson.available||($(".buyProduct").addClass("unavailable"),$(".notifymetitle").text("AVISE-ME: ESTE PRODUTO ESTÁ INDISPONÍVEL"),$(".notifyme-button-ok").val("AVISE-ME"),$(".group_0 label").eq(0).click())},superZoom:function(e,t){if($(".image-zoom").length<=0){var a=$("#image-main").attr("src").replace("550-550","1000-1000");$("#image-main").wrap('<a href="'+a+'" class="image-zoom">')}window.LoadZoom=function(a){if($(".image-zoom").length<=0)return!1;var n={zoomWidth:e,zoomHeight:t,preloadText:""};$(".image-zoom").jqzoom(n)},LoadZoom(0)},init:function(){setTimeout(function(){product.superZoom(300,300)},1500),product.producUnavailable(),product.slide(),product.espec(),product.qtl(),product.installmentToggle(),product.artista(),product.flagDiscount(),ShippingValue(),setTimeout(function(){product.wrapSipping(),$("#btnFreteSimulacao").val("CALCULAR")},900),$(".product-infos .produto-code").append($("#brandName .brandName").clone()),$(".productComplementary ul").length>0&&$(".productComplementary").show()}};const productData={init:function(){productData.productSearch()},productSearch:function(){const e=skuJson.productId;$.ajax({headers:{"Content-Type":"application/json"},url:"/api/io/product-search?fq=productId:"+e,type:"GET"}).done(e=>{productData.relatedMovie(e)})},relatedMovie:function(e){const{items:t}=e[0],a=t[0].Videos[0];productData._insertMovie(a)},_insertMovie:function(e){let t,a;e?isMobile.any()?(t=`<li class="related-movie"><iframe width="100%" height="300px" src="${e}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></li>`,(a=$(".thumbs")).append(t),productData._MobileThumbsSlick()):(t=`<div class="related-movie is--hide"><iframe width="100%" height="315" src="${e}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>`,(a=$("#include")).append(t),productData._insertThumbs()):isMobile.any()&&productData._MobileThumbsSlick()},_insertThumbs:function(){$(".thumbs").append('<li class="movie"><i class="fa fa-play" ></i></li>'),productData._ThumbMovieButton()},_MobileThumbsSlick:function(){$(".thumbs").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,infinite:!0,speed:500,arrows:!1,dots:!0})},_ThumbMovieButton:function(){$(".thumbs li").on("click",({currentTarget:e})=>{$(e).hasClass("movie")?$("#include #image").addClass("is--hide")&&$("#include .related-movie").removeClass("is--hide"):$("#include #image").removeClass("is--hide")&&$("#include .related-movie").addClass("is--hide")})}},productBuyTogether={init:()=>{productBuyTogether.getProductBuyTogetherInfos(),productBuyTogether.buyTogetherButtonClick()},formatStringToNumb:e=>parseInt(e),getProductBuyTogetherInfos:async()=>{if($(".comprar-junto > a").length){const e=[];$(".comprar-junto > a").each((t,a)=>{e.push($(a).attr("href"))});const t=e.map(e=>e.split("?")[1].split("&")),a=[],n=[],o=[],s=[],i=[];t.forEach(e=>{e.filter(e=>{-1!==e.indexOf("sku")&&n.push(productBuyTogether.formatStringToNumb(e.replace("sku=",""))),-1!==e.indexOf("qty")&&a.push(productBuyTogether.formatStringToNumb(e.replace("qty=",""))),-1!==e.indexOf("seller")&&o.push(e.replace("seller=","")),-1!==e.indexOf("price")&&s.push(productBuyTogether.formatStringToNumb(e.replace("price=",""))),-1!==e.indexOf("sc")&&i.push(productBuyTogether.formatStringToNumb(e.replace("sc=","")))})});const{skus:l={sku:sku}}=skuJson,c=n.filter(e=>e!==l[0].sku),r=[];c.forEach(async e=>{const t=await productBuyTogether.getProdInfos(e);productBuyTogether.setBuyTogetherProducts(t),r.push(t[1])}),productBuyTogether.createBuyTogetherElement(r),productBuyTogether.getItem(l,1,1)}},getItem:(e,t,a)=>{e.map((e,n)=>({id:productBuyTogether.formatStringToNumb(e),quantity:productBuyTogether.formatStringToNumb(t[n]),seller:a[n]}))},getProdInfos:async e=>{if(e)try{const t=await productRequests.productBySku(e),{ProductId:a}=t;return[t,await vtexRequests.productVariations(a)]}catch(e){window.console.log(e)}},createBuyTogetherElement:async e=>{if($("#divCompreJunto table").length){const t={bestPrice:skuJson.skus[0].bestPriceFormated,productId:skuJson.productId,skuname:skuJson.skus[0].skuname,image:skuJson.skus[0].image,installments:skuJson.skus[0].installments,installmentsValue:(skuJson.skus[0].installmentsValue/100).toString().replace(".",","),installmentsValueAttr:skuJson.skus[0].installmentsValue/100,bestPriceAttr:skuJson.skus[0].bestPrice/100},a=`\n                <section class="custom-buy-together">\n                    \n                    <div class="wrapper">\n                        <div class="content">\n                            <div class='buy-together-titles'>\n                                <h3 class='first-title'>VOCÊ ESTÁ VENDO</h3>\n                                <h3 class='buy-together-title'>COMPRE JUNTO</h3>\n                            </div>\n                            <div class="buy-together-component">\n                                <div class="buy-together-component__page-product">\n                                    <a href="${window.location.href}">\n                                        <div class="background-image">\n                                            <div>\n                                                <img src="${t.image}"/ >\n                                            </div>\n                                        </div>\n                                        <div class="product__block">\n                                            <p class="product__name">${t.skuname}</p>\n                                            <p class="product__best-price" data-value='${t.bestPriceAttr}'>Por ${t.bestPrice}</p>\n                                            <p class="product__installment" data-value='${t.installmentsValueAttr}'>Ou ${t.installments}x de ${t.installmentsValue}</p>\n                                        </div>\n                                    </a>\n                                </div>\n                                <div class="plus">\n                                    <div>\n                                        <i class="plus-icon" />\n                                    </div>\n                                </div>\n                                <div class='buy-together-products-component js--buy-together-slick'>\n                                \n                                </div>\n                                <div class="equal">\n                                    <div>\n                                        <i class="equal-icon" />\n                                    </div>\n                                </div>\n                                <div class="discount__block">\n                                    <div class="buy-together-component__discount">\n                                        <div class="background-button">\n                                            <div class="block">\n                                                <div class='info'> \n                                                    \n                                                </div>\n                                                <button class="custom-buy-together__button js--buy-together-btn">ADICIONAR A SACOLA<button/>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </section>`;$(".productBuyTogether").after(a);const n=[];setTimeout(()=>{e.forEach(e=>{n.find(t=>t.productId===e.productId)||n.push(e)})},1500),t.item=n,productBuyTogether.getByHtmlButtonInfos(t),productBuyTogether.buyTogetherSlick()}},setBuyTogetherProducts:async e=>{if($(".buy-together-component__buy-together-products#"+e[1].productId).length)return;const t={bestPrice:e[1].skus[0].bestPriceFormated,skuId:e[0].Id,productId:e[1].productId,skuname:e[1].name,image:e[0].Images[0].ImageUrl,installments:e[1].skus[0].installments,installmentsValue:(e[1].skus[0].installmentsValue/100).toString().replace(".",","),installmentsValueAttr:e[1].skus[0].installmentsValue/100,bestPriceAttr:e[1].skus[0].bestPrice/100,url:e[0].DetailUrl,similars:e[1].skus},a=t.similars.length>1,n=`\n            <div class='buy-together-component__buy-together-products' id='${t.productId}'>\n                    <input data-value='${t.bestPriceAttr}' class='check-selected' type='checkbox' checked/>\n                    <div class="background-image">\n                        <div>\n                            <a href="${t.url}">\n                                <img src="${t.image}"/ >\n                             </a>\n                        </div>\n                    </div>\n                    <div class="product__block">\n                        <div class='skuSelectorContent'>\n                            ${a?(o=t.similars,o.map((e,a)=>{const n=0===a?"checked":"";return`\n                    <input \n                        class='selectVariations'\n                        type='radio'\n                        name='skuSelector${t.productId}' \n                        value='${e.sku}'\n                        id=${e.sku}\n                        ${n}\n                        >\n                        <label for='${e.sku}'>\n                            ${e.dimensions.Tamanho}\n                        </label>\n                    </input>\n                        \n                    `})).join(""):`<input type='radio' class='selectVariations' checked value=${t.skuId} style='display:none;'/>`}\n                        </div>\n                        <p class="product__name">${t.skuname}</p>\n                        <p class="product__best-price" data-value='${t.bestPriceAttr}'>Por ${t.bestPrice}</p>\n                        <p class="product__installment" data-value='${t.installmentsValueAttr}'>Ou ${t.installments}x de ${t.installmentsValue}</p>\n                    </div>\n            </div>`;var o;$(".buy-together-products-component").append(n)},buyTogetherSlick(){setTimeout(()=>{$(".js--buy-together-slick").slick({infinite:!1,slidesToShow:3,slidesToScroll:3,variableWidth:!0,responsive:[{breakpoint:1441,settings:{slidesToShow:2,slidesToScroll:2,infinite:!1,variableWidth:!1}},{breakpoint:1025,settings:{slidesToShow:3,slidesToScroll:3,infinite:!1,variableWidth:!1}},{breakpoint:630,settings:{slidesToShow:2,slidesToScroll:2,infinite:!1,variableWidth:!1}},{breakpoint:430,settings:{slidesToShow:1,slidesToScroll:1,infinite:!1,variableWidth:!1}}]})},1500)},getByHtmlButtonInfos(e){setTimeout(()=>{allSkus=[],e.item.forEach(e=>{allSkus.push(e.skus[0])}),totalValue=allSkus.reduce((e,t)=>e+t.bestPrice,100*e.bestPriceAttr),totalPriceFormated=productBuyTogether.formatedToMonetaryValue(totalValue/100),parcelPrice=productBuyTogether.formatedToMonetaryValue(totalValue/100/e.installments),buttonInfosElement=`\n                <div class='info-content'>\n                    <p class="info__parcel" data-value='${e.installments}'>Por apenas ${e.installments}x de ${parcelPrice}</p>\n                    <p class="info__price" data-value=${totalValue/100}> Por ${totalPriceFormated}</p>\n                </div>`,$(".buy-together-component__discount .background-button .info").append(buttonInfosElement),$(".check-selected").each((e,t)=>{$(t).on("click",function(){let e=Number($(t).attr("data-value")),a=Number($(".buy-together-component__discount .info__price").attr("data-value")),n=Number($(".buy-together-component__discount .info__parcel").attr("data-value")),o=0;o=$(t).prop("checked")?a+e:a-e,$(".buy-together-component__discount .info__price").text("Por "+productBuyTogether.formatedToMonetaryValue(o)),$(".buy-together-component__discount .info__parcel").text(`Por apenas ${n}x de ${productBuyTogether.formatedToMonetaryValue(o/n)}`),$(".buy-together-component__discount .info__price").attr("data-value",o)})})},2500)},formatedToMonetaryValue:e=>"R$ "+e.toFixed(2).toString().replace(".",","),buyTogetherButtonClick:()=>{$(".js--buy-together-btn").on("click",()=>{const e=[];if(skuJson.skus.length>1){if(!$(".item-dimension-Tamanho input:checked").length)return alert("Por favor, selecione o modelo desejado.");{const t=$(this).attr("value"),a=skuJson.skus.find(e=>e.dimensions.Tamanho===t);a&&e.push({id:a.sku,quantity:1,seller:"1"})}}else e.push({id:skuJson.skus[0].sku,quantity:1,seller:"1"});$(".buy-together-component__buy-together-products").each((t,a)=>{$(a).children(".check-selected").prop("checked")&&$(a).find("input.selectVariations").each((t,a)=>{if($(a).prop("checked")){const t=$(a).attr("value");e.push({id:t,quantity:1,seller:"1"})}})}),vtexRequests.addBuyTogetherToCart(e),helper.fillCart(),setTimeout(function(){helper.openCart()},2e3),setTimeout(function(){helper.closeCart()},7e3)})}},productRequests={productBySku:e=>$.ajax({url:"/api/io/product-info?sku="+e,method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})},vtexRequests={productVariations:e=>vtexjs.catalog.getProductWithVariations(e),addBuyTogetherToCart:e=>vtexjs.checkout.addToCart(e,null,1)};var institutional={init:function(){$(".institutionalLinksList li").each(function(){window.location.pathname==$(this).find("a").attr("href")&&$(this).addClass("active")}),institutional.navigation(),institutional.FL(),institutional.accordeon(),institutional.showExchangeAndReturn(),$("body").hasClass("trocas-e-devolucoes")&&(institutional._validateInputText(),institutional._validatePhoneInput(),institutional._validateCpfInput(),institutional._validateEmailInput(),institutional._sendExchangeAndReturn(),institutional._modalInfoAboutDanfe())},userVerifyInstitutionalPage:function(){"false"===localStorage.getItem("user_login")&&institutional.ExchangeAndReturnNavButton()},ExchangeAndReturnNavButton:function(){$(".js--login-institutional a").addClass("is--hide"),$(".js--login-institutional span").removeClass("is--hide"),$(".js--login-institutional").on("click",()=>vtexid.start({returnUrl:"/Institucional/trocas-e-devolucoes"}))},_modalInfoAboutDanfe:function(){$(".js--danfe-question").on("click",({currentTarget:e})=>{$this=$(e),commonModals.universalModal($this)})},showExchangeAndReturn:function(){"true"===localStorage.getItem("user_login")?$('.institutionalLinksList li[data-service="trocas-e-devolucoes"]').removeClass("is--hide"):$('.institutionalLinksList li[data-service="trocas-e-devolucoes"]').addClass("is--hide")},accordeon:function(){$(".accordeon-content").slideToggle(),$(".accordeon-start").on("click",function(){$(".accordeon").removeClass("active"),$(this).parents(".accordeon").addClass("active").find(".accordeon-content").slideToggle()})},navigation:function(){$(".pageContent ul li a ").on("click",function(e){e.preventDefault();var t=$(this).attr("href"),a=$('h2[name="'+t+'"]').offset().top;$("html,body").animate({scrollTop:a-90},700)})},FL:function(){$("body").hasClass("fale-conosco")&&$("#fale-conosco").on("submit",function(e){e.preventDefault();var t=commonFunctions.formToJson($(this));commonFunctions.emailValidator(t.email)?commonFunctions.saveMasterDate("FL",t,null,$(this),!0,null):alert("E-mail inválido !")})},_validateInputText:()=>{$(".js__validate--text").on("change",({currentTarget:e})=>{const t=$(e);""!=t.val()&&t.val().length?t.closest(".input__group").addClass("valid").removeClass("invalid"):t.closest(".input__group").addClass("invalid").removeClass("valid")})},_validatePhoneInput:()=>{$(".js__validate--phone").on("change",({currentTarget:e})=>{const t=$(e),a=t.val().replace(/[()-]/g,"").replace(" ","").length;11===a?(t.closest(".input__group").addClass("valid").removeClass("invalid"),t.mask("(00) 00000-0000")):10===a?(t.closest(".input__group").addClass("valid").removeClass("invalid"),t.mask("(00) 0000-0000")):t.closest(".input__group").addClass("invalid").removeClass("valid")})},_validateCpfInput(){$("#cpf").on("focus",({currentTarget:e})=>{$(e).mask("000.000.000-00")}),$("#cpf").on("change",({currentTarget:t})=>{const a=$(t);e(a.val())?(a.closest(".input__group").addClass("valid").removeClass("invalid"),a.mask("000.000.000-00")):a.closest(".input__group").removeClass("valid").addClass("invalid")});const e=e=>{if(11!=(e=e.replace(/\D/g,"")).toString().length||/^(\d)\1{10}$/.test(e))return!1;let t=!0;return[9,10].forEach(function(a){let n,o=0;e.split(/(?=)/).splice(0,a).forEach(function(e,t){o+=parseInt(e)*(a+2-(t+1))}),(n=(n=o%11)<2?0:11-n)!=e.substring(a,a+1)&&(t=!1)}),t}},_validateEmailInput(){$(".js__validate--email").on("change",({currentTarget:e})=>{const t=$(e);/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t.val()).toLowerCase())?t.closest(".input__group").addClass("valid").removeClass("invalid"):t.closest(".input__group").addClass("invalid").removeClass("valid")})},_sendExchangeAndReturn(){$(".js--send-exchange").on("click",e=>{e.preventDefault();const t=$(".exchange .input__group");if("true"!==localStorage.getItem("user_login"))return vtexid.start({returnUrl:"/Institucional/trocas-e-devolucoes"});if(t.each((e,t)=>{$(t).hasClass("valid")||$(t).addClass("invalid")}),!$(".exchange .input__group").hasClass("invalid")){institutional._showLoadAnimation();const e=$(".exchange #full_name").val(),t=$(".exchange #phone").val(),a=$(".exchange #cpf").val(),n=$(".exchange #email").val(),o=$(".exchange #order-id").val(),s=$(".exchange #danfe_id").val(),i=$(".exchange #message").val();institutional._setMessageUserInfos(o,s),institutional._setExchangeDate();const l={name:e,phone:t,cpf:a,email:n,orderID:o,danfeID:s,message:i};institutional._sendToExchangeMD(l)}})},_setMessageUserInfos(e,t){const a=$(".exchange-send-messsage .neId"),n=$(".exchange-send-messsage .orderId");n&&n.text(e),a&&a.length&&a.each((e,a)=>{$(a).text(t)})},_setExchangeDate(){const e=new Date,t=e.getDate(),a=e.getMonth(),n=e.getFullYear(),o=e.getHours(),s=e.getMinutes(),i=institutional._formatMonth(a),l=`${t}/${i}/${n} ás ${institutional._formatHour(o)}:${s}`,c=`${t}/${i}/${n}`,r=institutional._ExpireDate(t,a,n);$(".exchange-send-messsage .startDate").text(c),$(".exchange-send-messsage .endDate").text(r),$(".exchange-send-messsage .startDateHour").text(l)},_ExpireDate(e,t,a){if(11===t){return parseInt(a)+1}return`${e}/${institutional._formatMonth(parseInt(t+1))}/${a}`},_formatHour:e=>e<10?"0"+e:e,_formatMonth:e=>["01","02","03","04","05","06","07","08","09","10","11","12"][e],_sendToExchangeMD(e){$.ajax({headers:{"Content-Type":"application/json"},url:"/api/dataentities/TD/documents",type:"POST",data:JSON.stringify(e)}).done(e=>{institutional._showSendMessage(),institutional._hideLoadAnimation()})},_showSendMessage(){$(".exchange").addClass("is--hide"),$(".exchange-send-messsage").removeClass("is--hide")},_showLoadAnimation(){$(".js--animation-load-hide").addClass("is--hide"),$(".js--animation-load-show").removeClass("is--hide")},_hideLoadAnimation(){$(".js--animation-load-hide").removeClass("is--hide"),$(".js--animation-load-show").addClass("is--hide")}},emptysearch={keyWord:function(){$(".box-emptySearch p span").text($("meta[name=Abstract]").attr("content"))},slide:function(){$(".slide-shelf .shelf ul").slick({infinite:!0,slidesToShow:4,slidesToScroll:4,infinite:!0,speed:500,arrows:!0,dots:!0,prevArrow:'<button type="button" class="slick-prev"><i class="ico-Seta"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="ico-Seta"></i></button>',responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]})},init:function(){emptysearch.slide(),emptysearch.keyWord()}},searchResult={init:function(){}},brandArtist={checkImgOnline:function(e,t){var a=new XMLHttpRequest;a.open("GET",e,!0),a.send(),a.onreadystatechange=function(){4==a.readyState&&(a.responseText,200===a.status&&t())}},replaceLogo:function(){if(window.location.search.indexOf("utm_source=")>=0){var e=window.location.search.split("utm_source=")[1];e=e.indexOf("&")>0?window.location.search.split("utm_source=")[1].split("&")[0]:e,e="/arquivos/"+(e=decodeURIComponent(e)+"-logo.png?v="+1e4*Math.random()+0).replace(/[ ]/g,"-").toLowerCase(),this.checkImgOnline(e,function(){$(".no-menu a img").attr("src",e),setTimeout(function(){$(".no-menu").css("visibility","visible")},500)})}$(".pager.bottom").after($("<div>",{class:"section-artist"}).append($("<div>",{class:"content"})))},artista:function(){$(".section-artist .content").html(""),$.get('/api/dataentities/AR/search?_fields=thumb,imagem,link,name,texto,id&_where=link="'+window.location.pathname+'"').done(function(e){if(e.length>0){var t="https://universalmusic.vtexcrm.com.br/DynamicForm/GetFile?dataEntityInstanceId=AR-"+(e=e[0]).id+"&fileName="+e.imagem;$(".section-artist .content").append($("<div>",{class:"col-text"}).append($("<h3>",{class:"secondary-title",text:e.name})),$("<div>",{class:"col-banner"}).append($("<img>",{src:t}))),$(".section-artist .content .col-text").append(e.texto)}})},init:function(){this.replaceLogo(),this.artista()}},flags={init:function(){flags.checkedFlags(),flags.shelfCheckedFlags(),flags.checkFlagsAfterClick()},checkedFlags:function(){$(".mainProductImage p.flag").length<2&&$(".mainProductImage p.flag").addClass("flag-top")},shelfCheckedFlags:function(){$(".productList li").each(function(){$(this).find("p.flag.importado").length&&$(this).find("div.flagDiscount").addClass("tree-flags")})},checkFlagsAfterClick:function(){$(".btn-load-more").on("click",function(){setTimeout(()=>{flags.shelfCheckedFlags()},2e3)})}},account={init:function(){this.cancelBtn(),this.insertExchangeAndReturn()},cancelBtn:function(){$("body").on("click",".myo-cancel-btn",function(e){e.preventDefault(),alert("Para solicitar o cancelamento do seu pedido entre em contato com nosso SAC através do e-mail contato@umusicstore.com ou pelo telefone (21) 3030-4042")})},insertExchangeAndReturn:function(){$('.vtex-account_menu-link[href="#/orders"]').after('<a class="vtex-account_menu-link f6 no-underline db hover-near-black pv5 mv3 pl5 bl bw2 nowrap c-muted-1 b--transparent" href="/Institucional/trocas-e-devolucoes">Trocas e devoluções</a>')}},cookies={init:function(){this.acceptCookies()},acceptCookies(){localStorage.getItem("acceptedCookies")||($(".container-cookies").removeClass("is--hide"),$(".js-container-button").on("click",()=>{localStorage.setItem("acceptedCookies",!0),$(".container-cookies").addClass("is--hide")}))}};function tabelaMedidas(){$(".tb_header ul li").click(function(){var e=$("a",this).data("identifyer");$(".tb_header ul li").removeClass("active"),$(this).addClass("active"),$(".tb_body").removeClass("tb_visible"),$("#"+e).addClass("tb_visible")}),9!=vtxctx.categoryId&&11!=vtxctx.categoryId||$("body.product .main-product .chooseProduct .openTabelaMedidas").show(),$(".openTabelaMedidas a").click(function(){$(".tabela-medidas").css("display","block"),$(".maskMedidas").addClass("activa")}),$("p.close").click(function(){$(".tabela-medidas").css("display","none"),$(".maskMedidas").removeClass("activa")}),$("p.mostraCroqui").click(function(){$(this).next("figure").css("display","block")})}$(document).ready(function(){$(".helperComplement").remove(),commonFunctions.init(),IS_CATALOG&&(catalog.init(),brandArtist.replaceLogo()),IS_PRODUCT&&(product.init(),productData.init(),productBuyTogether.init()),IS_INSTITUCIONAL&&institutional.init(),IS_EMPTYSEARCH&&emptysearch.init(),IS_SYSTEM&&catalog.slideSistema(),IS_ACCOUNT&&account.init(),IS_HOME&&home.init(),IS_BRAND&&brandArtist.artista(),$("body").hasClass("login")&&$("body").on("click",".close.vtexIdUI-close",function(){window.location.href="/"}),tabelaMedidas(),flags.init(),cookies.init()});