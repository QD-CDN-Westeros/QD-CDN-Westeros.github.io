/* MEWTWO - 28/09/2020 17:06:51 GMT */
"use strict";(function(){try{var BlackFriday={init:function init(){BlackFriday.applySlick();BlackFriday.applyAccordionsAndShare();BlackFriday.unlockContent();BlackFriday.setValidateTranslate();BlackFriday.verificationForms();BlackFriday.videoConfig();BlackFriday.removeBgOverlay()},applyAccordionsAndShare:function applyAccordionsAndShare(){$("#mz-share-button").on("click",function(){$(".mz-bf__share.dropdown-share").slideToggle("fast")});$("#mz-first-accordion, #mz-second-accordion").on("click",function(){console.log("Clicado!!!");$("html, body").animate({scrollTop:$(".mz-bg__guide.form").offset().top-100},1e3)})},unlockContent:function unlockContent(){var coockieSeted=$.cookie("mzGuiaCarreiras");if(coockieSeted=="cadastrado"){$(".mz-bg__seoblockone.form form").hide("fast");$(".mz-bg__guide.form").hide("fast");$(".mz-bg__guide.content").show("fast")}},verificationForms:function verificationForms(){var formTop=$(".mz-bg__seoblockone.form form");var formBottom=$(".mz-bg__guide.form form");BlackFriday.applyValidateInForms(formTop,formBottom);formTop.on("submit",function(event){event.preventDefault();event.stopPropagation();if(formTop[0].checkValidity()){var dataJson=formTop.serializeObject();var urlTarget="/api/dataentities/guiadecarreiras/search?_schema=mz-body&email=".concat(dataJson.email);$.ajax({type:"GET",method:"GET",url:urlTarget,dataType:"json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"}}).done(function(dataCheck){if(dataCheck.length){swal({icon:"error",text:"Usuario já cadastrado."}).then(function(){location.reload()});return}BlackFriday.sendDataToMD(dataJson)}).fail(function(){swal({icon:"error",text:"Erro ao fazer verificação de dados."})})}return false});formBottom.on("submit",function(event){event.preventDefault();event.stopPropagation();formBottom.addClass("was-validated");event.preventDefault();event.stopPropagation();if(formBottom[0].checkValidity()){var dataJson=formBottom.serializeObject();var urlTarget="/api/dataentities/guiadecarreiras/search?_schema=mz-body&email=".concat(dataJson.email);$.ajax({type:"GET",method:"GET",url:urlTarget,dataType:"json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"}}).done(function(dataCheck){if(dataCheck.length){swal({icon:"error",text:"Usuario já cadastrado."}).then(function(){location.reload()});return}BlackFriday.sendDataToMD(dataJson)}).fail(function(){swal({icon:"error",text:"Erro ao fazer verificação de dados."})})}return false})},sendDataToMD:function sendDataToMD(dataJson){$.ajax({headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"},url:"/api/dataentities/guiadecarreiras/documents?_schema=mz-body&an=portalpos2",type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(dataJson)}).done(function(response){$.cookie("mzGuiaCarreiras","cadastrado",{expires:45});$(".mz-bg__guide.form").hide("fast");$(".mz-bg__guide.content").show("fast");$("html, body").animate({scrollTop:$(".mz-bg__guide.form").offset().top-100},1e3)}).fail(function(){swal({icon:"error",text:"Erro ao cadastrar no guia de carreiras."})})},applyValidateInForms:function applyValidateInForms(formTop,formBottom){formTop.validate({rules:{nome:{required:true},email:{required:true,email:true}},errorPlacement:function errorPlacement(error,element){element.closest(".fields").append(error)}});formBottom.validate({rules:{nome:{required:true},email:{required:true,email:true}},errorPlacement:function errorPlacement(error,element){element.closest(".fields").append(error)}})},setValidateTranslate:function setValidateTranslate(){return jQuery.extend(jQuery.validator.messages,{required:"Campo obrigatório!",email:"Por favor, forneça um endereço eletrônico válido."})},videoConfig:function videoConfig(){$(".mz-bf__blockvideo.video a").on("click",function(){$(document.body).addClass("mz-modal-on")})},removeBgOverlay:function removeBgOverlay(){$(".mz-modal__close button, .mz-bgoverlay").click(function(){$(document.body).removeClass(BlackFriday.bgOverlay)})},applySlick:function applySlick(){var wrapper=$(".desktop.wrapper").not(".slick-initialized");wrapper.slick({prevArrow:'<button type="button" class="slick-prev"><i class="fa fa-angle-left" aria-hidden="true"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="fa fa-angle-right" aria-hidden="true"></i></button>',slidesToShow:1,slidesToScroll:1,speed:700});wrapper.each(function(){$(this).find(".slick-arrow").wrapAll('<div class="slick-nav" />')});$(".desktop .slick-nav").appendTo(".container.desktop");var wrapperMobile=$(".mobile.wrapper").not(".slick-initialized");wrapperMobile.slick({prevArrow:'<button type="button" class="slick-prev"><i class="fa fa-angle-left" aria-hidden="true"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="fa fa-angle-right" aria-hidden="true"></i></button>',slidesToShow:1,slidesToScroll:1,speed:700});wrapperMobile.each(function(){$(this).find(".slick-arrow").wrapAll('<div class="slick-nav" />')});$(".mobile .slick-nav").appendTo(".container.mobile")}};BlackFriday.init()}catch(e){console.log("Erro na instancia [BlackFriday]: ",e)}})();!function(e){function n(e){var n=e.value||"";return n.length||(n=null),n}e.fn.serializeObject=function(){"use strict";var a={},t=function t(_t,i){var o=a[i.name];"undefined"!=typeof o&&null!==o?e.isArray(o)?o.push(n(i)):a[i.name]=[o,n(i)]:a[i.name]=n(i)};return e.each(this.serializeArray(),t),a}}(jQuery);