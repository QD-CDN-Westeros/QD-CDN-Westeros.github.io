/* MEWTWO - 08/10/2020 12:14:46 GMT */
"use strict";(function(){try{var BlackFriday={init:function init(){BlackFriday.applySlick();BlackFriday.applyAccordionsAndShare();BlackFriday.unlockContent();BlackFriday.setValidateTranslate();BlackFriday.verificationForms();BlackFriday.videoConfig();BlackFriday.removeBgOverlay();BlackFriday.applyMaskInPhone()},applyAccordionsAndShare:function applyAccordionsAndShare(){$("#mz-share-button").on("click",function(){$(".mz-bf__share.dropdown-share").slideToggle("fast")});$("#mz-first-accordion, #mz-second-accordion").on("click",function(){$("html, body").animate({scrollTop:$(".mz-bf__guide.image").offset().top-100},1e3)})},unlockContent:function unlockContent(){$("a.read-more, a.download").addClass("locked");var coockieSeted=$.cookie("mzGuiaCarreiras");if(coockieSeted=="cadastrado"){console.log("HERE!");$(".mz-bf__seoblockone.form form").hide("fast");$(".mz-bf__guide.form").hide("fast");$("a.read-more, a.download").removeClass("locked")}},verificationForms:function verificationForms(){var firstForm=$("#mz-first-form");var secondForm=$("#mz-second-form");var thirdForm=$("#mz-third-form");BlackFriday.applyValidateInForms(firstForm,secondForm,thirdForm);firstForm.on("submit",function(event){event.preventDefault();event.stopPropagation();if(firstForm[0].checkValidity()){var dataJson=firstForm.serializeObject();var urlTarget="/api/dataentities/guiadecarreiras/search?_schema=mz-body&email=".concat(dataJson.email);$.ajax({type:"GET",method:"GET",url:urlTarget,dataType:"json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"}}).done(function(dataCheck){if(dataCheck.length){swal({icon:"error",text:"Usuario já cadastrado."}).then(function(){location.reload()});return}BlackFriday.sendDataToMD(dataJson)}).fail(function(){swal({icon:"error",text:"Erro ao fazer verificação de dados."})})}return false});secondForm.on("submit",function(event){event.preventDefault();event.stopPropagation();secondForm.addClass("was-validated");event.preventDefault();event.stopPropagation();if(secondForm[0].checkValidity()){var dataJson=secondForm.serializeObject();var urlTarget="/api/dataentities/guiadecarreiras/search?_schema=mz-body&email=".concat(dataJson.email);$.ajax({type:"GET",method:"GET",url:urlTarget,dataType:"json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"}}).done(function(dataCheck){if(dataCheck.length){swal({icon:"error",text:"Usuario já cadastrado."}).then(function(){location.reload()});return}BlackFriday.sendDataToMD(dataJson)}).fail(function(){swal({icon:"error",text:"Erro ao fazer verificação de dados."})})}return false});thirdForm.on("submit",function(event){event.preventDefault();event.stopPropagation();thirdForm.addClass("was-validated");event.preventDefault();event.stopPropagation();if(thirdForm[0].checkValidity()){var dataJson=thirdForm.serializeObject();var urlTarget="/api/dataentities/guiadecarreiras/search?_schema=mz-body&email=".concat(dataJson.email);$.ajax({type:"GET",method:"GET",url:urlTarget,dataType:"json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"}}).done(function(dataCheck){if(dataCheck.length){swal({icon:"error",text:"Usuario já cadastrado."}).then(function(){location.reload()});return}BlackFriday.sendDataToMD(dataJson)}).fail(function(){swal({icon:"error",text:"Erro ao fazer verificação de dados."})})}return false})},applyMaskInPhone:function applyMaskInPhone(){var SPMaskBehavior=function SPMaskBehavior(val){return val.replace(/\D/g,"").length===11?"(00) 00000-0000":"(00) 0000-00009"};$('input[name="telefone"]').mask(SPMaskBehavior,{onKeyPress:function onKeyPress(val,e,field,options){field.mask(SPMaskBehavior.apply({},arguments),options)}})},sendDataToMD:function sendDataToMD(dataJson){$.ajax({headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"},url:"/api/dataentities/guiadecarreiras/documents?_schema=mz-body&an=portalpos2",type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(dataJson)}).done(function(response){$.cookie("mzGuiaCarreiras","cadastrado",{expires:45});$(".mz-bf__guide.form").hide("fast");$("a.read-more, a.download").removeClass("locked");$("html, body").animate({scrollTop:$(".mz-bf__guide.form").offset().top-100},1e3)}).fail(function(){swal({icon:"error",text:"Erro ao cadastrar no guia de carreiras."})})},applyValidateInForms:function applyValidateInForms(firstForm,secondForm,thirdForm){firstForm.validate({rules:{nome:{required:true},email:{required:true,email:true}},errorPlacement:function errorPlacement(error,element){element.closest(".fields").append(error)}});secondForm.validate({rules:{nome:{required:true},email:{required:true,email:true}},errorPlacement:function errorPlacement(error,element){element.closest(".fields").append(error)}});thirdForm.validate({rules:{nome:{required:true},email:{required:true,email:true}},errorPlacement:function errorPlacement(error,element){element.closest(".fields").append(error)}})},setValidateTranslate:function setValidateTranslate(){return jQuery.extend(jQuery.validator.messages,{required:"Campo obrigatório!",email:"Por favor, forneça um endereço eletrônico válido."})},videoConfig:function videoConfig(){$(".mz-bf__blockvideo.video a").on("click",function(){$(document.body).addClass("mz-modal-on")})},removeBgOverlay:function removeBgOverlay(){$(".mz-modal__close button, .mz-bfoverlay").click(function(){$(document.body).removeClass(BlackFriday.bgOverlay)})},applySlick:function applySlick(){var wrapper=$(".desktop.wrapper").not(".slick-initialized");wrapper.slick({prevArrow:'<button type="button" class="slick-prev"><i class="fa fa-angle-left" aria-hidden="true"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="fa fa-angle-right" aria-hidden="true"></i></button>',slidesToShow:1,slidesToScroll:1,speed:700});wrapper.each(function(){$(this).find(".slick-arrow").wrapAll('<div class="slick-nav" />')});$(".desktop .slick-nav").appendTo(".container.desktop");var wrapperMobile=$(".mobile.wrapper").not(".slick-initialized");wrapperMobile.slick({prevArrow:'<button type="button" class="slick-prev"><i class="fa fa-angle-left" aria-hidden="true"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="fa fa-angle-right" aria-hidden="true"></i></button>',slidesToShow:1,slidesToScroll:1,speed:700});wrapperMobile.each(function(){$(this).find(".slick-arrow").wrapAll('<div class="slick-nav" />')});$(".mobile .slick-nav").appendTo(".container.mobile")}};BlackFriday.init()}catch(e){console.log("Erro na instancia [BlackFriday]: ",e)}})();!function(e){function n(e){var n=e.value||"";return n.length||(n=null),n}e.fn.serializeObject=function(){"use strict";var a={},t=function t(_t,i){var o=a[i.name];"undefined"!=typeof o&&null!==o?e.isArray(o)?o.push(n(i)):a[i.name]=[o,n(i)]:a[i.name]=n(i)};return e.each(this.serializeArray(),t),a}}(jQuery);