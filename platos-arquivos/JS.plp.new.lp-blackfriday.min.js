/* MEWTWO - 25/09/2020 10:15:14 GMT */
"use strict";(function(){try{var BlackFriday={init:function init(){BlackFriday.applyAccordionsAndShare();BlackFriday.setValidateTranslate();BlackFriday.verificationForms()},applyAccordionsAndShare:function applyAccordionsAndShare(){$("#mz-share-button").on("click",function(){$(".mz-bf__share.dropdown-share").slideToggle("fast")});$("#mz-first-accordion, #mz-second-accordion").on("click",function(){$("html, body").animate({scrollTop:$(".mz-bg__guide.content").offset().top-100},1e3)})},verificationForms:function verificationForms(){var formTop=$(".mz-bg__seoblockone.form form");var formBottom=$(".mz-bg__guide.form form");BlackFriday.applyValidateInForms(formTop,formBottom);formTop.on("submit",function(event){event.preventDefault();event.stopPropagation();if(formTop[0].checkValidity()){var dataJson=formTop.serializeObject();var urlTarget="/api/dataentities/guiadecarreiras/search?_schema=mz-body&email=".concat(dataJson.email);formTop.hide("fast");formTop.next().show("fast");$.ajax({type:"GET",method:"GET",url:urlTarget,dataType:"json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"}}).done(function(dataCheck){if(dataCheck.length){console.log("Usuario já cadastrado.");return}$.ajax({headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"},url:"https://www.portalpos.com.br/api/dataentities/guiadecarreiras/documents?_schema=mz-body",type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(dataJson)}).done(function(dataResp){swal({title:"Cadastrado ao guia de carreiras!",icon:"success"}).then(function(){location.reload()})}).fail(function(){swal({icon:"error",text:"Erro ao cadastrar no guia de carreiras."})})}).fail(function(){swal({icon:"error",text:"Erro ao fazer verificação de dados."})})}return false});formBottom.on("submit",function(event){event.preventDefault();event.stopPropagation();formBottom.addClass("was-validated");event.preventDefault();event.stopPropagation();if(formBottom[0].checkValidity()){var dataJson=formBottom.serializeObject();var urlTarget="/api/dataentities/guiadecarreiras/search?_schema=mz-body&email=".concat(dataJson.email);formBottom.hide("fast");formBottom.next().show("fast");$.ajax({type:"GET",method:"GET",url:urlTarget,dataType:"json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"}}).done(function(dataCheck){if(dataCheck.length){console.log("Usuario já cadastrado.");return}$.ajax({headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"},url:"https://www.portalpos.com.br/api/dataentities/guiadecarreiras/documents?_schema=mz-body",type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(dataJson)}).done(function(dataResp){swal({title:"Cadastrado ao guia de carreiras!",icon:"success"}).then(function(){location.reload()})}).fail(function(){swal({icon:"error",text:"Erro ao cadastrar no guia de carreiras."})})}).fail(function(){swal({icon:"error",text:"Erro ao fazer verificação de dados."})})}return false})},applyValidateInForms:function applyValidateInForms(formTop,formBottom){formTop.validate({rules:{nome:{required:true},email:{required:true,email:true}},errorPlacement:function errorPlacement(error,element){element.closest(".fields").append(error)}});formBottom.validate({rules:{nome:{required:true},email:{required:true,email:true}},errorPlacement:function errorPlacement(error,element){element.closest(".fields").append(error)}})},setValidateTranslate:function setValidateTranslate(){return jQuery.extend(jQuery.validator.messages,{required:"Campo obrigatório!",email:"Por favor, forneça um endereço eletrônico válido."})}};BlackFriday.init()}catch(e){console.log("Erro na instancia [BlackFriday]: ",e)}})();!function(e){function n(e){var n=e.value||"";return n.length||(n=null),n}e.fn.serializeObject=function(){"use strict";var a={},t=function t(_t,i){var o=a[i.name];"undefined"!=typeof o&&null!==o?e.isArray(o)?o.push(n(i)):a[i.name]=[o,n(i)]:a[i.name]=n(i)};return e.each(this.serializeArray(),t),a}}(jQuery);