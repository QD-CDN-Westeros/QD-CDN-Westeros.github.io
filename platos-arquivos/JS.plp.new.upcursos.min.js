/* MEWTWO - 07/08/2020 11:58:14 GMT */
"use strict";(function(){try{var UpCursos={init:function init(){UpCursos.bringAllCourses();UpCursos.removeBgOverlay()},bgOverlay:"mz-modal-on",showModal:function showModal(){$(document.body).addClass(UpCursos.bgOverlay)},removeBgOverlay:function removeBgOverlay(){var wrapper=$(".mz-upcmodal");$(".mz-modal__close button, .mz-bgoverlay").click(function(){$(document.body).removeClass(UpCursos.bgOverlay);wrapper.find(".info-course").empty();wrapper.find(".info-area").empty();wrapper.find(".info-charge").empty();wrapper.find(".info-subjects").empty()})},bringAllCourses:function bringAllCourses(){var urlTarget;var routeAPI="/api/dataentities/adminlpcursos/search?_schema=mz-body&categoria=";var listCategories={aev:"agricultura-e-veterinaria",css:"ciencias-sociais-servicos-e-outros",cet:"ciencias-exatas-e-tecnologia",cah:"comunicacao-artes-e-humanidades",dto:"direito",eco:"educacao",eea:"engenharia-e-arquitetura",see:"saude-esporte-e-estetica",nma:"negocio-mba",med:"mestrado-e-doutorado"};urlTarget=routeAPI+listCategories.aev;var wrapperAEV=$("#mz-aev");$.ajax({type:"GET",method:"GET",url:urlTarget,dataType:"json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8","REST-Range":"resources=0-4"}}).done(function(response){if(!response.length){return}var listCourses=response;listCourses.forEach(function(item){var thisCourseElement=UpCursos.renderCourse(item.id,item.curso,item.imagemthumb);wrapperAEV.append(thisCourseElement)})});urlTarget=routeAPI+listCategories.css;var wrapperCSS=$("#mz-css");$.ajax({type:"GET",method:"GET",url:urlTarget,dataType:"json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8","REST-Range":"resources=0-4"}}).done(function(response){if(!response.length){return}var listCourses=response;listCourses.forEach(function(item){var thisCourseElement=UpCursos.renderCourse(item.id,item.curso,item.imagemthumb);wrapperCSS.append(thisCourseElement)})});urlTarget=routeAPI+listCategories.cet;var wrapperCET=$("#mz-cet");$.ajax({type:"GET",method:"GET",url:urlTarget,dataType:"json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8","REST-Range":"resources=0-4"}}).done(function(response){if(!response.length){return}var listCourses=response;listCourses.forEach(function(item){var thisCourseElement=UpCursos.renderCourse(item.id,item.curso,item.imagemthumb);wrapperCET.append(thisCourseElement)})});urlTarget=routeAPI+listCategories.cah;var wrapperCAH=$("#mz-cha");$.ajax({type:"GET",method:"GET",url:urlTarget,dataType:"json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8","REST-Range":"resources=0-4"}}).done(function(response){if(!response.length){return}var listCourses=response;listCourses.forEach(function(item){var thisCourseElement=UpCursos.renderCourse(item.id,item.curso,item.imagemthumb);wrapperCAH.append(thisCourseElement)})});urlTarget=routeAPI+listCategories.dto;var wrapperDTO=$("#mz-dto");$.ajax({type:"GET",method:"GET",url:urlTarget,dataType:"json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8","REST-Range":"resources=0-4"}}).done(function(response){if(!response.length){return}var listCourses=response;listCourses.forEach(function(item){var thisCourseElement=UpCursos.renderCourse(item.id,item.curso,item.imagemthumb);wrapperDTO.append(thisCourseElement)})});urlTarget=routeAPI+listCategories.eco;var wrapperECO=$("#mz-eco");$.ajax({type:"GET",method:"GET",url:urlTarget,dataType:"json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8","REST-Range":"resources=0-4"}}).done(function(response){if(!response.length){return}var listCourses=response;listCourses.forEach(function(item){var thisCourseElement=UpCursos.renderCourse(item.id,item.curso,item.imagemthumb);wrapperECO.append(thisCourseElement)})});urlTarget=routeAPI+listCategories.eea;var wrapperEEA=$("#mz-eea");$.ajax({type:"GET",method:"GET",url:urlTarget,dataType:"json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8","REST-Range":"resources=0-4"}}).done(function(response){if(!response.length){return}var listCourses=response;listCourses.forEach(function(item){var thisCourseElement=UpCursos.renderCourse(item.id,item.curso,item.imagemthumb);wrapperEEA.append(thisCourseElement)})});urlTarget=routeAPI+listCategories.see;var wrapperSEE=$("#mz-see");$.ajax({type:"GET",method:"GET",url:urlTarget,dataType:"json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8","REST-Range":"resources=0-4"}}).done(function(response){if(!response.length){return}var listCourses=response;listCourses.forEach(function(item){var thisCourseElement=UpCursos.renderCourse(item.id,item.curso,item.imagemthumb);wrapperSEE.append(thisCourseElement)})});urlTarget=routeAPI+listCategories.nma;var wrapperNMA=$("#mz-nma");$.ajax({type:"GET",method:"GET",url:urlTarget,dataType:"json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8","REST-Range":"resources=0-4"}}).done(function(response){if(!response.length){return}var listCourses=response;listCourses.forEach(function(item){var thisCourseElement=UpCursos.renderCourse(item.id,item.curso,item.imagemthumb);wrapperNMA.append(thisCourseElement)})});urlTarget=routeAPI+listCategories.med;var wrapperMED=$("#mz-med");var showMoreMED=$("#mz-show-more-med");$.ajax({type:"GET",method:"GET",url:urlTarget,dataType:"json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8","REST-Range":"resources=0-4"}}).done(function(response){if(!response.length){return}var listCourses=response;listCourses.forEach(function(item){var thisCourseElement=UpCursos.renderCourse(item.id,item.curso,item.imagemthumb);wrapperMED.append(thisCourseElement)})});setTimeout(function(){UpCursos.showMoreCourses();UpCursos.showDetailsCourse()},500)},showMoreCourses:function showMoreCourses(){$(".container > a[data-categories]").click(function(){var $t=$(this);var thisCategorie=$t.attr("data-categories");var thisUrl="/api/dataentities/adminlpcursos/search?_schema=mz-body&categoria=".concat(thisCategorie);var thisWrapper=$t.prev();$.ajax({type:"GET",method:"GET",url:thisUrl,dataType:"json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8","REST-Range":"resources=4-1000"}}).done(function(response){if(!response.length){return}var listCourses=response;listCourses.forEach(function(item){var thisCourseElement=UpCursos.renderCourse(item.id,item.curso,item.imagemthumb);thisWrapper.append(thisCourseElement)})})})},showDetailsCourse:function showDetailsCourse(){var thisButtonDetails=$(".mz-courses__text .mz-courses__text--details");thisButtonDetails.click(function(){var $t=$(this);var thisId=$t.closest(".mz-courses").find(".mz-courses__indentificator").text();var thisUrl="/api/dataentities/adminlpcursos/search?_schema=mz-body&id=".concat(thisId);$.ajax({type:"GET",method:"GET",url:thisUrl,dataType:"json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"}}).done(function(response){var thisData=response[0];UpCursos.setDetailsInModal(thisData);UpCursos.showModal()})})},setDetailsInModal:function setDetailsInModal(courseInfos){var wrapper=$(".mz-upcmodal__details--infos");var regex=/,/g;var listSubject=courseInfos.disciplinas.split(regex);wrapper.find(".info-course").text(courseInfos.curso);wrapper.find(".info-area").text(courseInfos.area);wrapper.find(".info-charge").text(courseInfos.carga);listSubject.forEach(function(item){var thisLI=$("<li></li>");var thisItem=item.trim();thisLI.text(thisItem);wrapper.find(".info-subjects").append(thisLI)})},renderCourse:function renderCourse(id,curso,imagemUrl){var course='\n                    <div class="col-md-3">\n                        <div class="mz-courses">\n                            <span class="mz-courses__indentificator hide">'.concat(id,'</span>\n                            <div class="mz-courses__image">\n                                <img src="https://portalpos2.vteximg.com.br/arquivos/').concat(imagemUrl,'" />\n                            </div>\n                            <div class="mz-courses__text">\n                                <h3>').concat(curso,'</h3>\n                                <a class="mz-courses__text--details">Veja detalhes do curso</a>\n                                <a class="mz-courses__text--register">Inscreve-se!</a>\n                            </div>\n                        </div>\n                    </div>\n                ');return course}};UpCursos.init()}catch(e){console.log(e)}})();